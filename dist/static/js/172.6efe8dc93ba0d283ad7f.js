webpackJsonp([172,269],{47:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={PROCENTERTREE:{name:"tac4MBKgFxtkOyGS5xolDBVgEEqR4_j",methods:{LISTCATEGIRY:"N4VlGazqhEV4O7p5tFECXLmvbMA87jp"}},PROCENTERCATEGORY:{name:"UXCW5_FfDpVAC4RS04cKtoUQPAo0Ct1bM6DkpEzEh-tmghj",methods:{CATEGORY:"P5ZnSOIfU9FZfG5oeLRcGlaqV3mIzl0g-JG"}},PROCENTERDEPLOYLIST:{name:"kahC43ofmx3VBfYN4D86B0aWN7xyrzY",methods:{DEPLOYLIST:"5k_j_P_WD8RwL8UqaGgemLL",PRODIAGRAM:"ocM-RfcwmwgITykyYSQX_K9vYW-g7j.vb43",FLOWLIST:"Hi_a7GN6TG85Q0RgZpY",PROCESSDETAIL:"h9Gn7JK_3a-JnhpyXXPI7xixH31",GETUSERTASKSWEB:"9bMs6cQMGe_LEaZPtnQU6_k",PROCESSNAME:"bzPfRPsZAIkInrHzR0Ww3jYQ_-B",PROCESSINSTSWEB:"mN-bBZSV7j6gslGBe2R8YAd8iBn",HISTORYPROCESSINSTSWEB:"NXGklFkG5yvT_vupqPexl6hpmeFSq4FqJKrsYWV",QUERYPROCINFOBYSTARTER:"qKH0uUvM502z9e4Eh-3Dbw24I34XnWxYXfCtGiH5-Nk",RETRIEVEPROCESSPICTURE:"caQX8iZlaSbYUOb-Wad-zIItpQHKCn-OTEy",GETACTIVITUINFO:"UwqvS8Ww3OrN3ZNE8PbR9gnMv-gwilk"}},PROCENTERDEPLOYCTL:{name:"ubBdWrXdnC-1cRnPgZs7CXA6xZRnzF0",methods:{SUSPENDPROCDEF:"5nyeHyB7ZEuri3TpRh3tD0d",ACTIVATEPROCDEF:"fcpjGsaCz11JaX2oP0Tevt2",SUSPENDPROCESS:"IiBNEwBUZHvaZEd884hkl9s",ACTIVAREPROCESS:"r-jGv4CJ2_eJr8ju5dL55tG",UPDATEASSIGNEE:"vhuF2ysepV8qxRGxwy2tauE",STARTPROCESS:"ufxCx62mvy5O56qyW1J",COMPLETETASK:"zxbXS3heSFwAqv910ZQ"}},PROCENTERDEPLOY:{name:"75HlZS4nGZjFaJVfcJTtxqRfF8pIixrHj8VLVGRXNwD",methods:{DEPLOYBYZIP:"3qjAn-cqKdzGCqqoRdo"}},USERINFODATD:{name:"VVFThqq6Am6swm_FAiqN6rrCR46gTZuiCR5qQ5N",methods:{ACOUNT:"1zrMMREJIKUfTbFF_QMtddb",FINDUIDBYNAME:"rWhkvIhueB4zmbk3Mhcl3hYq2q5"}},SYSTEMCODE:{name:"6ke2igQ72I0buaw0iMB5QK05wLEnhMQ7HuZlwSYYzEgGJCu",methods:{GETSYSTEMCODE:"MXXlQL4yf_XaY2HZLHGADkzYymPhjUU-DJJ"}},SUPPLIERSHOP:{name:"a4huh3BDf-pU0emKmyu7Fiwcu9ytbRyd6R4fJGCtTE1xcMLdnKS",methods:{GETSUPPSHOPPERSONS:"CxHWEqtWE6yKZEE5n1c"}},IMPOWERSERVICE:{name:"ubBdWrXdnC-1cRnPgZs7CXA6xZRnzF0",methods:{CREATEAGENCY:"2M_S3N4E_Qzk9CCpO9CH9-BA6UT",IMPOWERLIST:"lbZvPBChkehHxtjvcDe8L2Nru8y",DELETEAGENCY:"D0zKDUrN3VmS8o2xeDh7_Lp0ynf"}},CATEGORY:{name:"U_Uwpq1EYRL1nw5uYeS5kdEskn_Q26K",methods:{CREATEGATEGORY:"GcageCv_T_wEaS93LLdsdPRWUUaJJgn",SEARCHCATEGORY:"RdOLFf_hAyM7bPId_uCSRjTPLNEjzon",UPDATECATEGORY:"QoonamrRzgeZFpbXCmQoInbZS4QspJB",UPDATECATEGORYSTATUS:"yB143AKgQw4gHnW9m1GiYUYopvSv7Hm-loDD7tS",TREE:"0AQQGTyJIyMNDgtJ3doayCo38O1cYfXK-mm",CATEGORYPIDS:"MCOWT8SpIDi_P6nikI18e4QgTv1zrDd"}},WORKFLOW:{name:"pQXz7EdPwVrOsEK1WynO21gH--Bnbyi",methods:{LISTPROCESSCATEGORY:"C66IFbiHFe-Mzok0JHNlOoss0N9MWcx2wlW",QUERYPROCESS:"fjlUgmlG7zLURjhrVAcT6lWX8h2",UPDATEPROCESS:"2fjRpZj6xhUBfZFOiDLHxViZvIdeD4E",INSERTPROCESS:"PUVDPQo7aFEVTLG5rTDmohGmzmNfs.r",DELPROCESS:"LdVSoc43wGHYZrRy2pW2VzLdDm_",GETONEPROCESS:"sk62c1hvoLkHg4t51EUUH-WLmyaFBsP",GETCATEGORIES:"Y0i3HqIGSslCeEP0Vwilsqqj3ytq-.M",GETPROCBPMINFOS:"I85ObDNhRvd-fAt0VDczbxoOUv-7gaJ",CREATEPROCBPMINFO:"MWVWMmrbKm9TJFAFx5m5eIk6fvKzSgTIaqx",UPDATEPROCBPMINFO:"TZEGAo_fQ4jWF59EH21rlLTqTMHWhQw6Iut",GETPROCBPMINFOVERSIONS:"5U0yq2AIsSnb6QlkuMuoGsMph2RqGhk-8lE37a-uTcO",UPDATERUNBPM:"THUHVn_jPO9hEb5LDaDHHkxWj-l",OUTPUTPROCINFO:"msrZf5Q1ZsK8hPxa9J7R4e6ZrwbqD2G"}},ProcessInsService:{name:"tac4MBKgFxtkOyGS5xolDBVgEEqR4_j",methods:{getProcessInsts:"ouPCdbPwR9KlvisnAd8UAhC"}}}},78:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(a(1)),r=n(a(47));t.default={listCategory:function(e){return(0,o.default)({method:r.default.PROCENTERTREE.methods.LISTCATEGIRY,service:r.default.PROCENTERTREE.name,args:e})},getProCategory:function(e){return(0,o.default)({method:r.default.PROCENTERCATEGORY.methods.CATEGORY,service:r.default.PROCENTERCATEGORY.name,args:e})},getDeployLists:function(e){return(0,o.default)({method:r.default.PROCENTERDEPLOYLIST.methods.DEPLOYLIST,service:r.default.PROCENTERDEPLOYLIST.name,args:e})},FLOWLIST:function(e){return(0,o.default)({method:r.default.PROCENTERDEPLOYLIST.methods.FLOWLIST,service:r.default.PROCENTERDEPLOYLIST.name,args:e})},suspendProcDef:function(e){return(0,o.default)({method:r.default.PROCENTERDEPLOYCTL.methods.SUSPENDPROCDEF,service:r.default.PROCENTERDEPLOYCTL.name,args:e})},activateProcDef:function(e){return(0,o.default)({method:r.default.PROCENTERDEPLOYCTL.methods.ACTIVATEPROCDEF,service:r.default.PROCENTERDEPLOYCTL.name,args:e})},deleteProcess:function(e){return(0,o.default)({method:r.default.PROCENTERDEPLOYCTL.methods.DELETEPROCESS,service:r.default.PROCENTERDEPLOYCTL.name,args:e})},getProDiagram:function(e){return(0,o.default)({method:r.default.PROCENTERDEPLOYLIST.methods.PRODIAGRAM,service:r.default.PROCENTERDEPLOYLIST.name,args:e})},deployProcess:function(e){return(0,o.default)({method:r.default.PROCENTERDEPLOY.methods.DEPLOYBYZIP,service:r.default.PROCENTERDEPLOY.name,args:e})},getProcNames:function(e){return(0,o.default)({method:r.default.PROCENTERDEPLOYLIST.methods.PROCESSNAME,service:r.default.PROCENTERDEPLOYLIST.name,args:e})},getDeployList:function(e){return(0,o.default)({method:r.default.PROCENTERDEPLOYLIST.methods.GETUSERTASKS,service:r.default.PROCENTERDEPLOYLIST.name,args:e})},suspendProcess:function(e){return(0,o.default)({method:r.default.PROCENTERDEPLOYCTL.methods.SUSPENDPROCESS,service:r.default.PROCENTERDEPLOYCTL.name,args:e})},activateProcess:function(e){return(0,o.default)({method:r.default.PROCENTERDEPLOYCTL.methods.ACTIVAREPROCESS,service:r.default.PROCENTERDEPLOYCTL.name,args:e})},getProcessDetail:function(e){return(0,o.default)({method:r.default.PROCENTERDEPLOYLIST.methods.PROCESSDETAIL,service:r.default.PROCENTERDEPLOYLIST.name,args:e})},getUserinfoName:function(e){return(0,o.default)({method:r.default.USERINFODATD.methods.ACOUNT,service:r.default.USERINFODATD.name,args:e})},getSystemCode:function(e){return(0,o.default)({method:r.default.SYSTEMCODE.methods.GETSYSTEMCODE,service:r.default.SYSTEMCODE.name,args:e})},getProcessInsts:function(e){return(0,o.default)({method:r.default.PROCENTERDEPLOYLIST.methods.PROCESSINSTS,service:r.default.PROCENTERDEPLOYLIST.name,args:e})},getHistoricProcessInsts:function(e){return(0,o.default)({method:r.default.PROCENTERDEPLOYLIST.methods.HISTORYPROCESSINSTS,service:r.default.PROCENTERDEPLOYLIST.name,args:e})},getSupperShop:function(e){return(0,o.default)({method:r.default.SUPPLIERSHOP.methods.GETSUPPSHOPPERSONS,service:r.default.SUPPLIERSHOP.name,args:e})},updateAssignee:function(e){return(0,o.default)({method:r.default.PROCENTERDEPLOYCTL.methods.UPDATEASSIGNEE,service:r.default.PROCENTERDEPLOYCTL.name,args:e})},getUserinfoByName:function(e){return(0,o.default)({method:r.default.USERINFODATD.methods.FINDUIDBYNAME,service:r.default.USERINFODATD.name,args:e})},impowerByAssigneeId:function(e){return(0,o.default)({method:r.default.IMPOWERSERVICE.methods.CREATEAGENCY,service:r.default.IMPOWERSERVICE.name,args:e})},impowerList:function(e){return(0,o.default)({method:r.default.IMPOWERSERVICE.methods.IMPOWERLIST,service:r.default.IMPOWERSERVICE.name,args:e})},cancelImpowerByRid:function(e){return(0,o.default)({method:r.default.IMPOWERSERVICE.methods.DELETEAGENCY,service:r.default.IMPOWERSERVICE.name,args:e})},createCategory:function(e){return(0,o.default)({method:r.default.CATEGORY.methods.CREATEGATEGORY,service:r.default.CATEGORY.name,args:e})},updateCategory:function(e){return(0,o.default)({method:r.default.CATEGORY.methods.UPDATECATEGORY,service:r.default.CATEGORY.name,args:e})},updateStatusCategory:function(e){return(0,o.default)({method:r.default.CATEGORY.methods.UPDATECATEGORYSTATUS,service:r.default.CATEGORY.name,args:e})},searchProCategory:function(e){return(0,o.default)({method:r.default.CATEGORY.methods.SEARCHCATEGORY,service:r.default.CATEGORY.name,args:e})},getCategoryTree:function(e){return(0,o.default)({method:r.default.CATEGORY.methods.TREE,service:r.default.CATEGORY.name,args:e})},getCategoryPid:function(e){return(0,o.default)({method:r.default.CATEGORY.methods.CATEGORYPIDS,service:r.default.CATEGORY.name,args:e})},startProcess:function(e){return(0,o.default)({method:r.default.PROCENTERDEPLOYCTL.methods.STARTPROCESS,service:r.default.PROCENTERDEPLOYCTL.name,args:e})},completeTask:function(e){return(0,o.default)({method:r.default.PROCENTERDEPLOYCTL.methods.COMPLETETASK,service:r.default.PROCENTERDEPLOYCTL.name,args:e})},retrieveProcessPicture:function(e){return(0,o.default)({method:r.default.PROCENTERDEPLOYLIST.methods.RETRIEVEPROCESSPICTURE,service:r.default.PROCENTERDEPLOYLIST.name,args:e})},getActivityInfo:function(e){return(0,o.default)({method:r.default.PROCENTERDEPLOYLIST.methods.GETACTIVITUINFO,service:r.default.PROCENTERDEPLOYLIST.name,args:e})}}},348:function(e,t){e.exports={columns:[{prop:"startTime",label:"授权开始时间",formatter:"dateParser"},{prop:"endTime",label:"授权结束时间",formatter:"dateParser"},{prop:"agencyName",label:"被授权人"},{prop:"procName",label:"授权流程"},{prop:"isDel",label:"状态",list:"status"}],selectSource:{procNames:[]},commonData:{status:[{text:"已撤销",value:1},{text:"运行中",value:0}]},breadcrumbData:[{title:"系统管理"},{title:"流程管理"},{title:"授权代理"}],officePerson:[{prop:"name",label:"用户名"},{prop:"phoneId",label:"手机号码"}],supShop:[{prop:"shopCode",label:"供应商编码"},{prop:"shopName",label:"供应商名称"},{prop:"shortTitle",label:"供应商简称"}]}},698:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(a(21)),r=n(a(47)),E=n(a(78)),s=n(a(6)),l=n(a(348)),i=n(a(2143));t.default={name:"page-pro-devolution",components:{ViewDevolutionDialog:i.default},data:function(){return{breadcrumbData:l.default.breadcrumbData,columns:l.default.columns,commonData:l.default.commonData,service:r.default.IMPOWERSERVICE.name,method:r.default.IMPOWERSERVICE.methods.IMPOWERLIST,args:{},dialogVisible:!1,viewDialogVisible:!1,detailData:[],treeData:[]}},created:function(){this.getProTreeData(),this.args.req={principal:parseInt(s.default.get("t8t-tc-uid"))}},watch:{},activated:function(){this.$refs.T8tTable.reloadTable()},methods:{authorize:function(){this.$router.push({path:"/procenter/page-pro-devolution/create",query:{treeData:(0,o.default)(this.treeData)}})},view_detail:function(){var e=this.$refs.T8tTable.getSelectRows();0==e.length||e.length>1?this.$message.error("请勾选单条记录进行操作！"):(this.detailData=e[0],this.viewDialogVisible=!0)},anti_authorize:function(){var e=this.$refs.T8tTable.getSelectRows();if(0==e.length||e.length>1)this.$message.error("请勾选单条记录进行操作！");else{var t={};t.uId=parseInt(s.default.get("t8t-tc-uid")),t.id=e[0].id,t.isBackGround=1;var a=this;this.$msgbox({title:"警告",type:"warning",message:"此操作授权人将无法处理此流程,请慎重操作!",confirmButtonText:"确定",confirmButtonClass:"is-plain",showCancelButton:!0,callback:function(e){"confirm"==e&&E.default.cancelImpowerByRid(t).then(function(e){200==e.data.status?(a.$msgbox({title:"消息",type:"success",message:"解除授权成功",showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"}),a.getTableData()):a.$message.error("解除授权失败")})}})}},getProTreeData:function(){var e=this,t=[];E.default.listCategory({}).then(function(a){if(200==a.status){var n=0,o=0;a.data.result.forEach(function(e,a){var r=[],E=(n=n+o+1)+2;e.processDefMsg.forEach(function(e,t){o=E+t,r.push({parentId:n+1,code:e.procKey,tenantId:e.tenantId,id:o,label:e.procName,open:!0,visible:!0,checked:!1})}),t.push({parentId:1,code:e.category,tenantId:e.tenantId,id:n+1,label:e.category,open:!1,visible:!0,checked:!1,children:r})}),e.treeData=t}})},getTableData:function(){this.$refs.T8tTable.reloadTable()},handleRowDbClick:function(){this.view_detail()}}}},700:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"devolution-dialog",props:{detailData:[Array]},data:function(){return{labelPosition:"right",formLabelWidth:"100px",showCheckbox:!0,formData:{userName:null,startTime:null,endTime:null,procName:null}}},created:function(){this.formData.userName=this.detailData.agencyName,this.formData.startTime=this.detailData.startTime,this.formData.endTime=this.detailData.endTime,this.formData.procName=this.detailData.procName},filters:{devolutionFliters:function(e){var t=new Date(1e3*e),a=t.getFullYear(),n=t.getMonth()+1,o=t.getDate(),r=t.getHours(),E=t.getMinutes();t.getSeconds();return a+"-"+(n<10?"0"+n:n)+"-"+(o<10?"0"+o:o)+" "+(r<10?"0"+r:r)+":"+(E<10?"0"+E:E)}},computed:{dialogVisible:function(){return!0}},methods:{btnCancleClick:function(){this.$emit("close")}}}},1304:function(e,t,a){(e.exports=a(2)()).push([e.id,"\n.devolution-dialog .el-dialog{\r\n    width: 450px;\n}\n.devolution-dialog .el-select-dropdown__wrap {\r\n    max-height: 185px !important;\n}\n.devolution-dialog .el-form-item__content {\r\n    width: 250px;\n}\n.devolution-dialog .el-select {\r\n    width: 100%;\n}\r\n",""])},1305:function(e,t,a){(e.exports=a(2)()).push([e.id,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},1750:function(e,t,a){var n=a(1304);"string"==typeof n&&(n=[[e.id,n,""]]);a(3)(n,{});n.locals&&(e.exports=n.locals)},1751:function(e,t,a){var n=a(1305);"string"==typeof n&&(n=[[e.id,n,""]]);a(3)(n,{});n.locals&&(e.exports=n.locals)},2141:function(e,t,a){var n=a(4)(a(698),a(2281),null,null);e.exports=n.exports},2143:function(e,t,a){a(1751),a(1750);var n=a(4)(a(700),a(2543),"data-v-b1c0e10e",null);e.exports=n.exports},2281:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-pro-devolution"},[a("t8t-breadcrumb",{attrs:{data:e.breadcrumbData}}),e._v(" "),a("t8t-toolbar",{on:{AUTHORIZE:e.authorize,VIEW:e.view_detail,"ANTI-AUTHORIZE":e.anti_authorize}}),e._v(" "),a("t8t-table",{ref:"T8tTable",attrs:{columns:e.columns,service:e.service,method:e.method,commonData:e.commonData,args:e.args},on:{"row-double-click":e.handleRowDbClick}}),e._v(" "),e.viewDialogVisible?a("view-devolution-dialog",{attrs:{detailData:e.detailData},on:{close:function(t){e.viewDialogVisible=!1}}}):e._e()],1)},staticRenderFns:[]}},2543:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"devolution-dialog",attrs:{title:"授权/代理详情"},on:{close:function(t){e.btnCancleClick()}},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t}}},[a("el-form",{ref:"devolutionForm",attrs:{"label-position":e.labelPosition,model:e.formData,"label-width":e.formLabelWidth},nativeOn:{keyup:function(t){if(e._k(t.keyCode,"enter",13))return null;e.btnOKClick()}}},[a("el-form-item",{attrs:{label:"被授权人:",prop:"userName"}},[e._v("\n               "+e._s(e.formData.userName)+"\n            ")]),e._v(" "),a("el-form-item",{attrs:{label:"授权时间:"}},[e._v("\n                "+e._s(e._f("devolutionFliters")(e.formData.startTime))+" \n                至\n                "+e._s(e._f("devolutionFliters")(e.formData.endTime))+"\n            ")]),e._v(" "),a("el-form-item",{attrs:{label:"授权内容:",prop:"ProcName"}},[e._v("\n                "+e._s(e.formData.procName)+"\n            ")])],1),e._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(t){e.btnCancleClick()}}},[e._v("关闭")])],1)],1)],1)},staticRenderFns:[]}}});