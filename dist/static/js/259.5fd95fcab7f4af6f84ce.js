webpackJsonp([259,269],{47:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={PROCENTERTREE:{name:"tac4MBKgFxtkOyGS5xolDBVgEEqR4_j",methods:{LISTCATEGIRY:"N4VlGazqhEV4O7p5tFECXLmvbMA87jp"}},PROCENTERCATEGORY:{name:"UXCW5_FfDpVAC4RS04cKtoUQPAo0Ct1bM6DkpEzEh-tmghj",methods:{CATEGORY:"P5ZnSOIfU9FZfG5oeLRcGlaqV3mIzl0g-JG"}},PROCENTERDEPLOYLIST:{name:"kahC43ofmx3VBfYN4D86B0aWN7xyrzY",methods:{DEPLOYLIST:"5k_j_P_WD8RwL8UqaGgemLL",PRODIAGRAM:"ocM-RfcwmwgITykyYSQX_K9vYW-g7j.vb43",FLOWLIST:"Hi_a7GN6TG85Q0RgZpY",PROCESSDETAIL:"h9Gn7JK_3a-JnhpyXXPI7xixH31",GETUSERTASKSWEB:"9bMs6cQMGe_LEaZPtnQU6_k",PROCESSNAME:"bzPfRPsZAIkInrHzR0Ww3jYQ_-B",PROCESSINSTSWEB:"mN-bBZSV7j6gslGBe2R8YAd8iBn",HISTORYPROCESSINSTSWEB:"NXGklFkG5yvT_vupqPexl6hpmeFSq4FqJKrsYWV",QUERYPROCINFOBYSTARTER:"qKH0uUvM502z9e4Eh-3Dbw24I34XnWxYXfCtGiH5-Nk",RETRIEVEPROCESSPICTURE:"caQX8iZlaSbYUOb-Wad-zIItpQHKCn-OTEy",GETACTIVITUINFO:"UwqvS8Ww3OrN3ZNE8PbR9gnMv-gwilk"}},PROCENTERDEPLOYCTL:{name:"ubBdWrXdnC-1cRnPgZs7CXA6xZRnzF0",methods:{SUSPENDPROCDEF:"5nyeHyB7ZEuri3TpRh3tD0d",ACTIVATEPROCDEF:"fcpjGsaCz11JaX2oP0Tevt2",SUSPENDPROCESS:"IiBNEwBUZHvaZEd884hkl9s",ACTIVAREPROCESS:"r-jGv4CJ2_eJr8ju5dL55tG",UPDATEASSIGNEE:"vhuF2ysepV8qxRGxwy2tauE",STARTPROCESS:"ufxCx62mvy5O56qyW1J",COMPLETETASK:"zxbXS3heSFwAqv910ZQ"}},PROCENTERDEPLOY:{name:"75HlZS4nGZjFaJVfcJTtxqRfF8pIixrHj8VLVGRXNwD",methods:{DEPLOYBYZIP:"3qjAn-cqKdzGCqqoRdo"}},USERINFODATD:{name:"VVFThqq6Am6swm_FAiqN6rrCR46gTZuiCR5qQ5N",methods:{ACOUNT:"1zrMMREJIKUfTbFF_QMtddb",FINDUIDBYNAME:"rWhkvIhueB4zmbk3Mhcl3hYq2q5"}},SYSTEMCODE:{name:"6ke2igQ72I0buaw0iMB5QK05wLEnhMQ7HuZlwSYYzEgGJCu",methods:{GETSYSTEMCODE:"MXXlQL4yf_XaY2HZLHGADkzYymPhjUU-DJJ"}},SUPPLIERSHOP:{name:"a4huh3BDf-pU0emKmyu7Fiwcu9ytbRyd6R4fJGCtTE1xcMLdnKS",methods:{GETSUPPSHOPPERSONS:"CxHWEqtWE6yKZEE5n1c"}},IMPOWERSERVICE:{name:"ubBdWrXdnC-1cRnPgZs7CXA6xZRnzF0",methods:{CREATEAGENCY:"2M_S3N4E_Qzk9CCpO9CH9-BA6UT",IMPOWERLIST:"lbZvPBChkehHxtjvcDe8L2Nru8y",DELETEAGENCY:"D0zKDUrN3VmS8o2xeDh7_Lp0ynf"}},CATEGORY:{name:"U_Uwpq1EYRL1nw5uYeS5kdEskn_Q26K",methods:{CREATEGATEGORY:"GcageCv_T_wEaS93LLdsdPRWUUaJJgn",SEARCHCATEGORY:"RdOLFf_hAyM7bPId_uCSRjTPLNEjzon",UPDATECATEGORY:"QoonamrRzgeZFpbXCmQoInbZS4QspJB",UPDATECATEGORYSTATUS:"yB143AKgQw4gHnW9m1GiYUYopvSv7Hm-loDD7tS",TREE:"0AQQGTyJIyMNDgtJ3doayCo38O1cYfXK-mm",CATEGORYPIDS:"MCOWT8SpIDi_P6nikI18e4QgTv1zrDd"}},WORKFLOW:{name:"pQXz7EdPwVrOsEK1WynO21gH--Bnbyi",methods:{LISTPROCESSCATEGORY:"C66IFbiHFe-Mzok0JHNlOoss0N9MWcx2wlW",QUERYPROCESS:"fjlUgmlG7zLURjhrVAcT6lWX8h2",UPDATEPROCESS:"2fjRpZj6xhUBfZFOiDLHxViZvIdeD4E",INSERTPROCESS:"PUVDPQo7aFEVTLG5rTDmohGmzmNfs.r",DELPROCESS:"LdVSoc43wGHYZrRy2pW2VzLdDm_",GETONEPROCESS:"sk62c1hvoLkHg4t51EUUH-WLmyaFBsP",GETCATEGORIES:"Y0i3HqIGSslCeEP0Vwilsqqj3ytq-.M",GETPROCBPMINFOS:"I85ObDNhRvd-fAt0VDczbxoOUv-7gaJ",CREATEPROCBPMINFO:"MWVWMmrbKm9TJFAFx5m5eIk6fvKzSgTIaqx",UPDATEPROCBPMINFO:"TZEGAo_fQ4jWF59EH21rlLTqTMHWhQw6Iut",GETPROCBPMINFOVERSIONS:"5U0yq2AIsSnb6QlkuMuoGsMph2RqGhk-8lE37a-uTcO",UPDATERUNBPM:"THUHVn_jPO9hEb5LDaDHHkxWj-l",OUTPUTPROCINFO:"msrZf5Q1ZsK8hPxa9J7R4e6ZrwbqD2G"}},ProcessInsService:{name:"tac4MBKgFxtkOyGS5xolDBVgEEqR4_j",methods:{getProcessInsts:"ouPCdbPwR9KlvisnAd8UAhC"}}}},79:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(76)),r=a(n(1)),s=a(n(47));t.default={obtainCategory:function(e){return(0,r.default)({method:s.default.WORKFLOW.methods.LISTPROCESSCATEGORY,service:s.default.WORKFLOW.name,args:e})},queryProcess:function(e){return(0,r.default)({method:s.default.WORKFLOW.methods.QUERYPROCESS,service:s.default.WORKFLOW.name,args:e})},editProcess:function(e){return(0,r.default)({method:s.default.WORKFLOW.methods.UPDATEPROCESS,service:s.default.WORKFLOW.name,args:e})},createProcess:function(e){return(0,r.default)({method:s.default.WORKFLOW.methods.INSERTPROCESS,service:s.default.WORKFLOW.name,args:e})},toggleProcess:function(e){return(0,r.default)({method:s.default.WORKFLOW.methods.DELPROCESS,service:s.default.WORKFLOW.name,args:e})},findProcess:function(e){return(0,r.default)({method:s.default.WORKFLOW.methods.GETONEPROCESS,service:s.default.WORKFLOW.name,args:e})},getAllCategories:function(e){return(0,r.default)({method:s.default.WORKFLOW.methods.GETCATEGORIES,service:s.default.WORKFLOW.name,args:e})},createProcBpmInfo:function(e){return(0,r.default)({method:s.default.WORKFLOW.methods.CREATEPROCBPMINFO,service:s.default.WORKFLOW.name,args:e})},updateProcBpmInfo:function(e){return(0,r.default)({method:s.default.WORKFLOW.methods.UPDATEPROCBPMINFO,service:s.default.WORKFLOW.name,args:e})},getProcBpmInfos:function(e){return(0,r.default)({method:s.default.WORKFLOW.methods.GETPROCBPMINFOS,service:s.default.WORKFLOW.name,args:e})},getProcBpmInfoVersions:function(e){return(0,r.default)({method:s.default.WORKFLOW.methods.GETPROCBPMINFOVERSIONS,service:s.default.WORKFLOW.name,args:e})},updateRunBpm:function(e){return(0,r.default)({method:s.default.WORKFLOW.methods.UPDATERUNBPM,service:s.default.WORKFLOW.name,args:e})},outputProcInfo:function(e){return(0,r.default)({method:s.default.WORKFLOW.methods.OUTPUTPROCINFO,service:s.default.WORKFLOW.name,args:e})},getProcessInsts:function(e){return(0,r.default)({service:s.default.ProcessInsService.name,method:s.default.ProcessInsService.methods.getProcessInsts,args:e})},getBusinessKeyByProcInsId:function(e){var t=this;return new o.default(function(n,a){t.getProcessInsts({query:{procInsId:e,page:1,size:1}}).then(function(e){200==e.data.status?e.data.result&&e.data.result.result&&e.data.result.result.length>0&&n(e.data.result.result[0].businessKey):a(0)}).catch(function(e){a(0)})})}}},680:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(79)),r=a(n(20));t.default={data:function(){return{downloadLink:"javascript:;",baseUrl:"https://scmgw.to8to.com/?action=file&path=",resourceId:"",dialogVisible:!1,dialogMessage:"",procName:"",id:"",userId:Cookie.get("t8t-tc-uid"),ticket:Cookie.get("t8t-tc-ticket"),breadcrumbData:[{title:"系统管理"},{title:"流程管理后台"},{title:"流程管理"},{title:"版本管理"},{title:"编辑"}],params:{bucket:"scm",module:"workflow"},uploadURL:r.default.getUploadURL(),ruleForm:{symbol:"",desc:""},rules:{symbol:[{required:!0,message:"请输入版本唯一标识键",trigger:"blur"}],desc:[{required:!0,message:"请对本版本修改作必要说明",trigger:"blur"}]}}},methods:{backToPreUrl:function(){this.dialogVisible=!1,this.$router.go(-1)},submitForm:function(e){var t=this,n=!1;if(this.$refs[e].validate(function(e){n=e}),!n)return!1;var a={req:{id:this.id,description:this.ruleForm.desc}};o.default.updateProcBpmInfo(a).then(function(e){var n=e.data;if(n){if(1==n.result&&200==n.status)t.dialogMessage="新建版本成功！",t.dialogVisible=!0;else{var a=n.message;t.$message(a)}}else t.$message("服务请求失败！")})},resetForm:function(e){this.$refs[e].resetFields()},getCurrentVersionInfo:function(){var e=this,t={search:{id:this.id},page:1,size:1};o.default.getProcBpmInfos(t).then(function(t){var n=t.data;if(200==n.status){var a=n.result.rows[0];e.resourceId=a.bpmUrl,e.downloadLink=e.baseUrl+e.resourceId,e.ruleForm.desc=a.description}else e.$message("版本信息获取失败!")})}},created:function(){var e=this.$route.query;"id"in e&&(this.id=e.id),"procName"in e&&(this.procName=e.procName),"key"in e&&(this.ruleForm.symbol=e.key),this.getCurrentVersionInfo()},computed:{classification:function(){return ruleForm.desc}},components:{},name:"edit-bpm"}},1115:function(e,t,n){(e.exports=n(2)()).push([e.id,'\n.el-select .el-input[data-v-405c7303] {\n    width: 110px;\n}\n.form-area[data-v-405c7303]{\n    width: 40%;\n    margin: 20px;\n    padding: 20px 10px;\n    border: 1px solid #d6d6d6;\n}\n.submit-area[data-v-405c7303]{\n    text-align: center;\n}\n.submitButton[data-v-405c7303]{\n    width: 100px;\n}\n.el-form-item .el-form-item__content .el-textarea textarea[data-v-405c7303]{\n    max-height: 100px;\n}\n.download-section[data-v-405c7303]{\n    width: 100%;\n    position: relative;\n    height: 33.8px;\n    margin-bottom: 18px;\n}\n.download-section .download-tag[data-v-405c7303]{\n    width: 100px;\n    text-align: right;\n    vertical-align: middle;\n    float: left;\n    font-size: 12px;\n    color: #48576a;\n    line-height: 1;\n    padding: 11px 12px 11px 0;\n    box-sizing: border-box;\n}\n.download-section .download-link[data-v-405c7303]{\n    margin-left: 100px;\n    line-height: 32px;\n    position: relative;\n    color: #48556a;\n    font-family: "Helvetica Neue", "PingFang SC", "Microsoft YaHei", Arial, sans-serif;\n    font-size: 12px;\n}\n.download-section .download-link a[data-v-405c7303]{\n    text-decoration: none;\n    color: white;\n    padding: 7px 9px;\n    border: 1px solid #20a0ff;\n    border-radius: 4px;\n    background-color: #20a0ff;\n    opacity: 0.8;\n}\n.download-section[data-v-405c7303]{\n    width: 100%;\n    position: relative;\n    height: 33.8px;\n    margin-bottom: 18px;\n}\n.download-section .download-tag[data-v-405c7303]{\n    width: 100px;\n    text-align: right;\n    vertical-align: middle;\n    float: left;\n    font-size: 12px;\n    color: #48576a;\n    line-height: 1;\n    padding: 11px 12px 11px 0;\n    box-sizing: border-box;\n}\n.download-section .download-link[data-v-405c7303]{\n    margin-left: 100px;\n    line-height: 32px;\n    position: relative;\n    color: #48556a;\n    font-family: "Helvetica Neue", "PingFang SC", "Microsoft YaHei", Arial, sans-serif;\n    font-size: 12px;\n}\n.download-section .download-link a[data-v-405c7303]{\n    text-decoration: none;\n    color: white;\n    padding: 7px 9px;\n    border: 1px solid #20a0ff;\n    border-radius: 4px;\n    background-color: #20a0ff;\n    opacity: 0.8;\n}\n.download-section .download-link a[data-v-405c7303]:hover{\n    opacity: 1;\n}\n',""])},1561:function(e,t,n){var a=n(1115);"string"==typeof a&&(a=[[e.id,a,""]]);n(3)(a,{});a.locals&&(e.exports=a.locals)},2123:function(e,t,n){n(1561);var a=n(4)(n(680),n(2388),"data-v-405c7303",null);e.exports=a.exports},2388:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("t8t-breadcrumb",{attrs:{data:e.breadcrumbData}}),e._v(" "),n("div",{staticClass:"form-area"},[n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"版本名称",prop:""}},[n("el-input",{attrs:{value:e.procName,disabled:!0}})],1),e._v(" "),n("el-form-item",{attrs:{label:"标识键",prop:"symbol"}},[n("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.symbol,callback:function(t){e.ruleForm.symbol=t}}})],1),e._v(" "),n("div",{staticClass:"download-section"},[n("label",{staticClass:"download-tag"},[e._v("\n                    流程图\n                ")]),e._v(" "),n("div",{staticClass:"download-link"},[n("a",{attrs:{href:e.downloadLink}},[e._v("\n                        版本下载\n                        "),n("svg",{staticClass:"icon",staticStyle:{width:"12px",height:"12px","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M891.008 360.064c-3.232-128.704-108.448-232.064-237.856-232.064-75.808 0-143.264 35.488-186.848 90.72-24.448-31.584-62.688-51.968-105.696-51.968-73.824 0-133.632 59.872-133.632 133.728 0 6.432 0.48 12.768 1.376 18.944-11.232-2.016-22.752-3.136-34.56-3.136-107.008 0-193.728 86.784-193.728 193.856s86.72 193.856 193.728 193.856l91.776 0 226.496 234.496 226.496-234.496 111.488 0c96.128-0.192 174.016-78.208 174.016-174.432 0-82.08-56.672-150.912-132.992-169.472zM512 832l-192-192 128 0 0-192 128 0 0 192 128 0-192 192z"}})])])])]),e._v(" "),n("el-form-item",{attrs:{label:"说明",prop:"desc"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.desc,callback:function(t){e.ruleForm.desc=t}}})],1),e._v(" "),n("el-form-item",{staticClass:"submit-area"},[n("el-button",{staticClass:"submitButton",attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("更新")]),e._v(" "),n("el-button",{staticClass:"submitButton",attrs:{type:"primary"},on:{click:function(t){e.backToPreUrl()}}},[e._v("返回")])],1)],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"用户提示",size:"tiny"},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t}}},[n("span",[e._v(e._s(e.dialogMessage))]),e._v(" "),n("span",{staticClass:"dialog-footer",slot:"footer"},[n("el-button",{attrs:{type:"info"},on:{click:function(t){e.backToPreUrl()}}},[e._v("确认")])],1)])],1)},staticRenderFns:[]}}});