webpackJsonp([115,269],{5:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(1)),l=o(a(8));t.default={allSystemCodeList:function(e){return(0,n.default)({method:l.default.CONFIGURE.methods.SYS_CODE_LIST,service:l.default.CONFIGURE.name,args:e})},listNextLevelUnforbidden:function(e){return(0,n.default)({method:l.default.CONFIGURE.methods.LIST_UNFORBIDDEN,service:l.default.CONFIGURE.name,args:e})},queryUnionParent:function(e){return(0,n.default)({method:l.default.SUPPLY_CONFIGURE.methods.queryUnionParent,service:l.default.SUPPLY_CONFIGURE.name,args:e})},queryPage:function(e){return(0,n.default)({method:l.default.SUPPLY_CONFIGURE.methods.QUERY_PAGE,service:l.default.SUPPLY_CONFIGURE.name,args:e})},queryShopUnion:function(e){return(0,n.default)({method:l.default.SUPPLY_CONFIGURE.methods.queryShopUnion,service:l.default.SUPPLY_CONFIGURE.name,args:e})},queryShop:function(e){return(0,n.default)({method:l.default.SUPPLY_CONFIGURE.methods.queryShop,service:l.default.SUPPLY_CONFIGURE.name,args:e})},queryByFunctionCode:function(e){return(0,n.default)({method:l.default.ORGANIZATION.methods.QUERY_BY_FUNCTIONCODE,service:l.default.ORGANIZATION.name,args:e})},queryAll:function(e){return(0,n.default)({method:l.default.ORGANIZATION.methods.ORG_QUERY,service:l.default.ORGANIZATION.name,args:e})},queryTreeByTypeAndFunction:function(e){return(0,n.default)({method:l.default.ORGANIZATION.methods.QUERY_TREE_FUNCTION,service:l.default.ORGANIZATION.name,args:e})},queryChildrenByWholeCode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return(0,n.default)({method:l.default.SUPPLY_CONFIGURE.methods.queryChildrenByWholeCode,service:l.default.SUPPLY_CONFIGURE.name,args:{wholeCode:e,depth:t}})},queryChildrenByWholeCodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return(0,n.default)({method:l.default.SUPPLY_CONFIGURE.methods.queryChildrenByWholeCodes,service:l.default.SUPPLY_CONFIGURE.name,args:{wholeCodes:e,depth:t}})},getAllQueue:function(){return(0,n.default)({method:l.default.EDA.methods.QUERY_QUEUE_QUERYQUEUES,service:l.default.EDA.name,args:{}})}}},8:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={CONFIGURE:{name:"OnLYil9jY0PiKilsavskNJvygGUxhME7eLPWccmGmYjb_ED",methods:{SYS_CODE_LIST:"vPnFi_QA4HeBWeU61ZjQPCn",LIST_UNFORBIDDEN:"vL0y_oFhAeDM3YTmFrp2oaHn1UDcQEzq1orWi41sEc2pVcjlpGN"}},SUPPLY_CONFIGURE:{name:"qVq5B_KUuBzTC3kyP9TiuA53IS1kiBn5fR5JVjR7fUS6nsTm4Zc",methods:{QUERY_PAGE:"Ewi6YId8aELgLHFBBSBMT4BvG3R",queryUnionParent:"5l6jR2KUJ4QdYxLFz0ZJGFy5XZkLajNNSEdLf0t",queryShopUnion:"zPrIoMCwO3geMqwnGH2Afs0w-7lpdva",queryShop:"4VE-APqV_Fs13Cswfj8",queryChildrenByWholeCode:"sDE1BauR-rhu_AU-6F9VF952lJ_JIl-r1QOnscFpFYW0GFS9p3nAG1z",queryChildrenByWholeCodes:"CEGKxWt_AJmoqBtXoGEqET64657I2n7n39qadM-E_uX2b1O8X5k8Ii2vEnj"}},ORGANIZATION:{name:"CsxicaQ7wM_3kaiMdGJQAaOa2fUF8v-",methods:{QUERY_BY_FUNCTIONCODE:"UwBgld0zWv.T_KSfK6W2_uSPCGXiv-mkEbmTNx6qeGoR_hH",ORG_QUERY:"DOiN6_9fU1yNwZE_gRuTrdwwvEg",QUERY_TREE_FUNCTION:"-DB0-GqPoWXHozK4BKUV3yMPaFmC4lppJyYYIe9k-Gk5VCj84OEe2JBi24SnYuFqXHe",ORG_QUERY_WITHOUTDEL:"9Ivp3_1e5zNZU_miVqa6YXq9Zg0sb1JBadatp4EuTiR"}},GOODS:{name:"qVq5B_KUuBzTC3kyP9TiuA53IS1kiBn5fR5JVjR7fUS6nsTm4Zc",methods:{QUERY_PAGE:"ByoqRxHfrD8M7MGSNKC-qVN",QUERY_PAGE_GOODS_UNION:"KYI9tvUKvrmrnw02TOmUAbkj27FmFOkq8nDox-O"}},EDA:{name:"806ndPAX4QHSaL8S3kOGYVWD7gJKERC",methods:{QUERY_QUEUE_QUERYQUEUES:"NJaG8pAbK6IGAM2RtOG2V_cGwPKCj8.QKtj"}}}},11:function(e,t,a){e.exports=a(7)(68)},22:function(e,t,a){var o,n=n||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=function(){return e.URL||e.webkitURL||e},a=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in a,n=/constructor/i.test(e.HTMLElement)||e.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent),r=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},i=function(e){setTimeout(function(){"string"==typeof e?t().revokeObjectURL(e):e.remove()},4e4)},s=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},d=function(d,u,c){c||(d=s(d));var m,p=this,f="application/octet-stream"===d.type,h=function(){!function(e,t,a){for(var o=(t=[].concat(t)).length;o--;){var n=e["on"+t[o]];if("function"==typeof n)try{n.call(e,a||e)}catch(e){r(e)}}}(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,o)return m=t().createObjectURL(d),void setTimeout(function(){a.href=m,a.download=u,function(e){var t=new MouseEvent("click");e.dispatchEvent(t)}(a),h(),i(m),p.readyState=p.DONE});!function(){if((l||f&&n)&&e.FileReader){var a=new FileReader;return a.onloadend=function(){var t=l?a.result:a.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,p.readyState=p.DONE,h()},a.readAsDataURL(d),void(p.readyState=p.INIT)}m||(m=t().createObjectURL(d)),f?e.location.href=m:e.open(m,"_blank")||(e.location.href=m);p.readyState=p.DONE,h(),i(m)}()},u=d.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,a){return t=t||e.name||"download",a||(e=s(e)),navigator.msSaveOrOpenBlob(e,t)}:(u.abort=function(){},u.readyState=u.INIT=0,u.WRITING=1,u.DONE=2,u.error=u.onwritestart=u.onprogress=u.onwrite=u.onabort=u.onerror=u.onwriteend=null,function(e,t,a){return new d(e,t||e.name||"download",a)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content);void 0!==e&&e.exports?e.exports.saveAs=n:null!==a(24)&&null!==a(25)&&void 0!==(o=function(){return n}.call(t,a,t,e))&&(e.exports=o)},23:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(){return function(e,t){var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var o in a)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?a[o]:("00"+a[o]).substr((""+a[o]).length)));return e}("yyyy-MM-dd hh-mm-ss",new Date)}Object.defineProperty(t,"__esModule",{value:!0});var l=o(a(21));t.default=function(e){var t=function(e){var t=[i.default.gatewayAddr,encodeURIComponent(e.service),encodeURIComponent(e.method)],a=e.args||{};a.page=a.page?a.page:1,a.size=a.size?a.size:2e3;var o=t.join("/"),n=encodeURIComponent(window.location.hash.split("#")[1].split("?")[0]);return o+="/?action=export&uid="+s.default.get("t8t-tc-uid")+"&ticket="+s.default.get("t8t-tc-ticket")+"&headers="+e.headers+"&args="+(0,l.default)(a)+"&sorts="+e.sorts+"&title="+(e.title||"")+"&ref="+n}(e),a=r.default.prototype.$message({duration:0,message:"正在导出..."});return d.default.get(t,{responseType:"arraybuffer",timeout:12e4,onDownloadProgress:function(e){}}).then(function(t){var o=new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),l=e.title||n();u.default.saveAs(o,l+".xls"),a.close()})};var r=o(a(38)),i=o(a(37)),s=o(a(6)),d=o(a(39)),u=o(a(22))},24:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},25:function(e,t){(function(t){e.exports=t}).call(t,{})},410:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={home:{name:"I1c2Cx1PxgTcpqUYzfTQualK0vhZ94S",methods:{QUERY:"VLfLWy2mWsxsR-VbXEjKdCArdiWsxuDQKOrGI25",export:"8N2F_vIb9pZUQVoprvGdMjEEXlLsRI1xaj_v5xS"}}}},480:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(11)),l=o(a(1927)),r=(o(a(77)),o(a(6))),i=o(a(410)),s=o(a(5)),d=o(a(23));t.default={name:"index",components:{ShowBom:l.default},data:function(){return{breadcrumbData:[{title:"交付"},{title:"项目执行"},{title:"项目用量明细"}],service:i.default.home.name,method:i.default.home.methods.QUERY,args:{dosageDetailDTO:null},currentYid:null,fields:[{type:"input",label:"项目ID",name:"yid"},{type:"input",label:"商品ID",name:"deliveryId"},{type:"select",label:"状态",name:"detailStatus",selectSourceKey:"checkStatus"},{type:"select",label:"明细来源",name:"detailSourceType",selectSourceKey:"detailSourceTypes"}],selectSource:{moduleStatus:[],forbiddenStatus:[{text:"否",value:0},{text:"是",value:1}]},columns:[{prop:"id",label:"用量明细ID"},{prop:"yid",label:"项目ID"},{prop:"orgName",label:"组织"},{prop:"bizType",label:"业务类型",list:"bizTypes"},{prop:"pkgName",label:"产品包"},{prop:"deliveryType",label:"交付项类型",list:"deliveryTypes"},{prop:"detailSourceType",label:"明细来源类型",list:"detailSourceTypes"},{prop:"deliveryId",label:"商品ID"},{prop:"",label:"商家名称"},{prop:"goodsName",label:"商品名称"},{prop:"model",label:"型号"},{prop:"standard",label:"规格"},{prop:"brandName",label:"品牌"},{prop:"spaceName",label:"空间"},{prop:"placeId",label:"位置",list:"places"},{prop:"estimateAmount",label:"预计用量"},{prop:"actualAmount",label:"实际用量"},{prop:"basicUnit",label:"单位",list:"basicUnits"},{prop:"detailStatus",label:"状态",list:"detailStatus"},{prop:"startDate",label:"合同开工时间"}],commonData:{detailStatus:[{text:"待提交审核",value:0},{text:"审核中",value:1},{text:"已驳回",value:2},{text:"待要货",value:3},{text:"待测量",value:4},{text:"测量中",value:5},{text:"已下单",value:6}],checkStatus:[{text:"待提交审核",value:0},{text:"审核中",value:1},{text:"已驳回",value:2},{text:"待要货",value:3},{text:"待测量",value:4},{text:"测量中",value:5},{text:"已下单",value:6}],isStandard:[],isBom:[],places:[],deliveryTypes:[],bizTypes:[],basicUnits:[],detailSourceTypes:[],forbiddenStatus:[{text:"否",value:0},{text:"是",value:1}]},dialogVisible:!1,rowId:null,dialogTitle:"",tableData:[],selectedRows:[]}},methods:{submitSearch:function(e){var t=(0,n.default)({},e),a=(0,n.default)({},this.args);a.dosageDetailDTO=t,this.args=a},getTableData:function(){this.$refs.t8tTable.reloadTable()},handleDataLoaded:function(e){e.map(function(e){e.placeId=+e.placeId,e.deliveryType=+e.deliveryType})},showDetail:function(e){this.dialogTitle="查看BOM组件",this.dialogVisible=!0,this.rowId=e},getCommonOptions:function(e,t){var a=this,o={page:1,search:{pPropertyCode:e},size:100},n=[];s.default.queryUnionParent(o).then(function(e){200===e.data.status&&(e.data.result.forEach(function(e){1===e.propertyStatus&&n.push({value:e.id,text:e.propertyName})}),a.commonData[t]=n)})},exportExcel:function(){if(this.$refs.t8tTable.totalRows<=1e4){this.$TCS.addTag("red_6392_018009001002");var e=this.$refs.searchForm.getFormData(),t=(0,n.default)({},e),a=(0,n.default)({},this.args);a.dosageDetailDTO=t,a.accountId=r.default.get("t8t-tc-uid");var o=a;(0,d.default)({service:i.default.home.name,method:i.default.home.methods.export,args:o,headers:"用量明细ID,项目ID,组织,业务类型,产品包,交付项类型,明细来源类型,商品ID,商品编码,skuID,商品名称,型号,规格,品牌,空间,位置,预计用量,实际用量,单位,状态,合同开工时间",sorts:"id,yid,orgName,bizTypeName,pkgName,deliveryTypeName,detailSourceTypeName,deliveryId,goodsCode,skuId,goodsName,model,standard,brandName,spaceName,placeName,estimateAmount,actualAmount,basicUnitName,detailStatusName,startDate",title:"商品销售报表"})}else this.$message.error("数据总条数超过10000条，请筛选后导出")}},created:function(){this.getCommonOptions(30003,"places"),this.getCommonOptions(42202,"deliveryTypes"),this.getCommonOptions(42201,"detailSourceTypes"),this.getCommonOptions(11008,"bizTypes"),this.getCommonOptions(11003,"basicUnits")}}},481:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(a(410));t.default={props:["rowId"],name:"showBom",components:{},created:function(){},methods:{closeSelectQuoteDialog:function(){this.$emit("close")}},data:function(){return{rowId:null,selectQuoteTempItemService:o.default.home.name,selectQuoteTempItemMethod:o.default.home.methods.QUERY,bomArgs:{dosageDetailDTO:{detailId:this.rowId}},selectQuoteTempItemColumns:[{prop:"id",label:"用量明细ID",resizable:!1,width:85},{prop:"deliveryId",label:"商品ID",resizable:!1,width:100},{prop:"goodsName",label:"商品名称",resizable:!1,width:100},{prop:"model",label:"商品型号",resizable:!1},{prop:"standard",label:"商品规格",resizable:!1,width:100},{prop:"brandName",label:"品牌",resizable:!1,width:100},{prop:"estimateAmount",label:"预计用量",resizable:!1,width:100},{prop:"actualAmount",label:"实际用量",resizable:!1,width:80},{prop:"basicUnitName",label:"单位",resizable:!1,width:100}],currentRow:null,submitAble:!1,dialogVisible:!0}}}},978:function(e,t,a){(e.exports=a(2)()).push([e.id,"\n.table-container {\n    -ms-flex: 1;\n        flex: 1;\n    overflow: auto;\n    margin-left: -1px;\n}\n.desageDetailindex .g-main-container{\n\n    display: -ms-flexbox;\n\n    display: flex;\n    -ms-flex-direction: column;\n        flex-direction: column;\n}\n",""])},1343:function(e,t,a){(e.exports=a(2)()).push([e.id,"\n.selectQuoteTempItem .t8t-table-container .table-container{\n    /*min-height: 350px;\n    max-height: 350px;*/\n}\n",""])},1421:function(e,t,a){var o=a(978);"string"==typeof o&&(o=[[e.id,o,""]]);a(3)(o,{});o.locals&&(e.exports=o.locals)},1789:function(e,t,a){var o=a(1343);"string"==typeof o&&(o=[[e.id,o,""]]);a(3)(o,{});o.locals&&(e.exports=o.locals)},1926:function(e,t,a){a(1421);var o=a(4)(a(480),a(2282),null,null);e.exports=o.exports},1927:function(e,t,a){a(1789);var o=a(4)(a(481),a(2571),null,null);e.exports=o.exports},2282:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"desageDetailindex"},[a("t8t-breadcrumb",{attrs:{data:e.breadcrumbData}}),e._v(" "),a("t8t-search",{ref:"searchForm",attrs:{fields:e.fields,selectSource:e.commonData,showToggleBtn:!1},on:{submit:e.submitSearch}}),e._v(" "),a("div",{staticClass:"g-main-container"},[a("t8t-toolbar",{ref:"topToolbar",attrs:{symbolList:["EXPORT"]},on:{EXPORT:function(t){e.exportExcel()}}}),e._v(" "),a("t8t-table",{ref:"t8tTable",attrs:{columns:e.columns,service:e.service,method:e.method,args:e.args,pageBar:!0,commonData:e.commonData,selectCol:!1},on:{"data-loaded":e.handleDataLoaded},scopedSlots:e._u([["id",function(t){return[0==t.row.detailId?a("span",[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){e.showDetail(t.row.id)}}},[e._v(e._s(t.row.id))])]):a("span",[e._v(e._s(t.row.id))])]}]])})],1),e._v(" "),e.dialogVisible?a("show-bom",{attrs:{rowId:e.rowId,title:e.dialogTitle},on:{close:function(t){e.dialogVisible=!1},getTableData:e.getTableData}}):e._e()],1)},staticRenderFns:[]}},2571:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"selectQuoteTempItem"},[a("el-dialog",{staticClass:"g-w-1000 my-el-dialog selectQuoteItemdialog",attrs:{title:"查看BOM组件"},on:{close:e.closeSelectQuoteDialog},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t}}},[a("t8t-table",{ref:"selectQuoteItemTable",staticStyle:{height:"300px"},attrs:{columns:e.selectQuoteTempItemColumns,service:e.selectQuoteTempItemService,method:e.selectQuoteTempItemMethod,commonData:e.commonData,args:e.bomArgs,indexCol:!1,radioCol:!1,selectable:e.selectable,selectCol:!1,pageBar:!1}}),e._v(" "),a("div",{slot:"footer"},[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("返回")])],1)])],1)],1)],1)],1)},staticRenderFns:[]}}});