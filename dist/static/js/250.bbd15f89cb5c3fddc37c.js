webpackJsonp([250,269],{74:function(e,t,a){e.exports=a(7)(67)},98:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={ACCOUNT:{name:"GuSlsbEuI-IpnAy9Dc8eqQ75vVO667x",methods:{POSITION_QUERY:"64wmLJ-KJJnhoOSK2LDQdFe"}},PERM:{name:"abqLtBZRxYd9AbDFankow0Azfw7jdUj",methods:{ROLE_LIST:"UEIfVA5f.RcrsgG",BOUND_POSITION:"TovqhqTiiwWIwQKDKlQAbkbOyClHNx5kiVgTA71",QUERY_BOUND_POSITION:"y8B50KTBzsEDdsSG5qwYH0xVGkv94LgdUy2NeVnoBSC1okCgZrG",UNBIND_POSITION:"18v-lLgIy6W0kywtPJiDjBxwpMI",QUERY_POSITION:"RUXTTbrfPJfML1tVM2DmMwHVvlAVWn594dg",ALL_BIZ_OBJ_LIST_TREE:"DfagbuIXRRXj5NMzfNhDQSLIyCiaLiXdbI9DNOf",ALL_BIZ_OBJ_LIST_TREE2:"k-CU7iLREuqMJDo9tQNcTfxxzj5frH_wSuszurup2HY",PERMISSION_LIST_SUB_LV:"iutoW_GGVzQNdmSaHo_T9c0jq8ligSoSuxpdJhp",UPDATE_PERM_SORT:"YZgynSiyuJ207ay5Boaedw5RVfX0IGsllc_",QUERY_PAGE:"dC_zYBlyJkjsakd5caAUza_CeE2Tq6t",bizObjectAdd:"dyxq8Z5tBxzMNRpUdLsP0DF",bizObjectUpdate:"7UGd2l3MOJSFDj_a2e63lXHxjjj",permissionGetById:"XGCuKYlvc3nsUPtjoTCO90eBhoT",permissionDelete:"97NCTOGWm7jSS-DtEKKlCGSz1uz",permissionAdd:"oZm-nkk3wysFyj-uyKeYHPM",permissionUpdate:"eK3N9jZZc3l4tzRq_olIUjh-fCI",permissionDeleteByIdList:"I2Cj4JsDKnPWFk9OGXFMLTRNzGfRyZXzmaVJehz",permissionExportWithParentIds:"eHUsaQmuW2UadcmfhzVBxdlmLWUYMiU1w0TDz3-QWT0",permissionImportWithParentCodes:"qvXnD_4IU8HzPtCBW362j9t5i786yIlUlE5z9HTvYL1rowi",permissionListAccountRoleById:"jQr5kduQ6-wHxoVZBwUhr47asUsiAyMlQhFhiqYoysu",queryRoleDetailByPermissionId:"ZTpmboQbzIfkCqYC22fEZuLZKtMKCHXcPgKT2EMZ9SgnzagkQng04R5WFCu",genNewChildCode:"VcsujCWynNf6NUMao3RCunRpCtkg9Zghl8eJ6phlNFlgPaL",accountRoleDetail:"-p7e0sZpAEVtD8m7lo43HtnB_9aP3aktkUh"}},CONFIGURE:{name:"BrykHK2bCsWtTZqSYm62XRw7XF_MbELGnCbCRkRwMLnCLpo",methods:{systemCodeSearchByPage:"AYaWP87iGs2KKKxmPT6rcW5rE0U72XRPv6x"}}}},753:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(a(74)),o=s(a(98)),n=s(a(1844)),i=s(a(1));t.default={name:"role-bound-position",components:{},data:function(){return{breadcrumbData:[{title:"系统管理"},{title:"角色管理"},{title:"岗位绑定"}],columns:n.default,fields:[{type:"input",label:"岗位名称",name:"name_like"},{type:"input",label:"岗位编号",name:"id"},{type:"select",label:"岗位类别",name:"category",selectSourceKey:"categoryOptions"},{type:"select",label:"是否启用",name:"startUsing",selectSourceKey:"startUseOptions"}],selectSource:{categoryOptions:[{text:"平台岗",value:1},{text:"提成岗",value:2}],startUseOptions:[{text:"启用",value:1},{text:"不启用",value:2}]},searchCache:{name_like:null,id:null,category:null,startUsing:null},service:o.default.PERM.name,method:o.default.PERM.methods.QUERY_POSITION,args:{search:{id_gt:0}},treeData:[],treeProps:{label:"name",children:"children",disabled:"isDel",symbol:"name"},defaultExpandedKeys:["role_type"],selectTreeNode:null,dataSource:[]}},created:function(){var e=this,t=[{name:"管理员",type:1,children:[],id:"admin"},{name:"普通角色",type:0,children:[],id:"common_user"}];(0,i.default)({service:o.default.PERM.name,method:o.default.PERM.methods.ROLE_LIST,args:{condition:{isDel:0,type_code:"001001001"}}}).then(function(a){if(200===a.data.status){a.data.result.rows.forEach(function(e){var a=null;t.forEach(function(t){t.type===e.type&&(a=t)}),null!==a&&a.children.push(e)}),e.treeData=[{name:"角色类型",children:t,id:"role_type"}]}})},methods:{submitSearch:function(e){this.searchCache=e,this.args={search:e}},onBtn1:function(){var e=this;this.selectTreeNode?(0,i.default)({service:o.default.PERM.name,method:o.default.PERM.methods.QUERY_BOUND_POSITION,args:{roleCode:this.selectTreeNode.code}}).then(function(t){if(200===t.data.status){var a=t.data.result||[];e.dataSource=[],a.forEach(function(t){var a=(0,r.default)({},t,{roleName:e.selectTreeNode.name});e.dataSource.push(a)})}}):this.$message.error("请选择要查看的角色！")},onBtn2:function(){var e=this,t=this.$refs.t8ttable.getSelectRows();this.selectTreeNode?null!==t&&0!==t.length?(0,i.default)({service:o.default.PERM.name,method:o.default.PERM.methods.BOUND_POSITION,args:{roleCode:this.selectTreeNode.code,positionIds:t.map(function(e){return e.id})}}).then(function(t){var a=t.data.status;200===a?e.$message.success("绑定成功"):80106===a?e.$msgbox({title:"消息",type:"error",message:"以下岗位已被绑定，编号：["+t.data.result+"]",showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"}):e.$message.error("绑定失败！")}).catch(function(t){e.$message.error(t)}):this.$message.error("请选择要绑定的岗位！"):this.$message.error("请选择要绑定的角色！")},onBtn3:function(){var e=this,t=this.$refs.t8ttable.getSelectRows();if(this.selectTreeNode)if(null!==t&&0!==t.length){var a=t.map(function(e){return e.id});(0,i.default)({service:o.default.PERM.name,method:o.default.PERM.methods.UNBIND_POSITION,args:{roleCode:this.selectTreeNode.code,positionIds:a}}).then(function(t){200===t.data.status?e.$message.success("解绑成功"):e.$message.error(t.data.message)}).catch(function(t){e.$message.error(t)}),this.dataSource=this.dataSource.filter(function(e){return-1===a.indexOf(e.id)})}else this.$message.error("请选择要解绑的岗位！");else this.$message.error("请选择要解绑的角色！")},onTreeClick:function(e,t,a){t.expanded=!t.expanded,t.isLeaf?this.selectTreeNode=e:this.selectTreeNode=null}}}},1294:function(e,t,a){(e.exports=a(2)()).push([e.id,"\n.t8t-tree-container[data-v-9f7540c0] {\n    width: 250px;\n}\n",""])},1740:function(e,t,a){var s=a(1294);"string"==typeof s&&(s=[[e.id,s,""]]);a(3)(s,{});s.locals&&(e.exports=s.locals)},1844:function(e,t){e.exports={indexPage:[{prop:"id",label:"岗位编号",width:"80"},{prop:"name",label:"岗位名称"},{prop:"roleName",label:"角色名称"},{prop:"category",label:"岗位类别",list:"categoryOptions"},{prop:"startUsing",label:"是否启用",list:"startUseOptions"},{prop:"createTime",label:"创建时间",formatter:"dateParser"},{prop:"updateTime",label:"更新时间",formatter:"dateParser"}]}},2196:function(e,t,a){a(1740);var s=a(4)(a(753),a(2535),"data-v-9f7540c0",null);e.exports=s.exports},2535:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("t8t-breadcrumb",{attrs:{data:e.breadcrumbData}}),e._v(" "),a("t8t-search",{attrs:{fields:e.fields,selectSource:e.selectSource,showToggleBtn:!0},on:{submit:e.submitSearch}}),e._v(" "),a("div",{staticClass:"g-main-container"},[a("t8t-tree",{attrs:{data:e.treeData,props:e.treeProps,"default-expanded-keys":e.defaultExpandedKeys},on:{"node-click":e.onTreeClick}}),e._v(" "),a("div",{staticClass:"g-main-container-column"},[a("t8t-toolbar",{on:{"VIEW-BOUND":e.onBtn1,ADD:e.onBtn2,UNBIND:e.onBtn3}}),e._v(" "),a("t8t-table",{ref:"t8ttable",attrs:{columns:e.columns.indexPage,dataSource:e.dataSource,service:e.service,method:e.method,commonData:e.selectSource,args:e.args}})],1)],1)],1)},staticRenderFns:[]}}});