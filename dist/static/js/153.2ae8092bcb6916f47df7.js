webpackJsonp([153,269],{5:function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(1)),d=o(r(8));t.default={allSystemCodeList:function(e){return(0,a.default)({method:d.default.CONFIGURE.methods.SYS_CODE_LIST,service:d.default.CONFIGURE.name,args:e})},listNextLevelUnforbidden:function(e){return(0,a.default)({method:d.default.CONFIGURE.methods.LIST_UNFORBIDDEN,service:d.default.CONFIGURE.name,args:e})},queryUnionParent:function(e){return(0,a.default)({method:d.default.SUPPLY_CONFIGURE.methods.queryUnionParent,service:d.default.SUPPLY_CONFIGURE.name,args:e})},queryPage:function(e){return(0,a.default)({method:d.default.SUPPLY_CONFIGURE.methods.QUERY_PAGE,service:d.default.SUPPLY_CONFIGURE.name,args:e})},queryShopUnion:function(e){return(0,a.default)({method:d.default.SUPPLY_CONFIGURE.methods.queryShopUnion,service:d.default.SUPPLY_CONFIGURE.name,args:e})},queryShop:function(e){return(0,a.default)({method:d.default.SUPPLY_CONFIGURE.methods.queryShop,service:d.default.SUPPLY_CONFIGURE.name,args:e})},queryByFunctionCode:function(e){return(0,a.default)({method:d.default.ORGANIZATION.methods.QUERY_BY_FUNCTIONCODE,service:d.default.ORGANIZATION.name,args:e})},queryAll:function(e){return(0,a.default)({method:d.default.ORGANIZATION.methods.ORG_QUERY,service:d.default.ORGANIZATION.name,args:e})},queryTreeByTypeAndFunction:function(e){return(0,a.default)({method:d.default.ORGANIZATION.methods.QUERY_TREE_FUNCTION,service:d.default.ORGANIZATION.name,args:e})},queryChildrenByWholeCode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return(0,a.default)({method:d.default.SUPPLY_CONFIGURE.methods.queryChildrenByWholeCode,service:d.default.SUPPLY_CONFIGURE.name,args:{wholeCode:e,depth:t}})},queryChildrenByWholeCodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return(0,a.default)({method:d.default.SUPPLY_CONFIGURE.methods.queryChildrenByWholeCodes,service:d.default.SUPPLY_CONFIGURE.name,args:{wholeCodes:e,depth:t}})},getAllQueue:function(){return(0,a.default)({method:d.default.EDA.methods.QUERY_QUEUE_QUERYQUEUES,service:d.default.EDA.name,args:{}})}}},8:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={CONFIGURE:{name:"OnLYil9jY0PiKilsavskNJvygGUxhME7eLPWccmGmYjb_ED",methods:{SYS_CODE_LIST:"vPnFi_QA4HeBWeU61ZjQPCn",LIST_UNFORBIDDEN:"vL0y_oFhAeDM3YTmFrp2oaHn1UDcQEzq1orWi41sEc2pVcjlpGN"}},SUPPLY_CONFIGURE:{name:"qVq5B_KUuBzTC3kyP9TiuA53IS1kiBn5fR5JVjR7fUS6nsTm4Zc",methods:{QUERY_PAGE:"Ewi6YId8aELgLHFBBSBMT4BvG3R",queryUnionParent:"5l6jR2KUJ4QdYxLFz0ZJGFy5XZkLajNNSEdLf0t",queryShopUnion:"zPrIoMCwO3geMqwnGH2Afs0w-7lpdva",queryShop:"4VE-APqV_Fs13Cswfj8",queryChildrenByWholeCode:"sDE1BauR-rhu_AU-6F9VF952lJ_JIl-r1QOnscFpFYW0GFS9p3nAG1z",queryChildrenByWholeCodes:"CEGKxWt_AJmoqBtXoGEqET64657I2n7n39qadM-E_uX2b1O8X5k8Ii2vEnj"}},ORGANIZATION:{name:"CsxicaQ7wM_3kaiMdGJQAaOa2fUF8v-",methods:{QUERY_BY_FUNCTIONCODE:"UwBgld0zWv.T_KSfK6W2_uSPCGXiv-mkEbmTNx6qeGoR_hH",ORG_QUERY:"DOiN6_9fU1yNwZE_gRuTrdwwvEg",QUERY_TREE_FUNCTION:"-DB0-GqPoWXHozK4BKUV3yMPaFmC4lppJyYYIe9k-Gk5VCj84OEe2JBi24SnYuFqXHe",ORG_QUERY_WITHOUTDEL:"9Ivp3_1e5zNZU_miVqa6YXq9Zg0sb1JBadatp4EuTiR"}},GOODS:{name:"qVq5B_KUuBzTC3kyP9TiuA53IS1kiBn5fR5JVjR7fUS6nsTm4Zc",methods:{QUERY_PAGE:"ByoqRxHfrD8M7MGSNKC-qVN",QUERY_PAGE_GOODS_UNION:"KYI9tvUKvrmrnw02TOmUAbkj27FmFOkq8nDox-O"}},EDA:{name:"806ndPAX4QHSaL8S3kOGYVWD7gJKERC",methods:{QUERY_QUEUE_QUERYQUEUES:"NJaG8pAbK6IGAM2RtOG2V_cGwPKCj8.QKtj"}}}},85:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={template:{name:"hMNCl9S9hJbGkcd4dsaHxWWo3cOZFd3",methods:{searchTemplate:"CNXZAq_UTBYDp9COKIC-kQAnFIgOKmlWRPJXgJl",createTemplate:"c3zjwjJL9eWIAcInQqzybOqqDP4tWPwn2aoZph6",updateTemplate:"S8xZvRwVjfRS6iRKnapLHgkpbwZUg1xngMtiMIx",checkTemplate:"ibbqkvRhUQO2fRLXki402wOrWsTczmh7orisg4F",forbiddenTemplate:"XiZhTXnJofGHcYCVPJsz9lVx_fLFU6xYkqxTmRQHCPq",copyTemplate:"VggaUzBzkX9GYQtlt9Ka6pjTwGcXM2pOzmnE4n9"}},tempItem:{name:"hMNCl9S9hJbGkcd4dsaHxWWo3cOZFd3",methods:{updateTempItem:"LnUSpgz6fZCYfe0kwIbZ0ceGFnUFChh",checkTempItem:"7QBLR5i4fMgzMI5wWk3zlMCSNBDidhv",searchTempItemList:"vLnojOoObKzDxJBqiWbhxcdaTWNpR8t",forbiddenTempItem:"ktovV_QnU-ehl9s6hgAr1TgpHqgqebVRPJ3",copyTempItem:"M1UAC6T5be52FLLhASJBidGRaN69tnc",tempRecordQuery:"DIdYCqAfWpr3qnB2uc6qgY76sWQKGruDy6l"}},supply:{name:"8m7ufp84fb2V0f5Z0e1LiSKvI9wfWGyPcR5O8IydTmjLcK9YcKE",methods:{queryGoodsForSetSku:"1yvDQ5-lGkBG40OpMk61e9oxDjiPVvn9iKjCyrD7Ol3nucH",queryEffectGoodsByCity:"8PoySH4qiMN2F8IS6OYE5bKs0p1MUxUSVpZxjap8w2y",queryEffectGoodsByCityAndSalePrice:"HSmeFx6Fz1ztAEC-cwOBT0gAzFkU74kMkhrP8LG8zKC05LJdss0BN-dynXo"}},schedule:{name:"PHZ4wJ5NChyZm_bdgBuKFocGUCzQOjT",methods:{module:"i7i7ssrGiIWkCwyuNS8vsJrQ8YIvxaAWIZ-xlYS",getInfoQuotaion:"7lBW1onPuYVQ_lUM1lmsvuWwSEqVC2jCWxXkS5rTOAkEgxyYP69",queryModuleAndModuleItemById:"Z0FlRV4xWyTqaV6Q3EVniJfCtY-F0_V5jcTdMPM2iLT1jESsRRTQkYAZ2w4ITO4"}}}},95:function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(1)),d=o(r(100));t.default={create:function(e){return(0,a.default)({method:d.default.TEMPLATE.methods.CREATE,service:d.default.TEMPLATE.name,args:e})},update:function(e){return(0,a.default)({method:d.default.TEMPLATE.methods.UPDATE,service:d.default.TEMPLATE.name,args:e})},setModuleStatus:function(e){return(0,a.default)({method:d.default.TEMPLATE.methods.SETMODULESTATUS,service:d.default.TEMPLATE.name,args:e})},queryModuleQuotaionById:function(e){return(0,a.default)({method:d.default.TEMPLATE.methods.queryModuleQuotaionById,service:d.default.TEMPLATE.name,args:e})},moduleItemQueryPage:function(e){return(0,a.default)({method:d.default.TEMPLATE.methods.QUERY,service:d.default.TEMPLATE.name,args:e})},searchProductPackage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o={};return e.length&&(o.search=e),t.length&&(o.sort=t),r.length&&(o.fields=r),(0,a.default)({method:d.default.TEMPLATE.methods.queryModuleQuotaionById,service:d.default.TEMPLATE.name,args:o})}}},100:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={TEMPLATE:{name:"hMNCl9S9hJbGkcd4dsaHxWWo3cOZFd3",methods:{QUERY:"oC89kQlF3OnLilu76dP70tlyxv0ASFpeh-3wfhWvcQDwoHZ",CREATE:"3Hxw2EmJ6VXHimux2PkDK5iYElw4DZ0l74vTNkgmaah",UPDATE:"Bg2FMBVtN_pbDpl5KEBTYUo20P238It5pAN3qsbqvkQ",queryModuleQuotaionById:"NHGSRqrdMxo8kd8nvJTQztg536fL1MVsa6Y5L5s"}},PROPERTY:{name:"8m7ufp84fb2V0f5Z0e1LiSKvI9wfWGyPcR5O8IydTmjLcK9YcKE",methods:{propertyQueryPage:"xxyFxYonI0x3Fv7Po3D98lC_z76"}}}},101:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={order:{name:"hMNCl9S9hJbGkcd4dsaHxWWo3cOZFd3",methods:{getChildSpaces:"MmRihb77eMIXfgGrEdPXz3TZUEsgmxRJ4F2ZGghUl_A",quoteOrderInfo:"5qs-2_iJlfoGFwLwKgMLgAdehHkM84SlDXT",getQuoteTempItemBySpace:"-t65G7VbO-q2P9m0B9BadFtrpM6GhDrX1U52.IS9ry5vxee",getQuoteTempItemUnstandardByTempId:"UeaeWuZ0owkh2pNY1gtUbRMBnTEHtlCcAga81Qi-IdQQOlp9dmuntdogtV2",saveQuoteOrder:"Z1whbJY9tgk5mTslpmGuXgoiEsujkAmVf4p3Mwr0JBkSDGl_fRJ",selectionSku:"ibZvmBQ1R8d1d-aX5iZFzJq3-VrMqfNHfS9",getSkuInfo:"",newCreate:"ruhrYAW2mRiM7oAc_0nuPyhTOpLkwdBSEVwSfXx",submitOrder:"qj10sGZqcqh9rdDTtoEWxWnX9rERixtuih0",printOrder:"SaaWDpGnS77pCsNSNerZNVXM5UOBCf_NL2DPVhmA2ymO37k",previewOrder:"VLeaXxzUC-MLoWu8WS0uuc-Q9oWuvLEdeeFdtsYcJKMsDeAL9un",queryQuoteOrderProject:"BJGIAJ0Du4oR_t35Pjx71J_DcUv-qE_onXCZl6obtH66siE7PLs4vb2aa89p0jh",queryCompleteQuoteOrderProjectPage:"WfMcT0JtVUBmax-AGXP6eVJwnaTUrbAEsGA4nCAKe7OLsaFOMIdOQF3cP8bEviMPtONXPaR",recheckQuoteOrder:"z2mlc3fYxwnYvqJh-vZHf6pYIHtdp8ntZJ6dkR-",quoteSelectionInfo:"DnH6MwYeTCSVoO-phT627OU1LUIs5qb4qrenK0M-nzVv9QPlrLSwilT",saveSelectionList:"dTNdbuVMsa1RoEDKyGSG9uBselzCnLfciR-GTvRU3RWDu3DaVLz",submitSelectionList:"IohQLZ3IoJEmT7bYBMyWFtZWyYxLjHiIkkoIELhK2AlZxhvXeeZamPr",syncTempToQuoteAndSelection:"9ZEZ9Z-dI5CPPmFAxPFAFPBtTAIoP3z1f81CoizG1i861jNV91jG2jFIoEIKWrf",getStandardQuoteItem:"zQ8MyPxYDEBUJut6BOG77G5gG17_SZLB6a8OARBAjerem5AQ4OIL95c1Bic9Nz7AshuHtCZ",getUnStandardQuoteItem:"PdLgBuAbnTHLLpF591Df2XTI0VUKOgpSLPWHe7TS7_r7RdKR_8iPAtlBrsuApI1XKIZVbZqT-no",deleteStandardQuoteItem:"YPwMgGiJrWBRbX9P3YOHCgFJ0NETufHCBJTgU5hEagdARdr",getQuoteDelivery:"2NSPGgkHDc9XXxvmMMyBqH7jXe0_ec__0RtPtEEDmbHAmRXrfMZFvxI18dPGd4cGfu_y7bJHfaCz-Ht",deleteQuoteDelivery:"CfcKYaEmOe_JpYSr4z_NHKVZef8OpXFM6P8BJhYD62oTbAKRMnJQB2O-K_n",insertSingeQuoteItemAndDosageDetail:"z_7q38OHjKbbybbfN2eZREtMyPQoQ-1w8b0iXmte6z-qcv0ffcdjMXyiv9nlcWJdwinqNp6eYq-",insertQuoteItemAndDosageDetails:"okggqEd6rmh-bRIdIruew7afgBmnA9nDYjjfVK0akcjWSZN",changeQuoteStatus:"q271sNZxr1z3onezmjll8tclizTIHcwpPiN"}},project:{name:"azI9sv-1Owbj4ZXdwMS1EzYRRvpIBnA",methods:{findOrderDetailByIds:"GNMNUyDXBxBaT0_XeI8gYCLlpQU9-a2YSQhYcH6Sh6MDMIgUvtUH7B2IM8CVA0b"}}}},109:function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(76)),d=o(r(21)),n=o(r(1)),u=o(r(101));t.default={getChildSpaces:function(e){return(0,n.default)({method:u.default.order.methods.getChildSpaces,service:u.default.order.name,args:{quoteOrderSpaceSelcetDTO:{tempId:e}}})},quoteOrderInfo:function(e,t,r,o,a){return(0,n.default)({method:u.default.order.methods.quoteOrderInfo,service:u.default.order.name,args:{quoteOrderShowDTO:{tempId:t,yid:e,area:r,houseTypeId:o},accountId:a}})},getQuoteTempItemBySpace:function(e,t){return(0,n.default)({method:u.default.order.methods.getQuoteTempItemBySpace,service:u.default.order.name,args:{quoteOrderSpaceTempItemListDTO:{tempId:t,spaceId:e}}})},getQuoteTempItemUnstandardByTempId:function(e){return(0,n.default)({method:u.default.order.methods.getQuoteTempItemUnstandardByTempId,service:u.default.order.name,args:{quoteOrderSpaceTempItemListDTO:{tempId:e}}})},saveQuoteOrder:function(e,t){return(0,n.default)({method:u.default.order.methods.saveQuoteOrder,service:u.default.order.name,args:{quoteOrderCreateDTO:e,accountId:t}})},selectionSku:function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a={orgId:r,gdmId:e,categoryId:t,bomGdmId:arguments.length>4&&void 0!==arguments[4]?arguments[4]:0};return"{}"===(0,d.default)(o)||(a.queryField=o),(0,n.default)({method:u.default.order.methods.selectionSku,service:u.default.order.name,args:a})},getSkuInfo:function(e){return(0,n.default)({method:u.default.order.methods.getSkuInfo,service:u.default.order.name,args:{skuid:e}})},submitQuoteOrder:function(e,t){return(0,n.default)({method:u.default.order.methods.submitOrder,service:u.default.order.name,args:{quoteOrderSubmitDTO:{orderId:e,updateUser:t}}})},newCreateQuoteOrder:function(e,t){return(0,n.default)({method:u.default.order.methods.newCreate,service:u.default.order.name,args:{quoteOrderNewCreateDTO:{orderId:e,updateUser:t}}})},previewQuoteOrder:function(e){return(0,n.default)({service:u.default.order.name,method:u.default.order.methods.previewOrder,args:{orderId:e}})},findOrderDetailByIds:function(e){return(0,n.default)({service:u.default.project.name,method:u.default.project.methods.findOrderDetailByIds,args:{ids:e}})},initQuoteOrderDetail:function(e,t,r,o,d){var n=this;return new a.default(function(a,u){n.quoteOrderInfo(e,t,r,o,d).then(function(e){if(200==e.data.status){var t=e.data.result.quoteOrder;(!t.hasOwnProperty("pkgPrice")||t.pkgPrice<=0)&&u({status:1,message:"未获取到项目标配套餐价"}),a(e.data.result)}else u({status:2,message:e.data.result||"系统异常，请稍后重试"})}).catch(function(e){u({status:3,message:"查询报价模板信息失败，请重试"})})})},initQuoteSelectionList:function(e,t){return new a.default(function(r,o){(0,n.default)({method:u.default.order.methods.quoteSelectionInfo,service:u.default.order.name,args:{yid:e,accountId:t}}).then(function(e){200==e.data.status?r(e.data.result):o(e.data.result||e.data.message||"查询失败")}).catch(function(e){o("查询出错")})})},saveSelectionList:function(e,t){return(0,n.default)({method:u.default.order.methods.saveSelectionList,service:u.default.order.name,args:{dto:e,accountId:t}})},submitSelectionList:function(e,t){return(0,n.default)({method:u.default.order.methods.submitSelectionList,service:u.default.order.name,args:{yid:e,accountId:t}})},recheckQuoteOrder:function(e,t){return(0,n.default)({method:u.default.order.methods.recheckQuoteOrder,service:u.default.order.name,args:{quoteOrderSubmitDTO:{orderId:e,updateUser:t}}})},syncTempToQuoteAndSelection:function(e,t){return new a.default(function(r,o){(0,n.default)({method:u.default.order.methods.syncTempToQuoteAndSelection,service:u.default.order.name,args:{id:e,accountId:t}}).then(function(e){200==e.data.status&&1==e.data.result?r(!0):o(e.data.result||"同步失败， 请重试")}).catch(function(e){o("同步失败， 请重试")})})},getStandardQuoteItem:function(e,t){return(0,n.default)({service:u.default.order.name,method:u.default.order.methods.getStandardQuoteItem,args:{orderId:e,orderSpaceId:t}})},getUnStandardQuoteItem:function(e,t){return(0,n.default)({service:u.default.order.name,method:u.default.order.methods.getUnStandardQuoteItem,args:{orderId:e,orderSpaceId:t}})},insertSingeQuoteItemAndDosageDetail:function(e,t){return new a.default(function(r,o){(0,n.default)({service:u.default.order.name,method:u.default.order.methods.insertSingeQuoteItemAndDosageDetail,args:{dto:e,accountId:t}}).then(function(e){200==e.data.status?r(!0):o(e.data.result||e.data.message||"新增组合失败，请重试")}).catch(function(e){o("新增组合失败，请重试")})})},insertQuoteItemAndDosageDetails:function(e,t){return new a.default(function(r,o){(0,n.default)({service:u.default.order.name,method:u.default.order.methods.insertQuoteItemAndDosageDetails,args:{dto:e,accountId:t}}).then(function(e){200==e.data.status?r(!0):o(e.data.result||e.data.message||"新增报价单行失败，请重试")}).catch(function(e){o("新增报价单行失败，请重试")})})},deleteQuoteDelivery:function(e,t){return new a.default(function(r,o){(0,n.default)({service:u.default.order.name,method:u.default.order.methods.deleteQuoteDelivery,args:{id:e,accountId:t}}).then(function(e){200==e.data.status?r(!0):o(e.data.result||e.data.message||"删除组合失败，请重试")}).catch(function(e){o("删除组合失败，请重试")})})},deleteStandardQuoteItem:function(e,t){return new a.default(function(r,o){(0,n.default)({service:u.default.order.name,method:u.default.order.methods.deleteStandardQuoteItem,args:{id:e,accountId:t}}).then(function(e){200==e.data.status?r(!0):o(e.data.result||e.data.message||"删除失败，请重试")}).catch(function(e){o("出错，请重试")})})},changeQuoteStatus:function(e,t,r){return(0,n.default)({method:u.default.order.methods.changeQuoteStatus,service:u.default.order.name,args:{orderId:e,orderStatus:t,accountId:r}})}}},163:function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(21)),d=o(r(1)),n=o(r(179));t.default={getProjectNodesByBillType:function(e,t){return this.searchProjectNode(1,100,{billType:t,projectId:e})},searchProjectNode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s={page:e,size:t};return o.length&&(s.sort=o),u.length&&(s.fields=u),"{}"!=(0,a.default)(r)&&(s.search=r),(0,d.default)({method:n.default.methods.searchProjectNode,service:n.default.name,args:s})},projectNodeBillCreateVerify:function(e,t){return(0,d.default)({method:n.default.methods.projectNodeBillCreateVerify,service:n.default.name,args:{nodeId:t,projectId:e}})},projectNodeGetByProcessId:function(e){return(0,d.default)({method:n.default.methods.projectNodeGetByProcessId,service:n.default.name,args:{processId:e}})}}},174:function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(6)),d=o(r(85)),n=o(r(95)),u=o(r(5)),s=o(r(109)),l=o(r(163));t.default={props:["tempId","yid","orgId"],name:"selectQuoteTemp",components:{},created:function(){var e=this,t=this.$route.query.procInsId;t?(this.from="workflowProDel",l.default.projectNodeGetByProcessId(t).then(function(t){200==t.data.status&&(e.yid=t.data.result.projectId,e.initData())})):this.initData(),n.default.searchProductPackage().then(function(t){var r=[];200===t.data.status&&(t.data.result.forEach(function(e){r.push({value:e.id,text:e.pkgName})}),e.commonData.productPackages=r)}),this.getHouseTypes()},methods:{getHouseTypes:function(){this.getCommonOptions(30004,"houseTypes")},initData:function(){var e=this;s.default.findOrderDetailByIds([this.yid]).then(function(t){if(200==t.data.status&&t.data.result.length){var r=t.data.result[0];e.projectInfo.area=r.decorationOrderHouseVO.houseArea,e.projectInfo.houseAddress=r.decorationOrderHouseVO.houseAddress,e.projectInfo.id=e.yid,e.submitAble=!0}})},tableLoaded:function(){},closeSelectQuoteDialog:function(){this.$emit("close")},submit:function(){var e=this,t=this.$refs.selectQuoteItemTable.getSelectRow(),r=this;if(!this.yid)return this.$message({type:"warning",message:"没有查询到项目信息"});var o=t||this.currentRow;if(0==o.length)return this.$message({type:"warning",message:"请选择报价模板"});this.$refs.selectQuoteTempForm.validate(function(t){if(!t)return e.$message({type:"warning",message:"请完善户型和面积"});s.default.initQuoteOrderDetail(e.yid,o.id,e.projectInfo.area,e.projectInfo.houseTypeId,+a.default.get("t8t-tc-uid")).then(function(e){r.$router.push({path:"/worker/quote-order-detail",query:{area:r.projectInfo.area,houseTypeId:r.projectInfo.houseTypeId,tempId:o.id,yid:r.yid,t:(new Date).getTime()}}),r.closeSelectQuoteDialog()}).catch(function(e){if(1==e.status){var t=r.formCommonData.houseTypes.filter(function(e){return e.value==r.projectInfo.houseTypeId}),o=t.length?t[0].text:r.houseTypeId;return r.$msgbox({title:" ",type:"error",message:"未获取到项目标配套餐价（计价面积："+(r.projectInfo.area||"未设置")+" 户型："+(o||"未设置")+" ）"})}r.$msgbox({title:" ",type:"error",message:e.message})})})},cellClick:function(e,t,r,o,a,d){},handleCurrentRowChange:function(e,t){this.currentRow=e},getCommonOptions:function(e,t){var r=this,o={page:1,search:{pPropertyCode:e},size:100};u.default.queryUnionParent(o).then(function(e){200===e.data.status&&e.data.result.forEach(function(e){1===e.propertyStatus&&r.formCommonData[t].push({value:e.id,text:e.propertyName})})})}},data:function(){return{tempId:null,yid:null,orgId:null,from:null,projectInfo:{area:0,houseTypeId:0,houseAddress:"",id:0},formCommonData:{houseTypes:[{value:0,text:"请选择户型"}]},formFields:[{prop:"id",label:"项目ID",type:"input",disabled:!0},{prop:"houseAddress",label:"项目地址",type:"input",disabled:!0},{prop:"area",label:"计价面积",type:"input",rules:[{pattern:/^((0|[1-9]\d{0,6})((\.[0-9]{1,2})?))$/,message:"最大7位，最多保留两位的数字"},{required:!0,message:"请填写计价面积"}]},{prop:"houseTypeId",label:"户型",type:"select",list:"houseTypes",rules:[{type:"number",min:1,message:"请选择户型"}]}],dialogVisible:!0,mainTableService:d.default.template.name,mainTableMethod:d.default.template.methods.searchTemplate,args:{productPkgTemp:{effectTime:Math.ceil((new Date).getTime()/1e3),freezeTime:Math.ceil((new Date).getTime()/1e3),forbiddenTime:Math.ceil((new Date).getTime()/1e3),tempStatus:2,orgId:this.orgId}},gopath:"quote-order-detail",commonData:{productPackages:[]},selectQuoteTempColumns:[{prop:"tempCode",label:"产品包模板编码"},{prop:"tempName",label:"产品包模板名称",width:200},{prop:"pkgId",label:"产品包",list:"productPackages"}],currentRow:[],submitAble:!1}}}},179:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={name:"glSRlvj4F6mLlG4hT0ygjHn-L1yIGeY",methods:{searchProjectNode:"SjL8zcXLjlLq0j9Ym-cN8dKN7F8FAv-iBGI",projectNodeBillCreateVerify:"tXcDq9q61DeLxc7i9g0449rVNzz7s5eYNYXeoh5r61Q",projectNodeGetByProcessId:"DIR7OzKtDCesExI9LHeWdU9M67eHyL0neQ2vCxZsa7Vyd73"}}},184:function(e,t,r){(e.exports=r(2)()).push([e.id,"\n.selectQuoteTemp .t8t-table-container .table-container{\n    min-height: 300px;\n    max-height: 350px;\n}\n.selectQuoteTemp .my-el-dialog .el-form-item__content{\n    width:120px;\n}\n",""])},187:function(e,t,r){var o=r(184);"string"==typeof o&&(o=[[e.id,o,""]]);r(3)(o,{});o.locals&&(e.exports=o.locals)},193:function(e,t,r){r(187);var o=r(4)(r(174),r(195),null,null);e.exports=o.exports},195:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"selectQuoteTemp"},[r("el-dialog",{staticClass:"my-el-dialog selectQuoteItemdialog",class:"workflowProDel"==e.from?"":"g-w-1000",attrs:{title:"选择报价模板",size:"workflowProDel"==e.from?"full":"","close-on-press-escape":null==e.from,"show-close":null==e.from},on:{close:e.closeSelectQuoteDialog},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t}}},[r("t8t-form-panel",{ref:"selectQuoteTempForm",attrs:{dataSource:e.projectInfo,fields:e.formFields,commonData:e.formCommonData}}),e._v(" "),r("div",[r("el-row",{attrs:{type:"flex",justify:"left"}},[r("el-col",{attrs:{span:24}},[r("el-alert",{attrs:{title:"请谨慎设置户型及计价面积，报价单生成后将不可修改！（如需修改，请通过报价单的‘新建’功能操作）",type:"error",closable:!1,"show-icon":""}})],1)],1),e._v(" "),r("br")],1),e._v(" "),r("t8t-table",{ref:"selectQuoteItemTable",attrs:{columns:e.selectQuoteTempColumns,service:e.mainTableService,method:e.mainTableMethod,commonData:e.commonData,args:e.args,indexCol:!1,radioCol:!0,selectable:e.selectable,pageBar:!0},on:{"row-double-click":e.submit,"current-row-change":e.handleCurrentRowChange,"data-loaded":e.tableLoaded}}),e._v(" "),r("div",{slot:"footer"},[r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-col",{attrs:{span:24}},[r("div",{staticClass:"grid-content"},[null==e.from?r("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]):e._e(),e._v(" "),r("el-button",{attrs:{size:"small",type:"primary",disabled:!e.submitAble},on:{click:function(t){e.submit()}}},[e._v("确认")])],1)])],1)],1)],1)],1)},staticRenderFns:[]}}});