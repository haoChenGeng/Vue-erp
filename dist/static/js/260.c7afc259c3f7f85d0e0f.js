webpackJsonp([260,269],{47:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={PROCENTERTREE:{name:"tac4MBKgFxtkOyGS5xolDBVgEEqR4_j",methods:{LISTCATEGIRY:"N4VlGazqhEV4O7p5tFECXLmvbMA87jp"}},PROCENTERCATEGORY:{name:"UXCW5_FfDpVAC4RS04cKtoUQPAo0Ct1bM6DkpEzEh-tmghj",methods:{CATEGORY:"P5ZnSOIfU9FZfG5oeLRcGlaqV3mIzl0g-JG"}},PROCENTERDEPLOYLIST:{name:"kahC43ofmx3VBfYN4D86B0aWN7xyrzY",methods:{DEPLOYLIST:"5k_j_P_WD8RwL8UqaGgemLL",PRODIAGRAM:"ocM-RfcwmwgITykyYSQX_K9vYW-g7j.vb43",FLOWLIST:"Hi_a7GN6TG85Q0RgZpY",PROCESSDETAIL:"h9Gn7JK_3a-JnhpyXXPI7xixH31",GETUSERTASKSWEB:"9bMs6cQMGe_LEaZPtnQU6_k",PROCESSNAME:"bzPfRPsZAIkInrHzR0Ww3jYQ_-B",PROCESSINSTSWEB:"mN-bBZSV7j6gslGBe2R8YAd8iBn",HISTORYPROCESSINSTSWEB:"NXGklFkG5yvT_vupqPexl6hpmeFSq4FqJKrsYWV",QUERYPROCINFOBYSTARTER:"qKH0uUvM502z9e4Eh-3Dbw24I34XnWxYXfCtGiH5-Nk",RETRIEVEPROCESSPICTURE:"caQX8iZlaSbYUOb-Wad-zIItpQHKCn-OTEy",GETACTIVITUINFO:"UwqvS8Ww3OrN3ZNE8PbR9gnMv-gwilk"}},PROCENTERDEPLOYCTL:{name:"ubBdWrXdnC-1cRnPgZs7CXA6xZRnzF0",methods:{SUSPENDPROCDEF:"5nyeHyB7ZEuri3TpRh3tD0d",ACTIVATEPROCDEF:"fcpjGsaCz11JaX2oP0Tevt2",SUSPENDPROCESS:"IiBNEwBUZHvaZEd884hkl9s",ACTIVAREPROCESS:"r-jGv4CJ2_eJr8ju5dL55tG",UPDATEASSIGNEE:"vhuF2ysepV8qxRGxwy2tauE",STARTPROCESS:"ufxCx62mvy5O56qyW1J",COMPLETETASK:"zxbXS3heSFwAqv910ZQ"}},PROCENTERDEPLOY:{name:"75HlZS4nGZjFaJVfcJTtxqRfF8pIixrHj8VLVGRXNwD",methods:{DEPLOYBYZIP:"3qjAn-cqKdzGCqqoRdo"}},USERINFODATD:{name:"VVFThqq6Am6swm_FAiqN6rrCR46gTZuiCR5qQ5N",methods:{ACOUNT:"1zrMMREJIKUfTbFF_QMtddb",FINDUIDBYNAME:"rWhkvIhueB4zmbk3Mhcl3hYq2q5"}},SYSTEMCODE:{name:"6ke2igQ72I0buaw0iMB5QK05wLEnhMQ7HuZlwSYYzEgGJCu",methods:{GETSYSTEMCODE:"MXXlQL4yf_XaY2HZLHGADkzYymPhjUU-DJJ"}},SUPPLIERSHOP:{name:"a4huh3BDf-pU0emKmyu7Fiwcu9ytbRyd6R4fJGCtTE1xcMLdnKS",methods:{GETSUPPSHOPPERSONS:"CxHWEqtWE6yKZEE5n1c"}},IMPOWERSERVICE:{name:"ubBdWrXdnC-1cRnPgZs7CXA6xZRnzF0",methods:{CREATEAGENCY:"2M_S3N4E_Qzk9CCpO9CH9-BA6UT",IMPOWERLIST:"lbZvPBChkehHxtjvcDe8L2Nru8y",DELETEAGENCY:"D0zKDUrN3VmS8o2xeDh7_Lp0ynf"}},CATEGORY:{name:"U_Uwpq1EYRL1nw5uYeS5kdEskn_Q26K",methods:{CREATEGATEGORY:"GcageCv_T_wEaS93LLdsdPRWUUaJJgn",SEARCHCATEGORY:"RdOLFf_hAyM7bPId_uCSRjTPLNEjzon",UPDATECATEGORY:"QoonamrRzgeZFpbXCmQoInbZS4QspJB",UPDATECATEGORYSTATUS:"yB143AKgQw4gHnW9m1GiYUYopvSv7Hm-loDD7tS",TREE:"0AQQGTyJIyMNDgtJ3doayCo38O1cYfXK-mm",CATEGORYPIDS:"MCOWT8SpIDi_P6nikI18e4QgTv1zrDd"}},WORKFLOW:{name:"pQXz7EdPwVrOsEK1WynO21gH--Bnbyi",methods:{LISTPROCESSCATEGORY:"C66IFbiHFe-Mzok0JHNlOoss0N9MWcx2wlW",QUERYPROCESS:"fjlUgmlG7zLURjhrVAcT6lWX8h2",UPDATEPROCESS:"2fjRpZj6xhUBfZFOiDLHxViZvIdeD4E",INSERTPROCESS:"PUVDPQo7aFEVTLG5rTDmohGmzmNfs.r",DELPROCESS:"LdVSoc43wGHYZrRy2pW2VzLdDm_",GETONEPROCESS:"sk62c1hvoLkHg4t51EUUH-WLmyaFBsP",GETCATEGORIES:"Y0i3HqIGSslCeEP0Vwilsqqj3ytq-.M",GETPROCBPMINFOS:"I85ObDNhRvd-fAt0VDczbxoOUv-7gaJ",CREATEPROCBPMINFO:"MWVWMmrbKm9TJFAFx5m5eIk6fvKzSgTIaqx",UPDATEPROCBPMINFO:"TZEGAo_fQ4jWF59EH21rlLTqTMHWhQw6Iut",GETPROCBPMINFOVERSIONS:"5U0yq2AIsSnb6QlkuMuoGsMph2RqGhk-8lE37a-uTcO",UPDATERUNBPM:"THUHVn_jPO9hEb5LDaDHHkxWj-l",OUTPUTPROCINFO:"msrZf5Q1ZsK8hPxa9J7R4e6ZrwbqD2G"}},ProcessInsService:{name:"tac4MBKgFxtkOyGS5xolDBVgEEqR4_j",methods:{getProcessInsts:"ouPCdbPwR9KlvisnAd8UAhC"}}}},79:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(a(76)),o=s(a(1)),n=s(a(47));t.default={obtainCategory:function(e){return(0,o.default)({method:n.default.WORKFLOW.methods.LISTPROCESSCATEGORY,service:n.default.WORKFLOW.name,args:e})},queryProcess:function(e){return(0,o.default)({method:n.default.WORKFLOW.methods.QUERYPROCESS,service:n.default.WORKFLOW.name,args:e})},editProcess:function(e){return(0,o.default)({method:n.default.WORKFLOW.methods.UPDATEPROCESS,service:n.default.WORKFLOW.name,args:e})},createProcess:function(e){return(0,o.default)({method:n.default.WORKFLOW.methods.INSERTPROCESS,service:n.default.WORKFLOW.name,args:e})},toggleProcess:function(e){return(0,o.default)({method:n.default.WORKFLOW.methods.DELPROCESS,service:n.default.WORKFLOW.name,args:e})},findProcess:function(e){return(0,o.default)({method:n.default.WORKFLOW.methods.GETONEPROCESS,service:n.default.WORKFLOW.name,args:e})},getAllCategories:function(e){return(0,o.default)({method:n.default.WORKFLOW.methods.GETCATEGORIES,service:n.default.WORKFLOW.name,args:e})},createProcBpmInfo:function(e){return(0,o.default)({method:n.default.WORKFLOW.methods.CREATEPROCBPMINFO,service:n.default.WORKFLOW.name,args:e})},updateProcBpmInfo:function(e){return(0,o.default)({method:n.default.WORKFLOW.methods.UPDATEPROCBPMINFO,service:n.default.WORKFLOW.name,args:e})},getProcBpmInfos:function(e){return(0,o.default)({method:n.default.WORKFLOW.methods.GETPROCBPMINFOS,service:n.default.WORKFLOW.name,args:e})},getProcBpmInfoVersions:function(e){return(0,o.default)({method:n.default.WORKFLOW.methods.GETPROCBPMINFOVERSIONS,service:n.default.WORKFLOW.name,args:e})},updateRunBpm:function(e){return(0,o.default)({method:n.default.WORKFLOW.methods.UPDATERUNBPM,service:n.default.WORKFLOW.name,args:e})},outputProcInfo:function(e){return(0,o.default)({method:n.default.WORKFLOW.methods.OUTPUTPROCINFO,service:n.default.WORKFLOW.name,args:e})},getProcessInsts:function(e){return(0,o.default)({service:n.default.ProcessInsService.name,method:n.default.ProcessInsService.methods.getProcessInsts,args:e})},getBusinessKeyByProcInsId:function(e){var t=this;return new r.default(function(a,s){t.getProcessInsts({query:{procInsId:e,page:1,size:1}}).then(function(e){200==e.data.status?e.data.result&&e.data.result.result&&e.data.result.result.length>0&&a(e.data.result.result[0].businessKey):s(0)}).catch(function(e){s(0)})})}}},678:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(a(79)),o=s(a(20));t.default={data:function(){return{submitButton:!0,uploadingButton:!1,dialogVisible:!1,dialogMessage:"",procName:"",modelId:"",download:"",fileName:"",breadcrumbData:[{title:"系统管理"},{title:"流程管理后台"},{title:"流程管理"},{title:"版本管理"},{title:"新建"}],params:{bucket:"scm",module:"workflow/designer"},uploadURL:o.default.getUploadURL(),ruleForm:{symbol:"",filePath:"",desc:""},rules:{symbol:[{required:!0,message:"请输入版本唯一标识键!",trigger:"blur"}],filePath:[{required:!0,message:"请上传版本文件!",trigger:"change"},{min:1,message:"上传无路径返回!",trigger:"change"}],desc:[{required:!0,message:"请对本版本修改作必要说明!",trigger:"blur"}]}}},methods:{backToPreUrl:function(){this.dialogVisible=!1,this.$router.go(-1)},beforeUpload:function(e){this.fileName=e.name,this.uploadingButton=!0,this.submitButton=!0},onChange:function(){this.uploadingButton=!1,this.submitButton=!1},onSuccess:function(e,t,a){var s=t.response;if(200==s.status){var r=s.result;this.ruleForm.filePath=r.filePath}else this.ruleForm.filePath=""},handleRemove:function(){this.ruleForm.filePath=""},submitForm:function(e){var t=this,a=!1;if(this.$refs[e].validate(function(e){a=e}),!a)return this.$message("无文件名或文件名正在上传！"),!1;if(!this.formData.filePath)return!1;var s={req:{modelId:this.modelId,status:0,bpmUrl:this.ruleForm.filePath,description:this.ruleForm.desc,fileName:this.fileName}};r.default.createProcBpmInfo(s).then(function(e){var a=e.data;if(a){if(1==a.result&&200==a.status)t.dialogMessage="新建版本成功！",t.dialogVisible=!0;else{var s=a.message;t.$message(s)}}else t.$message("服务请求失败！")})},resetForm:function(e){this.$refs[e].resetFields()},handleChange:function(e){}},created:function(){var e=this.$route.query;"modelId"in e&&(this.modelId=e.modelId),"procName"in e&&(this.procName=e.procName),"key"in e&&(this.ruleForm.symbol=e.key)},computed:{classification:function(){return ruleForm.desc}},components:{},name:"create-bpm"}},1043:function(e,t,a){(e.exports=a(2)()).push([e.id,"\n.el-select .el-input[data-v-2e141c35] {\n    width: 110px;\n}\n.form-area[data-v-2e141c35]{\n    width: 40%;\n    margin: 20px;\n    padding: 20px 10px;\n    border: 1px solid #d6d6d6;\n}\n.submit-area[data-v-2e141c35]{\n    text-align: center;\n}\n",""])},1487:function(e,t,a){var s=a(1043);"string"==typeof s&&(s=[[e.id,s,""]]);a(3)(s,{});s.locals&&(e.exports=s.locals)},2121:function(e,t,a){a(1487);var s=a(4)(a(678),a(2332),"data-v-2e141c35",null);e.exports=s.exports},2332:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("t8t-breadcrumb",{attrs:{data:e.breadcrumbData}}),e._v(" "),a("div",{staticClass:"form-area"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"版本名称",prop:""}},[a("el-input",{attrs:{value:e.procName,disabled:!0}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标识键",prop:"symbol"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.symbol,callback:function(t){e.ruleForm.symbol=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"流程图",prop:"code"}},[a("div",{staticClass:"list-container"},[a("el-upload",{staticClass:"upload-demo",attrs:{data:e.params,action:e.uploadURL,multiple:"false","before-upload":e.beforeUpload,accept:".bpmn","on-change":e.onChange,"on-remove":e.handleRemove,"on-success":e.onSuccess,"on-progress":e.onProgress},model:{value:e.ruleForm.filePath,callback:function(t){e.ruleForm.filePath=t}}},[a("el-button",{attrs:{size:"small",type:"primary",disabled:e.uploadingButton}},[e._v("\n                            点击上传\n                            "),a("svg",{staticClass:"icon",staticStyle:{width:"12px",height:"12px","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M796.2 466.4c0-2.4 0.4-4.8 0.4-7.2 0-130-103.6-235.2-231.4-235.2-92.2 0-171.4 54.8-208.6 134-16.2-8.2-34.4-13-53.6-13-59 0-108.2 43.8-117.6 101C114.6 470.4 64 538.2 64 618c0 100.4 80.2 182 179 182H448v-160h-96.4l160.4-167.4 160.4 167.2H576v160h220.6c90.4 0 163.4-75 163.4-166.8 0-91.8-73.4-166.4-163.8-166.6z"}})])]),e._v(" "),a("div",{staticClass:"el-upload__tip",slot:"tip"},[e._v("只能上传*.bpmn文件，且不超过500kb")])],1)],1)]),e._v(" "),a("el-form-item",{attrs:{label:"说明",prop:"desc"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.desc,callback:function(t){e.ruleForm.desc=t}}})],1),e._v(" "),a("el-form-item",{staticClass:"submit-area"},[a("el-button",{attrs:{type:"primary",disabled:e.submitButton},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("提交")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.backToPreUrl()}}},[e._v("返回")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"用户提示",size:"tiny"},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t}}},[a("span",[e._v(e._s(e.dialogMessage))]),e._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(t){e.backToPreUrl()}}},[e._v("确认")])],1)])],1)},staticRenderFns:[]}}});