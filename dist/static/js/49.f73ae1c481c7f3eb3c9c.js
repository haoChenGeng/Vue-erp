webpackJsonp([49,258,269],{47:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={PROCENTERTREE:{name:"tac4MBKgFxtkOyGS5xolDBVgEEqR4_j",methods:{LISTCATEGIRY:"N4VlGazqhEV4O7p5tFECXLmvbMA87jp"}},PROCENTERCATEGORY:{name:"UXCW5_FfDpVAC4RS04cKtoUQPAo0Ct1bM6DkpEzEh-tmghj",methods:{CATEGORY:"P5ZnSOIfU9FZfG5oeLRcGlaqV3mIzl0g-JG"}},PROCENTERDEPLOYLIST:{name:"kahC43ofmx3VBfYN4D86B0aWN7xyrzY",methods:{DEPLOYLIST:"5k_j_P_WD8RwL8UqaGgemLL",PRODIAGRAM:"ocM-RfcwmwgITykyYSQX_K9vYW-g7j.vb43",FLOWLIST:"Hi_a7GN6TG85Q0RgZpY",PROCESSDETAIL:"h9Gn7JK_3a-JnhpyXXPI7xixH31",GETUSERTASKSWEB:"9bMs6cQMGe_LEaZPtnQU6_k",PROCESSNAME:"bzPfRPsZAIkInrHzR0Ww3jYQ_-B",PROCESSINSTSWEB:"mN-bBZSV7j6gslGBe2R8YAd8iBn",HISTORYPROCESSINSTSWEB:"NXGklFkG5yvT_vupqPexl6hpmeFSq4FqJKrsYWV",QUERYPROCINFOBYSTARTER:"qKH0uUvM502z9e4Eh-3Dbw24I34XnWxYXfCtGiH5-Nk",RETRIEVEPROCESSPICTURE:"caQX8iZlaSbYUOb-Wad-zIItpQHKCn-OTEy",GETACTIVITUINFO:"UwqvS8Ww3OrN3ZNE8PbR9gnMv-gwilk"}},PROCENTERDEPLOYCTL:{name:"ubBdWrXdnC-1cRnPgZs7CXA6xZRnzF0",methods:{SUSPENDPROCDEF:"5nyeHyB7ZEuri3TpRh3tD0d",ACTIVATEPROCDEF:"fcpjGsaCz11JaX2oP0Tevt2",SUSPENDPROCESS:"IiBNEwBUZHvaZEd884hkl9s",ACTIVAREPROCESS:"r-jGv4CJ2_eJr8ju5dL55tG",UPDATEASSIGNEE:"vhuF2ysepV8qxRGxwy2tauE",STARTPROCESS:"ufxCx62mvy5O56qyW1J",COMPLETETASK:"zxbXS3heSFwAqv910ZQ"}},PROCENTERDEPLOY:{name:"75HlZS4nGZjFaJVfcJTtxqRfF8pIixrHj8VLVGRXNwD",methods:{DEPLOYBYZIP:"3qjAn-cqKdzGCqqoRdo"}},USERINFODATD:{name:"VVFThqq6Am6swm_FAiqN6rrCR46gTZuiCR5qQ5N",methods:{ACOUNT:"1zrMMREJIKUfTbFF_QMtddb",FINDUIDBYNAME:"rWhkvIhueB4zmbk3Mhcl3hYq2q5"}},SYSTEMCODE:{name:"6ke2igQ72I0buaw0iMB5QK05wLEnhMQ7HuZlwSYYzEgGJCu",methods:{GETSYSTEMCODE:"MXXlQL4yf_XaY2HZLHGADkzYymPhjUU-DJJ"}},SUPPLIERSHOP:{name:"a4huh3BDf-pU0emKmyu7Fiwcu9ytbRyd6R4fJGCtTE1xcMLdnKS",methods:{GETSUPPSHOPPERSONS:"CxHWEqtWE6yKZEE5n1c"}},IMPOWERSERVICE:{name:"ubBdWrXdnC-1cRnPgZs7CXA6xZRnzF0",methods:{CREATEAGENCY:"2M_S3N4E_Qzk9CCpO9CH9-BA6UT",IMPOWERLIST:"lbZvPBChkehHxtjvcDe8L2Nru8y",DELETEAGENCY:"D0zKDUrN3VmS8o2xeDh7_Lp0ynf"}},CATEGORY:{name:"U_Uwpq1EYRL1nw5uYeS5kdEskn_Q26K",methods:{CREATEGATEGORY:"GcageCv_T_wEaS93LLdsdPRWUUaJJgn",SEARCHCATEGORY:"RdOLFf_hAyM7bPId_uCSRjTPLNEjzon",UPDATECATEGORY:"QoonamrRzgeZFpbXCmQoInbZS4QspJB",UPDATECATEGORYSTATUS:"yB143AKgQw4gHnW9m1GiYUYopvSv7Hm-loDD7tS",TREE:"0AQQGTyJIyMNDgtJ3doayCo38O1cYfXK-mm",CATEGORYPIDS:"MCOWT8SpIDi_P6nikI18e4QgTv1zrDd"}},WORKFLOW:{name:"pQXz7EdPwVrOsEK1WynO21gH--Bnbyi",methods:{LISTPROCESSCATEGORY:"C66IFbiHFe-Mzok0JHNlOoss0N9MWcx2wlW",QUERYPROCESS:"fjlUgmlG7zLURjhrVAcT6lWX8h2",UPDATEPROCESS:"2fjRpZj6xhUBfZFOiDLHxViZvIdeD4E",INSERTPROCESS:"PUVDPQo7aFEVTLG5rTDmohGmzmNfs.r",DELPROCESS:"LdVSoc43wGHYZrRy2pW2VzLdDm_",GETONEPROCESS:"sk62c1hvoLkHg4t51EUUH-WLmyaFBsP",GETCATEGORIES:"Y0i3HqIGSslCeEP0Vwilsqqj3ytq-.M",GETPROCBPMINFOS:"I85ObDNhRvd-fAt0VDczbxoOUv-7gaJ",CREATEPROCBPMINFO:"MWVWMmrbKm9TJFAFx5m5eIk6fvKzSgTIaqx",UPDATEPROCBPMINFO:"TZEGAo_fQ4jWF59EH21rlLTqTMHWhQw6Iut",GETPROCBPMINFOVERSIONS:"5U0yq2AIsSnb6QlkuMuoGsMph2RqGhk-8lE37a-uTcO",UPDATERUNBPM:"THUHVn_jPO9hEb5LDaDHHkxWj-l",OUTPUTPROCINFO:"msrZf5Q1ZsK8hPxa9J7R4e6ZrwbqD2G"}},ProcessInsService:{name:"tac4MBKgFxtkOyGS5xolDBVgEEqR4_j",methods:{getProcessInsts:"ouPCdbPwR9KlvisnAd8UAhC"}}}},78:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(1)),o=n(a(47));t.default={listCategory:function(e){return(0,r.default)({method:o.default.PROCENTERTREE.methods.LISTCATEGIRY,service:o.default.PROCENTERTREE.name,args:e})},getProCategory:function(e){return(0,r.default)({method:o.default.PROCENTERCATEGORY.methods.CATEGORY,service:o.default.PROCENTERCATEGORY.name,args:e})},getDeployLists:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYLIST.methods.DEPLOYLIST,service:o.default.PROCENTERDEPLOYLIST.name,args:e})},FLOWLIST:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYLIST.methods.FLOWLIST,service:o.default.PROCENTERDEPLOYLIST.name,args:e})},suspendProcDef:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYCTL.methods.SUSPENDPROCDEF,service:o.default.PROCENTERDEPLOYCTL.name,args:e})},activateProcDef:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYCTL.methods.ACTIVATEPROCDEF,service:o.default.PROCENTERDEPLOYCTL.name,args:e})},deleteProcess:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYCTL.methods.DELETEPROCESS,service:o.default.PROCENTERDEPLOYCTL.name,args:e})},getProDiagram:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYLIST.methods.PRODIAGRAM,service:o.default.PROCENTERDEPLOYLIST.name,args:e})},deployProcess:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOY.methods.DEPLOYBYZIP,service:o.default.PROCENTERDEPLOY.name,args:e})},getProcNames:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYLIST.methods.PROCESSNAME,service:o.default.PROCENTERDEPLOYLIST.name,args:e})},getDeployList:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYLIST.methods.GETUSERTASKS,service:o.default.PROCENTERDEPLOYLIST.name,args:e})},suspendProcess:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYCTL.methods.SUSPENDPROCESS,service:o.default.PROCENTERDEPLOYCTL.name,args:e})},activateProcess:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYCTL.methods.ACTIVAREPROCESS,service:o.default.PROCENTERDEPLOYCTL.name,args:e})},getProcessDetail:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYLIST.methods.PROCESSDETAIL,service:o.default.PROCENTERDEPLOYLIST.name,args:e})},getUserinfoName:function(e){return(0,r.default)({method:o.default.USERINFODATD.methods.ACOUNT,service:o.default.USERINFODATD.name,args:e})},getSystemCode:function(e){return(0,r.default)({method:o.default.SYSTEMCODE.methods.GETSYSTEMCODE,service:o.default.SYSTEMCODE.name,args:e})},getProcessInsts:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYLIST.methods.PROCESSINSTS,service:o.default.PROCENTERDEPLOYLIST.name,args:e})},getHistoricProcessInsts:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYLIST.methods.HISTORYPROCESSINSTS,service:o.default.PROCENTERDEPLOYLIST.name,args:e})},getSupperShop:function(e){return(0,r.default)({method:o.default.SUPPLIERSHOP.methods.GETSUPPSHOPPERSONS,service:o.default.SUPPLIERSHOP.name,args:e})},updateAssignee:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYCTL.methods.UPDATEASSIGNEE,service:o.default.PROCENTERDEPLOYCTL.name,args:e})},getUserinfoByName:function(e){return(0,r.default)({method:o.default.USERINFODATD.methods.FINDUIDBYNAME,service:o.default.USERINFODATD.name,args:e})},impowerByAssigneeId:function(e){return(0,r.default)({method:o.default.IMPOWERSERVICE.methods.CREATEAGENCY,service:o.default.IMPOWERSERVICE.name,args:e})},impowerList:function(e){return(0,r.default)({method:o.default.IMPOWERSERVICE.methods.IMPOWERLIST,service:o.default.IMPOWERSERVICE.name,args:e})},cancelImpowerByRid:function(e){return(0,r.default)({method:o.default.IMPOWERSERVICE.methods.DELETEAGENCY,service:o.default.IMPOWERSERVICE.name,args:e})},createCategory:function(e){return(0,r.default)({method:o.default.CATEGORY.methods.CREATEGATEGORY,service:o.default.CATEGORY.name,args:e})},updateCategory:function(e){return(0,r.default)({method:o.default.CATEGORY.methods.UPDATECATEGORY,service:o.default.CATEGORY.name,args:e})},updateStatusCategory:function(e){return(0,r.default)({method:o.default.CATEGORY.methods.UPDATECATEGORYSTATUS,service:o.default.CATEGORY.name,args:e})},searchProCategory:function(e){return(0,r.default)({method:o.default.CATEGORY.methods.SEARCHCATEGORY,service:o.default.CATEGORY.name,args:e})},getCategoryTree:function(e){return(0,r.default)({method:o.default.CATEGORY.methods.TREE,service:o.default.CATEGORY.name,args:e})},getCategoryPid:function(e){return(0,r.default)({method:o.default.CATEGORY.methods.CATEGORYPIDS,service:o.default.CATEGORY.name,args:e})},startProcess:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYCTL.methods.STARTPROCESS,service:o.default.PROCENTERDEPLOYCTL.name,args:e})},completeTask:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYCTL.methods.COMPLETETASK,service:o.default.PROCENTERDEPLOYCTL.name,args:e})},retrieveProcessPicture:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYLIST.methods.RETRIEVEPROCESSPICTURE,service:o.default.PROCENTERDEPLOYLIST.name,args:e})},getActivityInfo:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYLIST.methods.GETACTIVITUINFO,service:o.default.PROCENTERDEPLOYLIST.name,args:e})}}},79:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(76)),o=n(a(1)),s=n(a(47));t.default={obtainCategory:function(e){return(0,o.default)({method:s.default.WORKFLOW.methods.LISTPROCESSCATEGORY,service:s.default.WORKFLOW.name,args:e})},queryProcess:function(e){return(0,o.default)({method:s.default.WORKFLOW.methods.QUERYPROCESS,service:s.default.WORKFLOW.name,args:e})},editProcess:function(e){return(0,o.default)({method:s.default.WORKFLOW.methods.UPDATEPROCESS,service:s.default.WORKFLOW.name,args:e})},createProcess:function(e){return(0,o.default)({method:s.default.WORKFLOW.methods.INSERTPROCESS,service:s.default.WORKFLOW.name,args:e})},toggleProcess:function(e){return(0,o.default)({method:s.default.WORKFLOW.methods.DELPROCESS,service:s.default.WORKFLOW.name,args:e})},findProcess:function(e){return(0,o.default)({method:s.default.WORKFLOW.methods.GETONEPROCESS,service:s.default.WORKFLOW.name,args:e})},getAllCategories:function(e){return(0,o.default)({method:s.default.WORKFLOW.methods.GETCATEGORIES,service:s.default.WORKFLOW.name,args:e})},createProcBpmInfo:function(e){return(0,o.default)({method:s.default.WORKFLOW.methods.CREATEPROCBPMINFO,service:s.default.WORKFLOW.name,args:e})},updateProcBpmInfo:function(e){return(0,o.default)({method:s.default.WORKFLOW.methods.UPDATEPROCBPMINFO,service:s.default.WORKFLOW.name,args:e})},getProcBpmInfos:function(e){return(0,o.default)({method:s.default.WORKFLOW.methods.GETPROCBPMINFOS,service:s.default.WORKFLOW.name,args:e})},getProcBpmInfoVersions:function(e){return(0,o.default)({method:s.default.WORKFLOW.methods.GETPROCBPMINFOVERSIONS,service:s.default.WORKFLOW.name,args:e})},updateRunBpm:function(e){return(0,o.default)({method:s.default.WORKFLOW.methods.UPDATERUNBPM,service:s.default.WORKFLOW.name,args:e})},outputProcInfo:function(e){return(0,o.default)({method:s.default.WORKFLOW.methods.OUTPUTPROCINFO,service:s.default.WORKFLOW.name,args:e})},getProcessInsts:function(e){return(0,o.default)({service:s.default.ProcessInsService.name,method:s.default.ProcessInsService.methods.getProcessInsts,args:e})},getBusinessKeyByProcInsId:function(e){var t=this;return new r.default(function(a,n){t.getProcessInsts({query:{procInsId:e,page:1,size:1}}).then(function(e){200==e.data.status?e.data.result&&e.data.result.result&&e.data.result.result.length>0&&a(e.data.result.result[0].businessKey):n(0)}).catch(function(e){n(0)})})}}},173:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(79)),o=n(a(6));t.default={data:function(){return{createFailure:!0,dialogVisible:!1,dialogMessage:"",breadcrumbData:[{title:"系统管理"},{title:"流程管理后台"},{title:"流程管理"},{title:"新建流程"}],ruleForm:{name:"",symbol:"",code:"",region:[],desc:""},rules:{name:[{required:!0,message:"请输入流程名称!",trigger:"blur"},{min:1,max:20,message:"流程名20字以内!",trigger:"blur"}],symbol:[{required:!0,message:"请输入标识键!",trigger:"blur"}],code:[{required:!1,message:"请输入流程编码!",trigger:"blur"},{len:4,message:"请输入4位字符!",trigger:"blur"}],region:[{required:!0,message:"请选择流程所属分类!",trigger:"change",type:"array"}],desc:[{required:!1,message:"请对本流程进行必要说明!",trigger:"blur"}]},options:[],cascaderProps:{label:"label",value:"id",children:"subclass",disabled:"isDel",symbol:"label"},currentClassifiedId:""}},created:function(){this.getCategories()},methods:{createProcOk:function(){this.dialogVisible=!1,this.$refs.ruleForm.resetFields()},backToPreUrl:function(){this.dialogVisible=!1,this.$router.go(-1)},getCategories:function(){var e=this;r.default.obtainCategory({flag:!1}).then(function(t){e.options=t.data.result,e.ruleForm.region=[16]})},getCategoriesId:function(){var e=this.options,t=this.ruleForm.region;option;t.forEach(function(t,a){e.forEach(function(e){})})},submitForm:function(e){var t=this,a=!1;if(this.$refs[e].validate(function(e){a=e}),!a)return!1;var n={req:{procName:this.ruleForm.name,identifyKey:this.ruleForm.symbol,procCode:this.ruleForm.code,categoryId:this.currentClassifiedId,description:this.ruleForm.desc,createUser:o.default.get("t8t-tc-uid")}};r.default.createProcess(n).then(function(e){var a=e.data;if(a)if(1==a.result&&200==a.status)t.dialogMessage="新建流程成功！",t.createFailure=!1,t.dialogVisible=!0;else{var n=a.message;t.$message(n)}else t.$message("服务请求失败！")})},resetForm:function(e){this.$refs[e].resetFields()},handleChange:function(e){this.currentClassifiedId=e[e.length-1]}},computed:{classification:function(){return ruleForm.desc}},components:{},name:"init-workflow"}},185:function(e,t,a){(e.exports=a(2)()).push([e.id,"\n.el-select .el-input[data-v-5c3e59f6] {\n    width: 110px;\n}\n.form-area[data-v-5c3e59f6]{\n    width: 40%;\n    margin: 20px;\n    padding: 20px 10px;\n    border: 1px solid #d6d6d6;\n}\n.classified[data-v-5c3e59f6]{\n    position: relative;\n    font-size: 12px;\n    display: inline-block;\n    width: 100%;\n}\n.workflow-create[data-v-5c3e59f6]{\n    text-align: center;\n}\n",""])},188:function(e,t,a){var n=a(185);"string"==typeof n&&(n=[[e.id,n,""]]);a(3)(n,{});n.locals&&(e.exports=n.locals)},192:function(e,t,a){a(188);var n=a(4)(a(173),a(196),"data-v-5c3e59f6",null);e.exports=n.exports},196:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("t8t-breadcrumb",{attrs:{data:e.breadcrumbData}}),e._v(" "),a("div",{staticClass:"form-area"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"流程名称",prop:"name"}},[a("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.ruleForm.name=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标识键",prop:"symbol"}},[a("el-input",{model:{value:e.ruleForm.symbol,callback:function(t){e.ruleForm.symbol=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"流程编码",prop:"code"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.code,callback:function(t){e.ruleForm.code=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属分类",prop:"region"}},[a("el-cascader",{staticClass:"classified",attrs:{"expand-trigger":"hover",options:e.options,"show-all-levels":!1,"change-on-select":!0,props:e.cascaderProps,size:e.large},on:{change:e.handleChange},model:{value:e.ruleForm.region,callback:function(t){e.ruleForm.region=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"说明",prop:"desc"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.desc,callback:function(t){e.ruleForm.desc=t}}})],1),e._v(" "),a("el-form-item",{staticClass:"workflow-create"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){e.backToPreUrl()}}},[e._v("返回")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"用户提示",size:"tiny"},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t}}},[a("span",[e._v(e._s(e.dialogMessage))]),e._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.backToPreUrl()}}},[e._v("确定")])],1)])],1)},staticRenderFns:[]}},679:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(79)),o=n(a(6));n(a(78));t.default={name:"creteprocess-dialog",data:function(){return{tenantIdEditable:!0,dialogVisible:!0,labelPosition:"right",formLabelWidth:"120px",userId:o.default.get("t8t-tc-uid"),formData:{name:"",symbol:"",code:"",region:[],desc:""},isLoading:!1,rules:{name:[{required:!0,message:"请输入流程名称!",trigger:"blur"},{min:1,max:20,message:"流程名20字以内!",trigger:"blur"}],symbol:[{required:!0,message:"请输入标识键!",trigger:"blur"},{validator:function(e,t,a){isNaN(t)?a():a(new Error("标识键不能为纯数字"))},trigger:"blur"}],code:[{required:!1,message:"请输入流程编码!",trigger:"blur"},{len:4,message:"请输入4位字符!",trigger:"blur"}],region:[{required:!0,message:"请选择流程所属分类!",trigger:"change",type:"array"}],desc:[{required:!1,message:"请对本流程进行必要说明!",trigger:"blur"}]},varCheck:!1,options:[],cascaderProps:{label:"label",value:"id",children:"subclass",disabled:"isDel",symbol:"label"},currentClassifiedId:""}},computed:{dialogVisible:function(){return!0},classification:function(){return formData.desc}},created:function(){this.getCategories()},methods:{initformData:function(){this.formData={idOrKey:"",startById:"",starter:this.userId,tenantId:"",businessKey:"",workflow:"",biz:""}},btnOKClick:function(){this.check(),this.varCheck?this.startProcess():this.$msgbox({title:"消息",type:"fail",message:"操作失败,缺少数据",showCancelButton:!1,confirmButtonText:"知道了"})},getCategories:function(){var e=this;r.default.obtainCategory({flag:!1}).then(function(t){e.options=t.data.result,e.formData.region=[16]})},getCategoriesId:function(){var e=this.options,t=this.formData.region;option;t.forEach(function(t,a){e.forEach(function(e){})})},btnCancleClick:function(){this.$emit("close")},handleChange:function(e){this.currentClassifiedId=e[e.length-1]},submitForm:function(e){var t=this,a=!1;if(this.$refs[e].validate(function(e){a=e}),!a)return this.$message.error("填写的流程信息有误！"),!1;var n={req:{procName:this.formData.name,identifyKey:this.formData.symbol,procCode:this.formData.code,categoryId:this.currentClassifiedId,description:this.formData.desc,createUser:o.default.get("t8t-tc-uid")}};r.default.createProcess(n).then(function(e){var a=e.data;if(a)if(1==a.result&&200==a.status)t.isLoading=!1,t.$emit("close"),t.$msgbox({title:"消息",type:"success",message:"流程新建成功",showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"}),t.$emit("getTableData");else{var n=a.message;t.isLoading=!1,t.$message.error(n)}else t.$message("服务请求失败！")})}}}},683:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(79)),o=n(a(6));n(a(78));t.default={name:"editprocess-dialog",data:function(){return{tenantIdEditable:!0,dialogVisible:!0,labelPosition:"right",formLabelWidth:"120px",userId:o.default.get("t8t-tc-uid"),formData:{name:"",symbol:"",code:"",region:[],desc:""},isLoading:!1,rules:{name:[{required:!0,message:"请输入流程名称!",trigger:"blur"},{min:1,max:20,message:"流程名20字以内!",trigger:"blur"}],region:[{required:!0,message:"请选择流程所属分类!",trigger:"change",type:"array"}],desc:[{required:!1,message:"请对本流程进行必要说明!",trigger:"blur"}]},varCheck:!1,options:[],cascaderProps:{label:"label",value:"id",children:"subclass",disabled:"isDel",symbol:"label"},currentClassifiedId:""}},computed:{dialogVisible:function(){return!0},classification:function(){return formData.desc}},props:["id","identifyKey"],created:function(){this.getCategories(),this.queryWorkflow(this.id),this.formData.symbol=this.identifyKey},methods:{queryWorkflow:function(e){var t=this,a={id:e};r.default.findProcess(a).then(function(e){var a=e.data.result;t.formData.name=a.procName,t.formData.symbol=a.identifyKey,t.formData.code=a.procCode,t.formData.region=a.pids,t.currentClassifiedId=a.pids[a.pids.length-1],t.formData.desc=a.description})},getCategories:function(){var e=this;r.default.obtainCategory({flag:!1}).then(function(t){e.options=t.data.result,e.formData.region=[16]})},getCategoriesId:function(){var e=this.options,t=this.formData.region;option;t.forEach(function(t,a){e.forEach(function(e){})})},btnCancleClick:function(){this.$emit("close")},handleChange:function(e){this.currentClassifiedId=e[e.length-1]},submitForm:function(e){var t=this,a=!1;if(this.$refs[e].validate(function(e){a=e}),!a)return this.$message.error("填写的流程信息不完整!"),!1;var n={req:{id:this.id,procName:this.formData.name,identifyKey:this.formData.symbol,procCode:this.formData.code,categoryId:this.currentClassifiedId,description:this.formData.desc,createUser:o.default.get("t8t-tc-uid")}};r.default.editProcess(n).then(function(e){var a=e.data;if(a)if(1==a.result&&200==a.status)t.isLoading=!1,t.$emit("close"),t.$msgbox({title:"消息",type:"success",message:"流程新建成功",showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"}),t.$emit("getTableData");else{var n=a.message;t.isLoading=!1,t.$message.error(n)}else t.$message("服务请求失败！")})}}}},688:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(79)),o=n(a(6));n(a(78));t.default={name:"creteprocess-dialog",data:function(){return{tenantIdEditable:!0,dialogVisible:!0,labelPosition:"right",formLabelWidth:"120px",userId:o.default.get("t8t-tc-uid"),formData:{name:"",symbol:"",code:"",region:[],desc:""},isLoading:!1,rules:{name:[{required:!0,message:"请输入流程名称!",trigger:"blur"},{min:1,max:20,message:"流程名20字以内!",trigger:"blur"}],region:[{required:!0,message:"请选择流程所属分类!",trigger:"change",type:"array"}],desc:[{required:!1,message:"请对本流程进行必要说明!",trigger:"blur"}]},varCheck:!1,options:[],cascaderProps:{label:"label",value:"id",children:"subclass",disabled:"isDel",symbol:"label"},currentClassifiedId:""}},computed:{dialogVisible:function(){return!0},classification:function(){return formData.desc}},props:["id","identifyKey"],created:function(){this.getCategories(),this.queryWorkflow(this.id),this.formData.symbol=this.identifyKey},methods:{backToPreUrl:function(){this.dialogVisible=!1},queryWorkflow:function(e){var t=this,a={id:e};r.default.findProcess(a).then(function(e){var a=e.data.result;t.formData.name=a.procName,t.formData.symbol=a.identifyKey,t.formData.code=a.procCode,t.formData.region=a.pids,t.currentClassifiedId=a.pids[a.pids.length-1],t.formData.desc=a.description})},getCategories:function(){var e=this;r.default.obtainCategory({flag:!1}).then(function(t){e.options=t.data.result,e.formData.region=[16]})},getCategoriesId:function(){var e=this.options,t=this.formData.region;option;t.forEach(function(t,a){e.forEach(function(e){})})},btnCancleClick:function(){this.$emit("close")},handleChange:function(e){this.currentClassifiedId=e[e.length-1]},submitForm:function(e){var t=this,a={req:{id:this.id,procName:this.formData.name,identifyKey:this.formData.symbol,procCode:this.formData.code,categoryId:this.currentClassifiedId,description:this.formData.desc,createUser:o.default.get("t8t-tc-uid")}};r.default.editProcess(a).then(function(e){var a=e.data;if(a)if(1==a.result&&200==a.status)t.isLoading=!1,t.$emit("close"),t.$msgbox({title:"消息",type:"success",message:"流程新建成功",showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"}),t.$emit("getTableData");else{var n=a.message;t.isLoading=!1,t.$message.error(n)}else t.$message("服务请求失败！")})}}}},692:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});n(a(192));var r=n(a(79)),o=n(a(47)),s=n(a(2122)),i=n(a(2126)),l=n(a(2131));t.default={data:function(){return{identifyKey:"",selectWFId:0,desc:"",categoryId:"",categoryCode:"",createDialogVisible:!1,editDialogVisible:!1,seeDialogVisible:!1,service:o.default.WORKFLOW.name,method:o.default.WORKFLOW.methods.QUERYPROCESS,tableArgs:{req:{isDel:2}},tableColumns:[{prop:"procName",label:"名称"},{prop:"identifyKey",label:"标识键"},{prop:"categoryName",label:"类别"},{prop:"isDel",label:"入口状态",formatter:this.checkStatus},{prop:"createTime",label:"创建时间",formatter:"dateParser"}],treeData:[],treeProps:{label:"label",children:"subclass",disabled:"isDel",symbol:"label"},breadcrumbData:[{title:"系统管理"},{title:"流程管理后台"},{title:"流程管理"},{title:"流程管理"}],searchFields:[{type:"select",label:"入口状态",name:"isDel",selectSourceKey:"entranceOptions"},{type:"input",label:"名称",name:"procName",placeholder:"流程名称关键字"}],searchOptions:{bizOptions:[],receiptTypeOptions:[],entranceOptions:[{text:"全部",value:2},{text:"禁用",value:1},{text:"启用",value:0}]}}},activated:function(){this.initLeftTree()},created:function(){this.initLeftTree()},methods:{initLeftTree:function(){var e=this;r.default.obtainCategory({flag:!0}).then(function(t){e.treeData=t.data.result})},checkStatus:function(e,t){var a=void 0;switch(e){case 0:a="启用";break;case 1:a="禁用"}return a},onSearchSubmit:function(e){this.tableArgs={req:e}},onNodeClick:function(e){var t=e.id;this.tableArgs={req:{categoryId:t}}},checkIfSelectWorkflow:function(){return""!=this.selectWFId||(this.$message("请选择需要使用的流程！"),!1)},onView:function(e,t){this.$refs["list-view"].disableBySymbol(e)},onCreate:function(e,t){this.createDialogVisible=!0},onEdit:function(e,t){this.checkIfSelectWorkflow()&&(this.editDialogVisible=!0)},onCheck:function(e,t){this.checkIfSelectWorkflow()&&(this.seeDialogVisible=!0)},onRowChange:function(e){this.selectWFId=e.id,this.procName=e.procName,this.identifyKey=e.identifyKey,this.desc=e.description,this.categoryId=e.categoryId,this.categoryCode=e.categoryCode},cleanTempKey:function(){this.selectWFId=0,this.procName="",this.identifyKey=""},reloadTableData:function(){this.cleanTempKey(),this.$refs["list-view"].getTableInstance().reloadTable()},onStart:function(e,t){var a=this;if(this.checkIfSelectWorkflow()){var n={id:this.selectWFId,isDel:0};r.default.toggleProcess(n).then(function(e){200==e.data.status&&1==e.data.result&&(a.$message("开启成功！"),a.reloadTableData())})}},onDisable:function(e,t){var a=this;if(this.checkIfSelectWorkflow()){var n={id:this.selectWFId,isDel:1};r.default.toggleProcess(n).then(function(e){200==e.data.status&&1==e.data.result&&(a.$message("禁用成功!"),a.reloadTableData())})}},onVersionControl:function(e,t){if(this.checkIfSelectWorkflow()){var a={path:"/procenter/version-workflow",query:{id:this.selectWFId,procName:this.procName,key:this.identifyKey,desc:this.desc,categoryId:this.categoryId,categoryCode:this.categoryCode}};this.$router.push(a)}},onDesigner:function(e,t){location.href="http://192.168.3.33:8000/dist/index.html?key=XXXX"},beforeTreeSubmit:function(){return!1}},components:{CreateprocessDialog:s.default,EditprocessDialog:i.default,SeeprocessDialog:l.default}}},1061:function(e,t,a){(e.exports=a(2)()).push([e.id,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},1160:function(e,t,a){(e.exports=a(2)()).push([e.id,"\n.el-select .el-input[data-v-4fdb0cd2] {\n    width: 110px;\n}\n.form-area[data-v-4fdb0cd2]{\n    width: 40%;\n    margin: 20px;\n    padding: 20px 10px;\n    border: 1px solid #d6d6d6;\n}\n.classified[data-v-4fdb0cd2]{\n    position: relative;\n    font-size: 12px;\n    display: inline-block;\n    width: 100%;\n}\n.workflow-create[data-v-4fdb0cd2]{\n    text-align: center;\n}\n",""])},1197:function(e,t,a){(e.exports=a(2)()).push([e.id,"\n.el-select .el-input[data-v-5bb5cc49] {\n    width: 110px;\n}\n.form-area[data-v-5bb5cc49]{\n    width: 40%;\n    margin: 20px;\n    padding: 20px 10px;\n    border: 1px solid #d6d6d6;\n}\n.classified[data-v-5bb5cc49]{\n    position: relative;\n    font-size: 12px;\n    display: inline-block;\n    width: 100%;\n}\n.workflow-create[data-v-5bb5cc49]{\n         text-align: center;\n}\n",""])},1263:function(e,t,a){(e.exports=a(2)()).push([e.id,"\n.el-select .el-input[data-v-7b62dcbc] {\n    width: 110px;\n}\n.form-area[data-v-7b62dcbc]{\n    width: 40%;\n    margin: 20px;\n    padding: 20px 10px;\n    border: 1px solid #d6d6d6;\n}\n.classified[data-v-7b62dcbc]{\n    position: relative;\n    font-size: 12px;\n    display: inline-block;\n    width: 100%;\n}\n.workflow-create[data-v-7b62dcbc]{\n    text-align: center;\n}\n",""])},1505:function(e,t,a){var n=a(1061);"string"==typeof n&&(n=[[e.id,n,""]]);a(3)(n,{});n.locals&&(e.exports=n.locals)},1606:function(e,t,a){var n=a(1160);"string"==typeof n&&(n=[[e.id,n,""]]);a(3)(n,{});n.locals&&(e.exports=n.locals)},1643:function(e,t,a){var n=a(1197);"string"==typeof n&&(n=[[e.id,n,""]]);a(3)(n,{});n.locals&&(e.exports=n.locals)},1709:function(e,t,a){var n=a(1263);"string"==typeof n&&(n=[[e.id,n,""]]);a(3)(n,{});n.locals&&(e.exports=n.locals)},2122:function(e,t,a){a(1643);var n=a(4)(a(679),a(2450),"data-v-5bb5cc49",null);e.exports=n.exports},2126:function(e,t,a){a(1606);var n=a(4)(a(683),a(2422),"data-v-4fdb0cd2",null);e.exports=n.exports},2131:function(e,t,a){a(1709);var n=a(4)(a(688),a(2509),"data-v-7b62dcbc",null);e.exports=n.exports},2135:function(e,t,a){a(1505);var n=a(4)(a(692),a(2349),"data-v-31c8ca86",null);e.exports=n.exports},2349:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("t8t-list-view",{ref:"list-view",attrs:{showTree:"true",showToolbar:"true",showSearchToggleBtn:!1,refreshOnTreeClick:!1,breadcrumbData:e.breadcrumbData,treeData:e.treeData,treeProps:e.treeProps,searchFields:e.searchFields,searchOptions:e.searchOptions,tableColumns:e.tableColumns,tableService:e.service,tableMethod:e.method,tableArgs:e.tableArgs,tableRadioCol:!0,tableHighlightCurrentRow:!0},on:{"search-submit":e.onSearchSubmit,"tree-node-click":e.onNodeClick,"list-view":e.onView,"list-create":e.onCreate,"list-edit":e.onEdit,"list-check":e.onCheck,"list-start":e.onStart,"list-disable":e.onDisable,"list-viewversion":e.onVersionControl,"list-designer":e.onDesigner,"table-current-row-change":e.onRowChange,beforeTreeSubmit:e.beforeTreeSubmit}}),e._v(" "),e.createDialogVisible?a("createprocess-dialog",{on:{close:function(t){e.createDialogVisible=!1},getTableData:e.reloadTableData}}):e._e(),e._v(" "),e.editDialogVisible?a("editprocess-dialog",{attrs:{id:e.selectWFId,identifyKey:e.identifyKey},on:{close:function(t){e.editDialogVisible=!1},getTableData:e.reloadTableData}}):e._e(),e._v(" "),e.seeDialogVisible?a("seeprocess-dialog",{attrs:{id:e.selectWFId,identifyKey:e.identifyKey},on:{close:function(t){e.seeDialogVisible=!1},getTableData:e.reloadTableData}}):e._e()],1)},staticRenderFns:[]}},2422:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"proc-editProcess-dialog",attrs:{title:"编辑流程"},on:{close:function(t){e.btnCancleClick()}},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t}}},[a("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"100px",rules:e.rules,"label-position":e.left}},[a("el-form-item",{attrs:{label:"流程名称：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入流程名称"},model:{value:e.formData.name,callback:function(t){e.formData.name=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标识键：",prop:"symbol"}},[a("el-input",{attrs:{placeholder:"请输入标识键",disabled:!0},model:{value:e.formData.symbol,callback:function(t){e.formData.symbol=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"流程编码：",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入流程编码",disabled:!0},model:{value:e.formData.code,callback:function(t){e.formData.code=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属分类：",prop:"region"}},[a("el-cascader",{staticClass:"classified",attrs:{"expand-trigger":"hover",options:e.options,"show-all-levels":!1,"change-on-select":!0,props:e.cascaderProps,size:e.large},on:{change:e.handleChange},model:{value:e.formData.region,callback:function(t){e.formData.region=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"说明：",prop:"desc"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入流程说明"},model:{value:e.formData.desc,callback:function(t){e.formData.desc=t}}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.isLoading},on:{click:function(t){e.submitForm("formData")}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]}},2450:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"proc-createProcess-dialog",attrs:{title:"新建流程"},on:{close:function(t){e.btnCancleClick()}},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t}}},[a("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"100px",rules:e.rules,"label-position":e.left}},[a("el-form-item",{attrs:{label:"流程名称：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入流程名称"},model:{value:e.formData.name,callback:function(t){e.formData.name=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标识键：",prop:"symbol"}},[a("el-input",{attrs:{placeholder:"请输入标识键"},model:{value:e.formData.symbol,callback:function(t){e.formData.symbol=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"流程编码：",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入流程编码",disabled:!0},model:{value:e.formData.code,callback:function(t){e.formData.code=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属分类：",prop:"region"}},[a("el-cascader",{staticClass:"classified",attrs:{"expand-trigger":"hover",options:e.options,"show-all-levels":!1,"change-on-select":!0,props:e.cascaderProps,size:e.large},on:{change:e.handleChange},model:{value:e.formData.region,callback:function(t){e.formData.region=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"说明：",prop:"desc"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入流程说明"},model:{value:e.formData.desc,callback:function(t){e.formData.desc=t}}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.isLoading},on:{click:function(t){e.submitForm("formData")}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]}},2509:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"proc-seeProcess-dialog",attrs:{title:"查看流程"},on:{close:function(t){e.btnCancleClick()}},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t}}},[a("el-form",{ref:"formRef",attrs:{model:e.formData,"label-width":"100px",rules:e.rules,"label-position":e.left}},[a("el-form-item",{attrs:{label:"流程名称：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入流程名称",disabled:!0},model:{value:e.formData.name,callback:function(t){e.formData.name=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标识键：",prop:"symbol"}},[a("el-input",{attrs:{placeholder:"请输入标识键",disabled:!0},model:{value:e.formData.symbol,callback:function(t){e.formData.symbol=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"流程编码：",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入流程编码",disabled:!0},model:{value:e.formData.code,callback:function(t){e.formData.code=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属分类：",prop:"region"}},[a("el-cascader",{staticClass:"classified",attrs:{"expand-trigger":"hover",options:e.options,"show-all-levels":!1,"change-on-select":!0,disabled:!0,props:e.cascaderProps,size:e.large},on:{change:e.handleChange},model:{value:e.formData.region,callback:function(t){e.formData.region=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"说明：",prop:"desc"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入流程说明",disabled:!0},model:{value:e.formData.desc,callback:function(t){e.formData.desc=t}}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.isLoading},on:{click:function(t){e.backToPreUrl()}}},[e._v("返回")])],1)],1)],1)},staticRenderFns:[]}}});