webpackJsonp([61,269],{5:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(a(1)),l=r(a(8));t.default={allSystemCodeList:function(e){return(0,o.default)({method:l.default.CONFIGURE.methods.SYS_CODE_LIST,service:l.default.CONFIGURE.name,args:e})},listNextLevelUnforbidden:function(e){return(0,o.default)({method:l.default.CONFIGURE.methods.LIST_UNFORBIDDEN,service:l.default.CONFIGURE.name,args:e})},queryUnionParent:function(e){return(0,o.default)({method:l.default.SUPPLY_CONFIGURE.methods.queryUnionParent,service:l.default.SUPPLY_CONFIGURE.name,args:e})},queryPage:function(e){return(0,o.default)({method:l.default.SUPPLY_CONFIGURE.methods.QUERY_PAGE,service:l.default.SUPPLY_CONFIGURE.name,args:e})},queryShopUnion:function(e){return(0,o.default)({method:l.default.SUPPLY_CONFIGURE.methods.queryShopUnion,service:l.default.SUPPLY_CONFIGURE.name,args:e})},queryShop:function(e){return(0,o.default)({method:l.default.SUPPLY_CONFIGURE.methods.queryShop,service:l.default.SUPPLY_CONFIGURE.name,args:e})},queryByFunctionCode:function(e){return(0,o.default)({method:l.default.ORGANIZATION.methods.QUERY_BY_FUNCTIONCODE,service:l.default.ORGANIZATION.name,args:e})},queryAll:function(e){return(0,o.default)({method:l.default.ORGANIZATION.methods.ORG_QUERY,service:l.default.ORGANIZATION.name,args:e})},queryTreeByTypeAndFunction:function(e){return(0,o.default)({method:l.default.ORGANIZATION.methods.QUERY_TREE_FUNCTION,service:l.default.ORGANIZATION.name,args:e})},queryChildrenByWholeCode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return(0,o.default)({method:l.default.SUPPLY_CONFIGURE.methods.queryChildrenByWholeCode,service:l.default.SUPPLY_CONFIGURE.name,args:{wholeCode:e,depth:t}})},queryChildrenByWholeCodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return(0,o.default)({method:l.default.SUPPLY_CONFIGURE.methods.queryChildrenByWholeCodes,service:l.default.SUPPLY_CONFIGURE.name,args:{wholeCodes:e,depth:t}})},getAllQueue:function(){return(0,o.default)({method:l.default.EDA.methods.QUERY_QUEUE_QUERYQUEUES,service:l.default.EDA.name,args:{}})}}},8:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={CONFIGURE:{name:"OnLYil9jY0PiKilsavskNJvygGUxhME7eLPWccmGmYjb_ED",methods:{SYS_CODE_LIST:"vPnFi_QA4HeBWeU61ZjQPCn",LIST_UNFORBIDDEN:"vL0y_oFhAeDM3YTmFrp2oaHn1UDcQEzq1orWi41sEc2pVcjlpGN"}},SUPPLY_CONFIGURE:{name:"qVq5B_KUuBzTC3kyP9TiuA53IS1kiBn5fR5JVjR7fUS6nsTm4Zc",methods:{QUERY_PAGE:"Ewi6YId8aELgLHFBBSBMT4BvG3R",queryUnionParent:"5l6jR2KUJ4QdYxLFz0ZJGFy5XZkLajNNSEdLf0t",queryShopUnion:"zPrIoMCwO3geMqwnGH2Afs0w-7lpdva",queryShop:"4VE-APqV_Fs13Cswfj8",queryChildrenByWholeCode:"sDE1BauR-rhu_AU-6F9VF952lJ_JIl-r1QOnscFpFYW0GFS9p3nAG1z",queryChildrenByWholeCodes:"CEGKxWt_AJmoqBtXoGEqET64657I2n7n39qadM-E_uX2b1O8X5k8Ii2vEnj"}},ORGANIZATION:{name:"CsxicaQ7wM_3kaiMdGJQAaOa2fUF8v-",methods:{QUERY_BY_FUNCTIONCODE:"UwBgld0zWv.T_KSfK6W2_uSPCGXiv-mkEbmTNx6qeGoR_hH",ORG_QUERY:"DOiN6_9fU1yNwZE_gRuTrdwwvEg",QUERY_TREE_FUNCTION:"-DB0-GqPoWXHozK4BKUV3yMPaFmC4lppJyYYIe9k-Gk5VCj84OEe2JBi24SnYuFqXHe",ORG_QUERY_WITHOUTDEL:"9Ivp3_1e5zNZU_miVqa6YXq9Zg0sb1JBadatp4EuTiR"}},GOODS:{name:"qVq5B_KUuBzTC3kyP9TiuA53IS1kiBn5fR5JVjR7fUS6nsTm4Zc",methods:{QUERY_PAGE:"ByoqRxHfrD8M7MGSNKC-qVN",QUERY_PAGE_GOODS_UNION:"KYI9tvUKvrmrnw02TOmUAbkj27FmFOkq8nDox-O"}},EDA:{name:"806ndPAX4QHSaL8S3kOGYVWD7gJKERC",methods:{QUERY_QUEUE_QUERYQUEUES:"NJaG8pAbK6IGAM2RtOG2V_cGwPKCj8.QKtj"}}}},9:function(e,t,a){e.exports=a(7)(105)},14:function(e,t,a){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(a(16));t.default=function(e,t,a){return t in e?(0,r.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},16:function(e,t,a){e.exports={default:a(17),__esModule:!0}},17:function(e,t,a){a(18);var r=a(15).Object;e.exports=function(e,t,a){return r.defineProperty(e,t,a)}},18:function(e,t,a){var r=a(19);r(r.S+r.F*!a(27),"Object",{defineProperty:a(26).f})},29:function(e,t,a){e.exports=a(7)(82)},30:function(e,t,a){e.exports=a(7)(87)},31:function(e,t,a){e.exports=a(7)(104)},32:function(e,t,a){e.exports={default:a(33),__esModule:!0}},33:function(e,t,a){a(35),e.exports=a(15).Object.keys},34:function(e,t,a){var r=a(19),o=a(15),l=a(29);e.exports=function(e,t){var a=(o.Object||{})[e]||Object[e],i={};i[e]=t(a),r(r.S+r.F*l(function(){a(1)}),"Object",i)}},35:function(e,t,a){var r=a(31),o=a(30);a(34)("keys",function(){return function(e){return o(r(e))}})},41:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(a(32)),l=r(a(9)),i=r(a(14)),n=r(a(42)),s=r(a(1));t.default={name:"t8t-list-view",props:(0,i.default)({deleteMethod:String,showTable:{type:Boolean,default:!0},breadcrumbData:{type:Array,default:[]},searchFields:Array,searchOptions:Object,searchDataSource:Object,showSearchToggleBtn:Boolean,treeData:Array,showTree:{type:Boolean,default:!1},treeProps:{type:Object,default:function(){return{label:"label",children:"children"}}},showTreeCheckBox:{type:Boolean,default:!1},defaultTreeExpandedKeys:{type:Array,default:function(){return[1]},required:!1},treeArgs:{type:Object,default:function(){return{}}},refreshOnTreeClick:{type:Boolean,default:!1},showToolbar:{type:Boolean,default:!0},toolbarSymbolList:{type:Array,default:[]},toolbarDisabledSymbols:{type:Array,default:[]},tableColumns:Array,tableService:String,tableMethod:String,tableCustomColumn:{type:Object,default:!0},tableEditable:{type:Boolean,default:!1},tableRadioCol:{type:Boolean,default:!1},tableArgs:{type:Object,default:{}},tablePageBar:{type:Boolean,default:!0},tableCommonData:Object,tableTemplateData:Object,tableSelectCol:{type:Boolean,default:!0},tableIndexCol:{type:Boolean,default:!1},tableAutoBuild:{type:Boolean,default:!1},searchKey:{type:String,default:"search"},searchFilter:Function,treeSearchKey:{type:String,default:"search"},autoRefreshTable:{type:Boolean,default:!0},beforeSearchSubmit:Function,beforeTreeSubmit:Function},"deleteMethod",String),methods:{searchChange:function(e,t){this.$emit("search-change",e,t)},searchChangeDivision:function(e,t){this.$emit("search-division-change",e,t)},visibleChange:function(e,t){this.$emit("search-visible-change",e,t)},searchIconClick:function(e,t){this.$emit("search-icon-click",e,t)},searchBlur:function(e,t){this.$emit("search-blur",e,t)},searchFocus:function(e,t){this.$emit("search-focus",e,t)},searchSelect:function(e,t){this.$emit("search-select",e,t)},getSearchInstance:function(){return this.$refs["list-search"]},getBreadcrumbInstance:function(){return this.$refs["list-breadcrumb"]},getTreeInstance:function(){return this.$refs["list-tree"]},getToolbarInstance:function(){return this.$refs["list-toolbar"]},getTableInstance:function(){return this.$refs["list-table"]},disableBySymbol:function(e){this.$refs["list-toolbar"].disableBySymbol(e)},unDisableBySymbol:function(e){this.$refs["list-toolbar"].unDisableBySymbol(e)},onToolbarClick:function(e,t){var a="list-"+e.toLowerCase();this.$emit(a,e,t)},searchSubmit:function(e){this.$emit("search-submit",e);var t=this.beforeSearchSubmit,a=void 0===t?"undefined":(0,l.default)(t);if(!0===("function"!==a||"function"===a&&(this.beforeSearchSubmit.call(this,e)||!1))&&!0===this.autoRefreshTable){var r={},i=this.tableAutoBuild?n.default.build(e,this.searchFields):e;"function"==typeof this.searchFilter&&(i=this.searchFilter.call(this,e,i)),(!i||(0,o.default)(i)<=0)&&(i=null),r[this.searchKey]=i,this.tableArgs=r}},onTreeNodeClick:function(e){this.$emit("tree-node-click",e);var t=this.beforeTreeSubmit,a=void 0===t?"undefined":(0,l.default)(t);!0===("function"!==a||"function"===a&&(t.call(this,e)||!1))&&!0===this.refreshOnTreeClick&&this.$nextTick(function(){var e={};e[this.treeSearchKey]=this.treeArgs,this.tableArgs=e})},tableSelectionChange:function(e,t,a){this.$emit("table-selection-change",e,t,a)},tableRowDobuleClick:function(e,t){this.$emit("table-row-dobule-click",e,t)},tableCurrentRowChange:function(e,t){this.$emit("table-current-row-change",e,t)},tableRowClick:function(e,t,a){this.$emit("table-row-click",e,t,a)},tableSortChange:function(e,t,a){this.$emit("table-sort-change",e,t,a)},tableDataLoaded:function(e){this.$emit("table-data-loaded",e)},tableSizeChange:function(e){this.$emit("table-size-change",e)},tableRowsAdded:function(e){this.$emit("table-rows-added",e)},tableRowsDeleted:function(e){this.$emit("table-rows-deleted",e)},tableCellClick:function(e,t,a,r,o){this.$emit("table-cell-click",e,t,a,r,o)},doDelete:function(e){e=e||"id";var t=[];if(this.deleteMethod){if(this.$refs["list-table"].getSelectRows().forEach(function(a){a[e]&&t.push(a[e])}),!(!t.length>0))return(0,s.default)({service:this.tableService,method:this.deleteMethod,args:{ids:t}});this.$message.error("没有选中需要删除的行！")}},doView:function(e,t){t=t||"id";var a=null;if(this.$refs["list-table"].getSelectRows().forEach(function(e){e[t]&&(a=e[t])}),a)this.$router.push({query:{id:a,mode:"view"},path:e});else{this.$message.error("没有选中需要查看的行！")}},doEdit:function(e,t){t=t||"id";var a=null;if(this.$refs["list-table"].getSelectRows().forEach(function(e){e[t]&&(a=e[t])}),a)this.$router.push({query:{id:a,mode:"edit"},path:e});else{this.$message.error("没有选中需要修改的行！")}},doAdd:function(e){this.$router.push({query:{mode:"add"},path:e})}}}},42:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={};a.build=function(e,t){if(!t||t.length<=0)return e;var a={},r=void 0,o=void 0,l=void 0,i=void 0,n=void 0,s=void 0,d=void 0,u=["date","datetime"],c=["daterange","datetimerange"];return t.forEach(function(t){t.name&&(-1!==u.indexOf(t.type)&&-1!==c.indexOf(t.pickertype)?(i=t.operator||"gte",s=t.name+"_"+i,n=t.operator||"lt",d=t.name+"_"+n,null!=e[t.endField]&&null!=e[t.startField]&&(a[s]=e[t.startField],a[d]=e[t.endField])):"area"==t.type?(l=t.operator||"eq",t.subNames.forEach(function(t){o=e[t]||null,r=t+"_"+l,null!==o&&(a[r]=o)})):(l=t.operator||"eq",o=e[t.name]||null,r=t.name+"_"+l,null!==o&&(a[r]=o)))}),a},t.default=a},43:function(e,t,a){(e.exports=a(2)()).push([e.id,"\n.t8t-list-view[data-v-1d28835c]{\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-direction: column;\n        flex-direction: column;\n    -ms-flex: 1;\n        flex: 1;\n}\n",""])},44:function(e,t,a){var r=a(43);"string"==typeof r&&(r=[[e.id,r,""]]);a(3)(r,{});r.locals&&(e.exports=r.locals)},45:function(e,t,a){a(44);var r=a(4)(a(41),a(46),"data-v-1d28835c",null);e.exports=r.exports},46:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"t8t-list-view"},[e.breadcrumbData.length>0?a("t8t-breadcrumb",{ref:"list-breadcrumb",attrs:{data:e.breadcrumbData}}):e._e(),e._v(" "),e.searchFields.length>0?a("t8t-search",{ref:"list-search",attrs:{fields:e.searchFields,selectSource:e.searchOptions,formData:e.searchDataSource,showToggleBtn:e.showSearchToggleBtn},on:{submit:e.searchSubmit,change:e.searchChange,changeDivision:e.searchChangeDivision,"visible-change":e.visibleChange,click:e.searchIconClick,blur:e.searchBlur,focus:e.searchFocus,select:e.searchSelect}}):e._e(),e._v(" "),a("div",{staticClass:"g-main-container"},[e.showTree?a("t8t-tree",{ref:"list-tree",attrs:{data:e.treeData,props:e.treeProps,"show-checkbox":e.showTreeCheckBox,"default-expanded-keys":e.defaultTreeExpandedKeys},on:{"node-click":e.onTreeNodeClick}}):e._e(),e._v(" "),a("div",{staticClass:"g-main-container-column"},[e.showToolbar?a("t8t-toolbar",{ref:"list-toolbar",attrs:{symbolList:e.toolbarSymbolList,disabledSymbols:e.toolbarDisabledSymbols},on:{"toolbar-click":e.onToolbarClick}}):e._e(),e._v(" "),e.showTable?a("t8t-table",{ref:"list-table",attrs:{columns:e.tableColumns,service:e.tableService,method:e.tableMethod,args:e.tableArgs,pageBar:e.tablePageBar,commonData:e.tableCommonData,selectCol:e.tableSelectCol,indexCol:e.tableIndexCol,templateData:e.tableTemplateData,editable:e.tableEditable,radioCol:e.tableRadioCol,customColumn:e.tableCustomColumn},on:{"selection-change":e.tableSelectionChange,"row-double-click":e.tableRowDobuleClick,"current-row-change":e.tableCurrentRowChange,"row-click":e.tableRowClick,"sort-change":e.tableSortChange,"data-loaded":e.tableDataLoaded,"size-change":e.tableSizeChange,"rows-added":e.tableRowsAdded,"rows-deleted":e.tableRowsDeleted,"cell-click":e.tableCellClick}}):e._e()],1)],1)],1)},staticRenderFns:[]}},80:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={ITEM_ASSIGN:{name:"kQCHV35uKPnjuOphj9WgkM2-L8oUbgZ",methods:{PRINCIPAL_SETTING_LIST_PAGE:"OpTBdMaEcAo-eFX5oqR2cFg7qtdOOAY2_3Y6020",PRINCIPAL_SETTING_DELETE_BY_ID:"gNPUwhsp_hhZIZKop8xhAymf4AqfyHq4axHynt4",PRINCIPAL_SETTING_DELETE_BY_IDS:"FxGlWeHTdDwrxmJuJa2S_cXDv1fRQbMHsP3WILZVnpq",PRINCIPAL_SETTING_DELETE:"PPRqRvPghMPuJ4d5jKohh66aiYWoqjhQW1a",PRINCIPAL_SETTING_ADD:"GywTz9jNDsdS16bqeDrIYEZj5ywc0Mn",PRINCIPAL_SETTING_UPDATE:"EYqKuIi9BVnrL1ZmaJDlKWqTaI-blGR-szh",ASSESSOBJ_QUERY_PAGE:"NEujN6upJmn4KBWvG9mxeIHNE73T6Lb",ASSESSOBJ_DELETE_BY_ID:"WaaK1ZYRvDn6X6mRWZCV2cRAL5TaM1w",ASSESSOBJ_DELETE_BY_IDS:"t8kUC80U5Z4rTw9569nt6J-rqi39ySZ",ASSESS_OBJECT_GET:"LNOqgeA59KtKdLdX2HBamYTB3RH",ASSESS_OBJECT_CREATE:"onZEWpLFlCFmojaWGfjbCpiWPxrOS2S",ASSESS_OBJECT_UPDATE:"EQ_2eED9a-S4T0AqfqzUucBvwfFAn9r",ASSESS_OBJECT_VOID:"nkJXDqXJFlBJmLmVClVOhozsADR",ASSIGN_PAGE:"u5xFApBW3ceSvJ1S9tboCtKX.ZvaNzKw6q18e9R",ASSIGN_ADD_PAGE:"uV-ibF92I5ef1QwOxVBbrCy7teDP_MzBRo2BaBnz7XZweUMxR2hFnVo",PRINCIPAL_ASSIGN:"RWTEwUKYX9uxdAcymB_tlHdLCtQxOQjCI0l",REASSIGNKF:"gvdaeg9Y1nxdtZBN-mppdmQHym1fgM-n-vsmchS",LIST_PRINCIPAL:"Dx8Oy92IDz4D2Q3VDwtVXlVMWo9CfvSJ0bNEAlKE_s7KfJQ1R_s",LIST_ITEM_PRINCIPAL:"GI7kLDKR10peOT9eWJ45aF1x6gHT4EKiujFiugLKfWGoC2Kp2az2L4bD7SlRuxu",LIST_ITEM_PRINCIPAL_BY_PROJECT:"9A1LxvGWr0vNIR1_CxuR0OdK1fN-IKJhsE-L2HPKgXAO8JB-I5A76fo49L7FLmSxtmd6t9m",LIST_DELIVERY_ASSIGN:"n1gUt4xU6uYHv2lxNO7uVk7p3y49aLcAmnNjqJFsfPe",LIST_PROJECT_ASSIGN:"PN1WC5XT2JB8PBKAfcQA5jBPka-wOaSqt3y-KAo",LIST_ITEM_ASSIGN:"nOH7nfYlMSA2hgZzkRM78CgtBiRsGEUlOa6",LIST_ASSIGN_PROJECT:"MABSDnQ9XmPBBORiHkuQAqg979lBgNeX6emUs0kS7RO",PAGE_ASSIGN_PRINCIPAL:"N5_SM1Nl41raQFIvXPoo7h25oh5WMHLkql3UnU-tCOLLVrvINBT",LIST_ASSIGN_RECORD:"rrooIscgCpdPui7SxxeZ_fBaFi558xrOst7FDHxZU130LmG"}},PERMISSION:{name:"J5J-hg72eJeCu6b3yeZSjeSrSkaFCXQ",methods:{LIST_ACCOUNT_BY_ROLE:"-ocFpc5TvUt97p1M6m-d4SZvTnx9aiHqLfiB2nO7Z6S",QUERY_BY_ROLE_AND_ORG:"jsnBmRrK0aiGG0ex3nUhdLwyBDN4rlGwfsazDaamunW"}},ACCOUNTSERVER:{name:"0niCG_Xen3AYHkNcxoB1MJLWJ5thqaZ",methods:{FIND_BY_ACCOUNTID:"Q_cYWAG7wQS6oQMMnQBAw59G1eV1Ml5Zqfb",QUERY_CITY_RELATION:"W0FRRT3QIc_3xTS4pxacCwWTzyN00MeUPGeXBAaPT4r"}},FORMULA_SERVER:{name:"JEL7u0JEQHc6sIxzenzp2qEXPxuTQSC",methods:{FORMULA_QUERY:"iKbCndWyfL2ebE3TJa4hDIJ",FORMULA_QUERY_PAGE:"7IuxYNKIkNIxp_9HXYHjD7dq62y"}},SYS_DST:{name:"eKsMx6lL0qjRDhObQyQB3Gxlg00vXSm",methods:{GET_BY_CID_LIST:"99ZzDNU1ASaI4PLtiOrYEEW_kbZH7vkMeZ4O2_-M2uW"}},PRS_PQM:{name:"hMNCl9S9hJbGkcd4dsaHxWWo3cOZFd3",methods:{LOAD_PRODUCT_INFO:"05p2eQSHejbaBsgrJ7gbOHraesxc2nf4XIyth08"}}}},90:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(a(1)),l=r(a(80));t.default={assignPage:function(e){return(0,o.default)({method:l.default.ITEM_ASSIGN.methods.PAGE_ASSIGN_PRINCIPAL,service:l.default.ITEM_ASSIGN.name,args:e})},assignAddPage:function(e){return(0,o.default)({method:l.default.ITEM_ASSIGN.methods.ASSIGN_ADD_PAGE,service:l.default.ITEM_ASSIGN.name,args:e})},principalAssign:function(e){return(0,o.default)({method:l.default.ITEM_ASSIGN.methods.PRINCIPAL_ASSIGN,service:l.default.ITEM_ASSIGN.name,args:e})},principalAssignCustomer:function(e){return(0,o.default)({method:l.default.ITEM_ASSIGN.methods.REASSIGNKF,service:l.default.ITEM_ASSIGN.name,args:e})},searchPrincipalByRoleAndOrg:function(e){return(0,o.default)({method:l.default.PERMISSION.methods.QUERY_BY_ROLE_AND_ORG,service:l.default.PERMISSION.name,args:e})},findAccountById:function(e){return(0,o.default)({method:l.default.ACCOUNTSERVER.methods.FIND_BY_ACCOUNTID,service:l.default.ACCOUNTSERVER.name,args:e})},listPrincipal:function(e){return(0,o.default)({method:l.default.ITEM_ASSIGN.methods.LIST_PRINCIPAL,service:l.default.ITEM_ASSIGN.name,args:e})},listItemPrincipal:function(e){return(0,o.default)({method:l.default.ITEM_ASSIGN.methods.LIST_ITEM_PRINCIPAL,service:l.default.ITEM_ASSIGN.name,args:e})},listItemPrincipalByProjectId:function(e){return(0,o.default)({method:l.default.ITEM_ASSIGN.methods.LIST_ITEM_PRINCIPAL_BY_PROJECT,service:l.default.ITEM_ASSIGN.name,args:e})},caretePrincipalSetting:function(e){return(0,o.default)({method:l.default.ITEM_ASSIGN.methods.PRINCIPAL_SETTING_ADD,service:l.default.ITEM_ASSIGN.name,args:e})},updatePrincipalSetting:function(e){return(0,o.default)({method:l.default.ITEM_ASSIGN.methods.PRINCIPAL_SETTING_UPDATE,service:l.default.ITEM_ASSIGN.name,args:e})},formulaQueryPage:function(e){return(0,o.default)({method:l.default.FORMULA_SERVER.methods.FORMULA_QUERY_PAGE,service:l.default.FORMULA_SERVER.name,args:e})},queryCityRelation:function(e){return(0,o.default)({method:l.default.ACCOUNTSERVER.methods.QUERY_CITY_RELATION,service:l.default.ACCOUNTSERVER.name,args:e})},standardDistrictGetByCidList:function(e){return(0,o.default)({method:l.default.SYS_DST.methods.GET_BY_CID_LIST,service:l.default.SYS_DST.name,args:e})},loadProductInfo:function(e){return(0,o.default)({method:l.default.PRS_PQM.methods.LOAD_PRODUCT_INFO,service:l.default.PRS_PQM.name,args:e})},assessObjectVoid:function(e){return(0,o.default)({method:l.default.ITEM_ASSIGN.methods.ASSESS_OBJECT_VOID,service:l.default.ITEM_ASSIGN.name,args:e})}}},668:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(a(14)),l=r(a(5)),i=r(a(45)),n=r(a(6)),s=r(a(80)),d=r(a(90)),u=r(a(1));t.default={components:{T8tListView:i.default},created:function(){this.loadOrganizations("001003006"),this.loadFormula()},data:function(){var e;return{service:s.default.ITEM_ASSIGN.name,method:s.default.ITEM_ASSIGN.methods.PRINCIPAL_SETTING_LIST_PAGE,deleteMethod:s.default.ITEM_ASSIGN.methods.PRINCIPAL_SETTING_DELETE_BY_IDS,tableArgs:{},tableColumns:[{prop:"id",label:"主键ID"},{prop:"workerId",label:"关联经理ID",show:!1},{prop:"workerCode",label:"工号"},{prop:"workerName",label:"项目经理"},{prop:"organizationName",label:"组织"},{prop:"organization",label:"组织",show:!1},{prop:"deliveryMan",label:"交付经理"},{prop:"acceptArea",label:"承接区域",show:!1},{prop:"acceptAreaIds",label:"承接区域",show:!1},{prop:"acceptAreaName",label:"承接区域"},{prop:"limitFormula",label:"上限计算公式",list:"limitFormulas",editor:{type:"select"}},{prop:"acceptLimit",label:"接单上限"},{prop:"remark",label:"备注"},{prop:"createName",label:"创建人名称"},{prop:"createTime",label:"创建时间",formatter:"dateParser"},{prop:"updateName",label:"修改人名称"},{prop:"updateTime",label:"修改时间",formatter:"dateParser"}],breadcrumbData:[{title:"交付管理"},{title:"交付基础配置"},{title:"项目经理接单配置"}],searchFields:[{type:"select",label:"组织",name:"organizationId",selectSourceKey:"organizations"},{type:"input",label:"项目经理工号",name:"workerCode"},{type:"input",label:"项目经理姓名",name:"workerName"}],searchOptions:{organizations:[],limitFormulas:[],listArea:[]},editDialogVisible:!1,labelPosition:"right",formLabelWidth:"120px",editType:"add",edit_isLoading:!1,rules:{acceptLimit:[{type:"number",required:!0,min:1,max:9999999,message:"请输入1-9999999的整数",transform:function(e){return Number(e)},trigger:"blur"}]},operMethod:null,operMsg:null,formData:{id:0,workerId:null,workerName:null,workerCode:null,organization:null,deliveryMan:null,acceptArea:null,acceptLimit:null,limitFormula:null,remark:null},chooseItemMan:(e={disabled:!1,remote:!0,name:"demandOrderCode",textValue:"workerCode",filedValue:"workerCode"},(0,o.default)(e,"disabled",!1),(0,o.default)(e,"defaultValue",""),(0,o.default)(e,"dialog",{title:"选择项目经理",size:"large",dialogWidth:"900px",searchForm:{fields:[{type:"input",label:"工号",name:"workerCode"},{type:"input",label:"名字",name:"workerName"},{type:"select",label:"组织",name:"subOrgId",selectSourceKey:"organizations"},{type:"select",label:"业务类型",name:"business",selectSourceKey:"business",defaultValue:"06,07"}],selectSource:{business:[{value:"06",text:"整装包"},{value:"07",text:"施工包"},{value:"06,07",text:"所有"}],organizations:[]},resetBtnVisible:!0,showToggleBtn:!1},table:{columns:[{prop:"workerId",label:"ID"},{prop:"workerCode",label:"工号"},{prop:"name",label:"名字"},{prop:"orgName",label:"组织"},{prop:"deliveryManName",label:"交付经理"}],service:"QIZ8fnB3SHlAeKaKjrW4uCQihLcDEap",method:"qSWpC7IDuJ99nfOzAhU8QH8k_SX63FVxQDOlDtEc5fwotVD8FiCzYzK",args:{search:{abc:1},size:100,page:1},radioCol:!0},onConfirm:this.confirm}),e)}},methods:{onSearchSubmit:function(){},doDelete:function(){var e=this,t=this.$refs["list-view"].doDelete();t&&t.then(function(t){t.data&&200==t.data.status&&t.data.result>0?(e.$message({message:"删除成功",type:"success"}),e.$refs["list-view"].getTableInstance().reloadTable()):e.$message({message:"删除失败 "+t.data.message,type:"error"})})},doAdd:function(){this.formData.id=0,this.formData.workerId=0,this.formData.workerCode="",this.formData.workerName="",this.formData.organization="",this.formData.deliveryMan="",this.formData.acceptArea=[],this.formData.acceptLimit=0,this.formData.limitFormula="",this.formData.remark="",this.formData.createUser=+n.default.get("t8t-tc-uid"),this.formData.updateUser=null,null!=this.$refs["select-popup"]&&this.$refs["select-popup"].setValue(""),this.chooseItemMan.defaultValue=null,this.chooseItemMan.textValue="",this.chooseItemMan.filedValue="",this.operMsg,this.operMethod=s.default.ITEM_ASSIGN.methods.PRINCIPAL_SETTING_ADD,this.editDialogVisible=!0,this.$refs.form&&this.$refs.form.resetFields(),this.chooseItemMan.disabled=!1},doEdit:function(){var e=this.$refs["list-view"].getTableInstance().getSelectRows();if(e.length<1)this.$message({type:"error",message:"请勾选数据后再操作"});else if(e.length>1)this.$message({type:"error",message:"请对单条数据进行操作"});else{this.$refs.form&&this.$refs.form.resetFields();var t=e[0];this.formData.id=t.id,this.formData.workerId=t.accountId,this.formData.workerCode=t.workerCode,this.chooseItemMan.defaultValue=[{textValue:t.workerCode,fieldValue:t.workerCode}],this.formData.workerName=t.workerName,this.formData.organization=t.organizationName,this.formData.deliveryMan=t.deliveryMan,null!=t.acceptAreaIds?this.formData.acceptArea=t.acceptAreaIds:this.formData.acceptArea=[],this.formData.acceptLimit=t.acceptLimit,this.formData.limitFormula=t.limitFormula,this.formData.remark=t.remark,this.formData.createUser=null,this.formData.updateUser=+n.default.get("t8t-tc-uid"),this.operMethod=s.default.ITEM_ASSIGN.methods.PRINCIPAL_SETTING_UPDATE,this.operMsg,this.editDialogVisible=!0,this.chooseItemMan.disabled=!0,this.loadAreaByOrg(t.organization)}},loadOrganizations:function(e){var t=this;l.default.queryAll({search:{typeCode:e}}).then(function(e){var a=[];200===e.data.status&&(e.data.result.rows.forEach(function(e){0===e.isDel&&a.push({value:e.id,text:e.name})}),t.chooseItemMan.dialog.searchForm.selectSource.organizations=a,t.searchOptions.organizations=a)})},getCommonOptions:function(e,t){var a=this,r={page:1,search:{pPropertyCode:e},size:100},o=[];l.default.queryUnionParent(r).then(function(e){200===e.data.status&&(e.data.result.forEach(function(e){1===e.propertyStatus&&o.push({value:e.id,text:e.propertyName})}),a.commonOptionsConfig[t]=o)})},btnCancleClick:function(){this.editDialogVisible=!1},btnOKClick:function(){var e=this;this.$refs.form.validate(function(t){if(t){var a={principalSetting:e.formData};e.edit_isLoading=!0,(0,u.default)({method:e.operMethod,service:s.default.ITEM_ASSIGN.name,args:a}).then(function(t){e.edit_isLoading=!1,200===t.data.status?(e.showMsg("success",e.operMsg),e.$refs["list-view"].getTableInstance().reloadTable()):e.showMsg("error",t.data.message),e.editDialogVisible=!1})}})},confirm:function(e){1==e.length?(this.formData.workerId=e[0].workerId,this.formData.workerName=e[0].name,this.formData.organization=e[0].orgName,this.formData.deliveryMan=e[0].deliveryManName,this.formData.workerCode=e[0].workerCode,this.chooseItemMan.defaultValue=[{textValue:e[0].workerCode,fieldValue:e[0].workerCode}],this.loadAreaByOrg(e[0].orgId)):this.$message.error("请请选择一个项目经理后再确认！")},loadAreaByOrg:function(e){var t=this,a={orgId:e};d.default.queryCityRelation(a).then(function(e){200===e.data.status&&null!=e.data.result&&e.data.result.length>0&&d.default.standardDistrictGetByCidList({cidList:e.data.result}).then(function(e){var a=[];200===e.data.status&&(e.data.result.forEach(function(e){a.push({value:e.cid,text:e.districtName})}),t.searchOptions.listArea=a)})})},loadArea:function(e){var t=this;d.default.standardDistrictGetByCidList({cidList:e}).then(function(e){var a=[];200===e.data.status&&(e.data.result.forEach(function(e){a.push({value:e.cid,text:e.districtName})}),t.searchOptions.listArea=a)})},loadFormula:function(){var e=this,t=[];l.default.queryUnionParent({page:1,search:{pPropertyCode:"11602",propertyCode:"20"},size:100}).then(function(a){if(200===a.data.status)if(a.data.result.forEach(function(e){1===e.propertyStatus&&t.push({value:e.id,text:e.propertyName})}),null!=t&&t.length>0){var r={search:{moduleId:748},size:100,page:1};d.default.formulaQueryPage(r).then(function(t){var a=[];200===t.data.status&&(t.data.result.rows.forEach(function(e){a.push({value:e.id,text:e.formulaName})}),e.searchOptions.limitFormulas=a)})}else e.searchOptions.limitFormulas=[];else e.$message.error("加载上限公式列表失败！")})},showMsg:function(e,t){this.$msgbox({title:"消息",type:e,message:t,showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"})}}}},982:function(e,t,a){(e.exports=a(2)()).push([e.id,"\n.main-div .edit-dialog .el-dialog{\n    width: 450px;\n}\n.main-div .el-select-dropdown__wrap {\n    max-height: 185px !important;\n}\n.main-div .edit-dialog .el-form-item__content {\n    width: 350px;\n}\n.main-div .edit-dialog .el-select {\n    width: 60%;\n}\n.main-div .el-input--small{\n    width: 60%;\n}\n.main-div .el-form-item__label{\n    width: 30%;\n}\n",""])},1425:function(e,t,a){var r=a(982);"string"==typeof r&&(r=[[e.id,r,""]]);a(3)(r,{});r.locals&&(e.exports=r.locals)},2111:function(e,t,a){a(1425);var r=a(4)(a(668),a(2285),null,null);e.exports=r.exports},2285:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("t8t-list-view",{ref:"list-view",attrs:{deleteMethod:e.deleteMethod,breadcrumbData:e.breadcrumbData,searchFields:e.searchFields,searchOptions:e.searchOptions,showSearchToggleBtn:!0,tableColumns:e.tableColumns,tableService:e.service,tableArgs:e.tableArgs,tableMethod:e.method,tableCommonData:e.searchOptions,tableEditable:!1,beforeSearchSubmit:e.beforeSubmit},on:{"list-view":e.doView,"list-delete":e.doDelete,"list-add-row":e.doAdd,"list-edit-row":e.doEdit,"search-submit":e.onSearchSubmit}}),e._v(" "),a("el-dialog",{staticClass:"edit-dialog",attrs:{title:"服务类型配置"},on:{close:e.closeEditDialog},model:{value:e.editDialogVisible,callback:function(t){e.editDialogVisible=t}}},[a("el-form",{ref:"form",attrs:{"label-position":e.labelPosition,model:e.formData,rules:e.rules,"label-width":e.formLabelWidth}},[a("el-form-item",{attrs:{label:"ID：",prop:"serviceTypeCode"}},[a("el-input",{attrs:{disabled:!0,size:"small"},model:{value:e.formData.id,callback:function(t){e.formData.id=t}}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"项目经理ID：",prop:"serviceTypeId"}},[a("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{size:"small"},model:{value:e.formData.workerId,callback:function(t){e.formData.workerId=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工号：",prop:"serviceTypeId"}},[a("t8t-form-popup",{ref:"select-popup",attrs:{defaultValue:e.chooseItemMan.defaultValue,textValue:e.chooseItemMan.textValue,filedValue:e.chooseItemMan.filedValue,disabled:e.chooseItemMan.disabled,dialog:e.chooseItemMan.dialog}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名：",prop:"name"}},[a("el-input",{attrs:{disabled:!0,size:"small"},model:{value:e.formData.workerName,callback:function(t){e.formData.workerName=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"组织：",prop:"originate"}},[a("el-input",{attrs:{disabled:!0,size:"small"},model:{value:e.formData.organization,callback:function(t){e.formData.organization=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"交付经理：",prop:"remark"}},[a("el-input",{attrs:{disabled:!0,size:"small"},model:{value:e.formData.deliveryMan,callback:function(t){e.formData.deliveryMan=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"承接区域：",prop:"acceptArea"}},[a("el-select",{attrs:{multiple:"",filterable:"true",placeholder:"请选择业承接区域"},model:{value:e.formData.acceptArea,callback:function(t){e.formData.acceptArea=t}}},e._l(e.searchOptions.listArea,function(e){return a("el-option",{attrs:{label:e.text,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"上限公式：",prop:"limitFormula"}},[a("el-select",{attrs:{filterable:"true",placeholder:"请选择上限公式"},model:{value:e.formData.limitFormula,callback:function(t){e.formData.limitFormula=t}}},e._l(e.searchOptions.limitFormulas,function(e){return a("el-option",{attrs:{label:e.text,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"接单上限：",prop:"acceptLimit"}},[a("el-input",{attrs:{size:"small"},model:{value:e.formData.acceptLimit,callback:function(t){e.formData.acceptLimit=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[a("el-input",{attrs:{size:"large"},model:{value:e.formData.remark,callback:function(t){e.formData.remark=t}}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.edit_isLoading},on:{click:function(t){e.btnOKClick()}}},[e._v("确定")]),e._v(" "),a("el-button",{on:{click:function(t){e.btnCancleClick()}}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]}}});