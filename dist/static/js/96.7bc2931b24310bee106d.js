webpackJsonp([96,269],{5:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(a(1)),l=n(a(8));e.default={allSystemCodeList:function(t){return(0,o.default)({method:l.default.CONFIGURE.methods.SYS_CODE_LIST,service:l.default.CONFIGURE.name,args:t})},listNextLevelUnforbidden:function(t){return(0,o.default)({method:l.default.CONFIGURE.methods.LIST_UNFORBIDDEN,service:l.default.CONFIGURE.name,args:t})},queryUnionParent:function(t){return(0,o.default)({method:l.default.SUPPLY_CONFIGURE.methods.queryUnionParent,service:l.default.SUPPLY_CONFIGURE.name,args:t})},queryPage:function(t){return(0,o.default)({method:l.default.SUPPLY_CONFIGURE.methods.QUERY_PAGE,service:l.default.SUPPLY_CONFIGURE.name,args:t})},queryShopUnion:function(t){return(0,o.default)({method:l.default.SUPPLY_CONFIGURE.methods.queryShopUnion,service:l.default.SUPPLY_CONFIGURE.name,args:t})},queryShop:function(t){return(0,o.default)({method:l.default.SUPPLY_CONFIGURE.methods.queryShop,service:l.default.SUPPLY_CONFIGURE.name,args:t})},queryByFunctionCode:function(t){return(0,o.default)({method:l.default.ORGANIZATION.methods.QUERY_BY_FUNCTIONCODE,service:l.default.ORGANIZATION.name,args:t})},queryAll:function(t){return(0,o.default)({method:l.default.ORGANIZATION.methods.ORG_QUERY,service:l.default.ORGANIZATION.name,args:t})},queryTreeByTypeAndFunction:function(t){return(0,o.default)({method:l.default.ORGANIZATION.methods.QUERY_TREE_FUNCTION,service:l.default.ORGANIZATION.name,args:t})},queryChildrenByWholeCode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return(0,o.default)({method:l.default.SUPPLY_CONFIGURE.methods.queryChildrenByWholeCode,service:l.default.SUPPLY_CONFIGURE.name,args:{wholeCode:t,depth:e}})},queryChildrenByWholeCodes:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return(0,o.default)({method:l.default.SUPPLY_CONFIGURE.methods.queryChildrenByWholeCodes,service:l.default.SUPPLY_CONFIGURE.name,args:{wholeCodes:t,depth:e}})},getAllQueue:function(){return(0,o.default)({method:l.default.EDA.methods.QUERY_QUEUE_QUERYQUEUES,service:l.default.EDA.name,args:{}})}}},8:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={CONFIGURE:{name:"OnLYil9jY0PiKilsavskNJvygGUxhME7eLPWccmGmYjb_ED",methods:{SYS_CODE_LIST:"vPnFi_QA4HeBWeU61ZjQPCn",LIST_UNFORBIDDEN:"vL0y_oFhAeDM3YTmFrp2oaHn1UDcQEzq1orWi41sEc2pVcjlpGN"}},SUPPLY_CONFIGURE:{name:"qVq5B_KUuBzTC3kyP9TiuA53IS1kiBn5fR5JVjR7fUS6nsTm4Zc",methods:{QUERY_PAGE:"Ewi6YId8aELgLHFBBSBMT4BvG3R",queryUnionParent:"5l6jR2KUJ4QdYxLFz0ZJGFy5XZkLajNNSEdLf0t",queryShopUnion:"zPrIoMCwO3geMqwnGH2Afs0w-7lpdva",queryShop:"4VE-APqV_Fs13Cswfj8",queryChildrenByWholeCode:"sDE1BauR-rhu_AU-6F9VF952lJ_JIl-r1QOnscFpFYW0GFS9p3nAG1z",queryChildrenByWholeCodes:"CEGKxWt_AJmoqBtXoGEqET64657I2n7n39qadM-E_uX2b1O8X5k8Ii2vEnj"}},ORGANIZATION:{name:"CsxicaQ7wM_3kaiMdGJQAaOa2fUF8v-",methods:{QUERY_BY_FUNCTIONCODE:"UwBgld0zWv.T_KSfK6W2_uSPCGXiv-mkEbmTNx6qeGoR_hH",ORG_QUERY:"DOiN6_9fU1yNwZE_gRuTrdwwvEg",QUERY_TREE_FUNCTION:"-DB0-GqPoWXHozK4BKUV3yMPaFmC4lppJyYYIe9k-Gk5VCj84OEe2JBi24SnYuFqXHe",ORG_QUERY_WITHOUTDEL:"9Ivp3_1e5zNZU_miVqa6YXq9Zg0sb1JBadatp4EuTiR"}},GOODS:{name:"qVq5B_KUuBzTC3kyP9TiuA53IS1kiBn5fR5JVjR7fUS6nsTm4Zc",methods:{QUERY_PAGE:"ByoqRxHfrD8M7MGSNKC-qVN",QUERY_PAGE_GOODS_UNION:"KYI9tvUKvrmrnw02TOmUAbkj27FmFOkq8nDox-O"}},EDA:{name:"806ndPAX4QHSaL8S3kOGYVWD7gJKERC",methods:{QUERY_QUEUE_QUERYQUEUES:"NJaG8pAbK6IGAM2RtOG2V_cGwPKCj8.QKtj"}}}},11:function(t,e,a){t.exports=a(7)(68)},81:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={CERTIFICATIONRECORD:{name:"A6TbukoHrYPG3mAopVabofcCniR3K79",methods:{USER_FIND_BYID:"O38yHUa4VOqUXPcJdPKSZi9F3qSIhSD9pG0",UPDATE_STATUS_AUTHENTIC:"lRTyT8uRDkBpylfHF2k6_9WMeUYlSjaYOS-RGNM"}},TEMPLETRECORD:{name:"A6TbukoHrYPG3mAopVabofcCniR3K79",methods:{QUERYPAGE:"kk0dUgAoeRVwh7Eordf7sM6acjFlaXG",UPDATE_STATUS_MODEL:"cDpfKU0dfYX9oUwp1GcC9iKyQEbyC0RZA_8",FIND_BY_ID_MODEL:"kPEZfb1oPhDeP8DsRTZwQtJuaPeEGy3",MODEL_VERSION_QUERY:"LAmQIDOjC_z3lKCnK6FvlDA1oBjyQ1r-Pyw",MODELBASIC_CREATE:"JAmPyCrNKFznEzcp-FRsuPHv_gZ",UPDATE_STATUS_VERSION:"jXBrNI52-eYN6NWBjMaK4aKMoQLaV5GZbYY",CREATE_MODEL_VERSION:"QOzcQ9sdV9B.ZC-mnziynRM9rALnoc8",QUERY_MODEL_BASIC:"HwaTAEaMAFmExcSZHwwPeT4tvVn",CONTRANAME_MODEL_BASIC:"bTpeEAdbaCPmDd3PWy1c0ZS_5CCunx8",REPLACE_GET_TITLE:"qELTustvnXiT84jP33u3Z0C2CpX08XSE5Y4zm74oj6fn1Rl",REPLACE_GET_CONTENT:"J1tdMF5fK4C1acb-rYSQWKWMUb1H1Xd30idz8UDX5qzJFoy",CREATE_REPLACE_WORD:"x0XKO_Tn_zBwPyhLIkjaBszhtUl0jPXjvdZ",GET_SAVE_FILE:"9SGGs2tFtK9N3Dl7c4XiVs3Y14lWlYH849IoXhf",UPLOAD_AND_WORD:"dg9lsasMpfmZuZoVykfuCti2KjXV9nTmakN3h1iYqsZKc2bBqT_",GET_CONTRACT_NAME:"NfAXPK2jZjZBudz9tM8yKD1k5sqQrGkf4-mcabALJyJ",GET_ALL_CONTRACTNAME:"6tt_y-mHhtZ7usG5zvkrGf6T8gxqHyiIYxYLQP09iqlehOo1vaX"}},TRAFFICRECORD:{name:"A6TbukoHrYPG3mAopVabofcCniR3K79",methods:{QUERYLIST:"H4stgG1gdGlPKWKZWcHdeXGUhocXiMVcH7j",INVALID:"-qjRU_qZO7bE0RL9ZOQAUO8ctR7naQfmtj2",VALID:"JfngIgw_HyQNKFYjQF21fGQ3X10Bssq",TERMINATION:"jIO_aoGEqwwBF0oxIE4WVa5vXmvbVyBVnk2m1J9",QUERYONE:"teQB0nn1CmMHLBMmJCrdDEqto89J305996m",QUERY_LIST_WORD:"9dkS_utFrghmz6BeMDN-X7N5SCqp2DnfTyI7Ac19WQDbyV86kLxtgzQBLqX",QUERY_RULES_LIST:"bn90ws52WcoYGdrNxd4J1sGlKgpLl2GuPTD",GET_CONTRACT_URL:"7_VPOm7K6QACKsNmQ36T2Hxm-fIlxSqRYdFgS08EUvuMQhv"}},SUPPLYSEVER:{name:"KwBTah3zcD7ZNGDgVDyufgUOirXRBv3h2gYDpXaQ0tRBF1TMXHs",methods:{CODEANDCODE:"qWbOrViU9kx9s8x2731tXoWoIjTnkS2jIE1SODpkT9rjc-bmo0d"}}}},144:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(a(1)),l=n(a(81));e.default={forBid:function(t){return(0,o.default)({method:l.default.TEMPLETRECORD.methods.UPDATE_STATUS_MODEL,service:l.default.TEMPLETRECORD.name,args:t})},findById:function(t){return(0,o.default)({method:l.default.TEMPLETRECORD.methods.FIND_BY_ID_MODEL,service:l.default.TEMPLETRECORD.name,args:t})},createModelBasic:function(t){return(0,o.default)({method:l.default.TEMPLETRECORD.methods.MODELBASIC_CREATE,service:l.default.TEMPLETRECORD.name,args:t})},updateVersion:function(t){return(0,o.default)({method:l.default.TEMPLETRECORD.methods.UPDATE_STATUS_VERSION,service:l.default.TEMPLETRECORD.name,args:t})},createModelVersion:function(t){return(0,o.default)({method:l.default.TEMPLETRECORD.methods.CREATE_MODEL_VERSION,service:l.default.TEMPLETRECORD.name,args:t})},queryModelBasic:function(t){return(0,o.default)({method:l.default.TEMPLETRECORD.methods.QUERY_MODEL_BASIC,service:l.default.TEMPLETRECORD.name,args:t})},contraNameModelBasic:function(t){return(0,o.default)({method:l.default.TEMPLETRECORD.methods.CONTRANAME_MODEL_BASIC,service:l.default.TEMPLETRECORD.name,args:t})},getTitle:function(t){return(0,o.default)({method:l.default.TEMPLETRECORD.methods.REPLACE_GET_TITLE,service:l.default.TEMPLETRECORD.name,args:t})},createWord:function(t){return(0,o.default)({method:l.default.TEMPLETRECORD.methods.CREATE_REPLACE_WORD,service:l.default.TEMPLETRECORD.name,args:t})},getSaveFile:function(t){return(0,o.default)({method:l.default.TEMPLETRECORD.methods.GET_SAVE_FILE,service:l.default.TEMPLETRECORD.name,args:t})},uploadAndWord:function(t){return(0,o.default)({method:l.default.TEMPLETRECORD.methods.UPLOAD_AND_WORD,service:l.default.TEMPLETRECORD.name,args:t})},getContractName:function(t){return(0,o.default)({method:l.default.TEMPLETRECORD.methods.GET_CONTRACT_NAME,service:l.default.TEMPLETRECORD.name,args:t})},getAllContractName:function(t){return(0,o.default)({method:l.default.TEMPLETRECORD.methods.GET_ALL_CONTRACTNAME,service:l.default.TEMPLETRECORD.name,args:t})}}},181:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=document.createElement("a"),a=t.indexOf("&action=file&uid=")>-1?t:n.default.getFullURL(t);e.href=a,e.download="",e.click()};var n=function(t){return t&&t.__esModule?t:{default:t}}(a(20))},455:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(a(5)),l=n(a(1902)),i=n(a(81)),s=n(a(144)),r=n(a(6)),d=n(a(20)),u=n(a(181));e.default={name:"templetSee",components:{VersionDialog:l.default},data:function(){return{isDialogShow:!0,activeTabName:"one",dialogVisible:!1,versionVisible:!1,uploadDialog:!1,basicId:null,firstRoleId:null,secondRoleId:null,thirdRoleId:null,addDialog:!1,contractTypeId:null,hFormData:{},formData:{versionUrl:null},wordColumns:[],expandColumns:[],addText:"",styleValue:null,fileName:null,fileNum:0,isLoading:!1,uploadURL:d.default.getUploadURL(),uploadRule:{versionUrl:[{required:!0,message:"请上传附件"}]},selectSource:{nameList:{},trafficStatus:[{text:"√",value:1},{text:"×",value:0}]},columns:[{prop:"id",label:"序号"},{prop:"version",label:"版本"},{prop:"description",label:"描述"},{prop:"overTime",label:"超时作废周期",formatter:this.fmtInvalidTime},{prop:"stateStr",label:"状态"},{prop:"useTimeStr",label:"启用时间"},{prop:"createUserStr",label:"添加人"},{prop:"createTimeStr",label:"添加时间"},{prop:"addName",label:"附件名称",width:350}],wordService:i.default.TEMPLETRECORD.name,wordMethod:i.default.TEMPLETRECORD.methods.REPLACE_GET_CONTENT,wordArgs:{basicId:parseInt(this.$route.query.rowId)},serviceBasic:i.default.TEMPLETRECORD.name,methodBasic:i.default.TEMPLETRECORD.methods.MODEL_VERSION_QUERY,argsBasic:{search:{basicId:parseInt(this.$route.query.rowId)}}}},created:function(){var t=parseInt(this.$route.query.rowId);this.getFormData(t),this.getNameList("39103"),this.isFileNum()},filters:{nameList:function(t){var e=t;return 0==t?e="甲":1==t?e="乙":2==t&&(e="丙"),e}},methods:{fmtInvalidTime:function(t){return t+"天"},getNameList:function(t,e){var a=this,n={page:1,search:{pPropertyCode:t},size:100};o.default.queryUnionParent(n).then(function(t){200===t.data.status&&(t.data.result.forEach(function(t){1===t.propertyStatus&&(a.selectSource.nameList[t.id]=t.propertyCode)}),a.styleValue=a.selectSource.nameList[e])})},getTableData:function(){this.$refs.t8ttable.reloadTable(),this.handleClick(),this.$refs.zikutable.reloadTable()},submitForm:function(t){},closeDialog:function(){this.$router.push({path:"/commodule/templet"})},version:function(){this.versionVisible=!0,this.basicId=parseInt(this.$route.query.rowId),this.firstRoleId=this.hFormData.firstRoleId,this.secondRoleId=this.hFormData.secondRoleId,this.thirdRoleId=this.hFormData.thirdRoleId,this.contractTypeId=this.hFormData.contractTypeId},getCommonOptions:function(t,e){var a=this,n={page:1,search:{pPropertyCode:t},size:100},l=[];o.default.queryUnionParent(n).then(function(t){200===t.data.status&&(t.data.result.forEach(function(t){1===t.propertyStatus&&l.push({value:t.id,text:t.propertyName})}),a.commonOptionsConfig[e]=l)})},getFormData:function(t){var e=this,a={id:t};s.default.findById(a).then(function(t){200===t.data.status&&(e.hFormData=t.data.result,e.getNameList("39103",e.hFormData.contractTypeId))})},disable:function(){var t=this;if(!1===this.checkSelection())return!1;var e=this.$refs.t8ttable.getSelectRows()[0];if(2!==e.state&&1!==e.state)return this.$msgbox({title:"消息",type:"warning",message:"启用状态才能进行禁用操作",confirmButtonText:"知道了",confirmButtonClass:"is-plain"}),!1;this.$confirm("确认将所选版本禁用？","禁用确认",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(function(){var a=[];a.push(e.id);var n={ids:a,state:3};s.default.updateVersion(n).then(function(e){200===e.data.status&&1===e.data.result?(t.$msgbox({title:"消息",type:"success",message:"禁用成功",showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"}),t.$refs.t8ttable.reloadTable()):t.$msgbox({title:"消息",type:"error",message:"禁用失败，请重试。",showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"})})}).catch(function(){})},nodisable:function(){var t=this;if(!1===this.checkSelection())return!1;var e=this.$refs.t8ttable.getSelectRows()[0];if(3!==e.state)return this.$msgbox({title:"消息",type:"warning",message:"禁用状态才能进行启用操作",confirmButtonText:"知道了",confirmButtonClass:"is-plain"}),!1;this.$confirm("确认将所选版本启用？","启用确认",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(function(){var a=[];a.push(e.id);var n={ids:a,state:2};s.default.updateVersion(n).then(function(e){200===e.data.status&&1===e.data.result?(t.$msgbox({title:"消息",type:"success",message:"启用成功",showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"}),t.$refs.t8ttable.reloadTable()):t.$msgbox({title:"消息",type:"error",message:"启用失败，请重试。",showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"})})}).catch(function(){})},checkSelection:function(){var t=this.$refs.t8ttable.getSelectRows();return 0===t.length?(this.$message.error("请勾选记录后再试。"),!1):!(t.length>1)||(this.$message.error("请对单条数据进行操作。"),!1)},handleClick:function(t,e){var a=this,n={basicId:this.$route.query.rowId},o=[];s.default.getTitle(n).then(function(t){if(200===t.data.status){for(var e in t.data.result.rows[0])"版本"==t.data.result.rows[0][e]?o.push({prop:e,label:t.data.result.rows[0][e]}):o.push({prop:e,label:t.data.result.rows[0][e],list:"trafficStatus"});a.wordColumns=o}})},handleSuccess:function(t,e){200===t.status&&(this.fileNum++,this.formData.versionUrl=t.result.filePath,this.$refs.formUpload.validateField("versionUrl")),this.isFileNum()},beforeAvatarUpload:function(t){this.fileName=t.name;var e=t.name;"docx"!==e.substring(e.lastIndexOf(".")+1)&&(this.$refs.imgRef.clearFiles(),this.$message.error("只能上传docx文件！"))},fileUpload:function(){if(!1===this.checkSelection())return!1;this.uploadDialog=!0},fileDownload:function(){if(!1===this.checkSelection())return!1;var t=this.$refs.t8ttable.getSelectRows()[0];(0,u.default)(t.addUrl)},addWord:function(){this.addDialog=!0},closeAddDialog:function(){this.addDialog=!1,this.addText="",this.isLoading=!1},closeUploadDialog:function(){this.uploadDialog=!1,this.$refs.imgRef.clearFiles(),this.isLoading=!1,this.$refs.formUpload.resetFields(),this.fileNum=0},onUploadBtn:function(){var t=this,e=!1;this.$refs.formUpload.validate(function(a){if(a){e=!0,t.isLoading=!0;var n=t.$refs.t8ttable.getSelectRows()[0],o={basicId:t.$route.query.rowId,versionId:n.id,version:n.version,addUrl:t.formData.versionUrl,addName:t.fileName};s.default.uploadAndWord(o).then(function(e){200===e.data.status&&1===e.data.result?(t.$msgbox({title:"消息",type:"success",message:"操作成功",showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"}),t.closeUploadDialog(),t.$refs.t8ttable.reloadTable(),t.handleClick(),t.$refs.zikutable.reloadTable()):200===e.data.status&&2===e.data.result?(t.$msgbox({title:"消息",type:"success",message:"提交成功但附件字段有问题",showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"}),t.closeUploadDialog(),t.$refs.t8ttable.reloadTable()):200===e.data.status&&3===e.data.result?(t.$msgbox({title:"消息",type:"success",message:"提交成功,但附件中变量多于字库中变量，请检查词库后补充附件",showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"}),t.closeUploadDialog(),t.$refs.t8ttable.reloadTable()):200===e.data.status&&-1===e.data.result?(t.$msgbox({title:"消息",type:"success",message:"提交失败",showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"}),t.closeUploadDialog(),t.$refs.t8ttable.reloadTable()):(t.$msgbox({title:"消息",type:"error",message:e.data.message,showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"}),t.closeUploadDialog())})}})},onAddBtn:function(){var t=this,e=this.addText;if(""===e)this.$message.warning("请输入字段");else if(/\{|\}/g.test(e))this.$message.error("字段不能包含{**}");else{this.isLoading=!0;var a={contractreplace:{createUser:+r.default.get("t8t-tc-uid"),basicId:parseInt(this.$route.query.rowId),keyword:this.addText}};s.default.createWord(a).then(function(e){200===e.data.status?(t.$msgbox({title:"消息",type:"success",message:"操作成功",showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"}),t.closeAddDialog(),t.handleClick(),t.$refs.zikutable.reloadTable()):(t.$msgbox({title:"消息",type:"error",message:e.data.message,showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"}),t.closeAddDialog())})}},getCode:function(t){t&&(this.styleValue=this.commonOptionsConfig.nameList[t])},handleRemove:function(t,e){t&&(this.fileNum--,this.$refs.formUpload.resetFields()),this.isFileNum()},isFileNum:function(){this.fileNum>=2&&(this.$refs.imgRef.clearFiles(),this.$message.error("只能上传一个文件！"),this.fileNum=0)}}}},456:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(a(11)),l=n(a(5)),i=n(a(20)),s=n(a(6)),r=(n(a(81)),n(a(144)));e.default={name:"version-dialog",data:function(){return{labelPosition:"right",formLabelWidth:"120px",fileUrl:null,isLoading:!1,code:"",styleValue:null,fileName:null,fileNum:0,pickerOptions:{disabledDate:function(t){return t.getTime()<Date.now()+86400}},rules:{discrible:[{required:!0,message:"请输入描述"}],cycle:[{pattern:/^[1-9]\d{0,2}$/,message:"1-999整数"}],startTime:[{required:!0,message:"请选择启用时间"}],secondym:[{required:!0,message:"请输入页码"},{pattern:/^[1-9]\d{0,4}$/,message:"1-999整数"}],secondxz:[{required:!0,message:"请输入X轴"},{pattern:/^[01]$|^[0]\.[0-9]{1,3}$/,message:"0-1三位小数"}],secondyz:[{required:!0,message:"请输入Y轴"},{pattern:/^[01]$|^[0]\.[0-9]{1,3}$/,message:"0-1三位小数"}],thirdym:[{required:!0,message:"请输入页码"},{pattern:/^[1-9]\d{0,2}$/,message:"1-999的整数"}],thirdxz:[{required:!0,message:"请输入X轴"},{pattern:/^[01]$|^[0]\.[0-9]{1,3}$/,message:"0-1三位小数"}],thirdyz:[{required:!0,message:"请输入Y轴"},{pattern:/^[01]$|^[0]\.[0-9]{1,3}$/,message:"0-1三位小数"}],fourym:[{required:!0,message:"请输入页码"},{pattern:/^[1-9]\d{0,2}$/,message:"1-999的整数"}],fourxz:[{required:!0,message:"请输入X轴"},{pattern:/^[01]$|^[0]\.[0-9]{1,3}$/,message:"0-1三位小数"}],fouryz:[{required:!0,message:"请输入Y轴"},{pattern:/^[01]$|^[0]\.[0-9]{1,3}$/,message:"0-1三位小数"}],versionUrl:[{required:!0,message:"请上传附件"}]},commonOptionsConfig:{rule:[],_ruleContent:[],ruleContent:[],ruleAndContent:[{value:"zhinan",label:"指南",children:[{value:"shejiyuanze",label:"设计原则",children:[{value:"yizhi",label:"一致"},{value:"fankui",label:"反馈"}]},{value:"daohang",label:"导航",children:[{value:"cexiangdaohang",label:"侧向导航"},{value:"dingbudaohang",label:"顶部导航"}]}]}],nameList:{}},templateData:{rule:null,ruleContent:null},formData:{discrible:null,cycle:null,startTime:null},columns:[{prop:"rule",label:"规则",list:"rule",sortable:!1,editor:{type:"select",rules:[{required:!0,message:"不能为空"}]}},{prop:"ruleContent",label:"规则内容",list:"ruleContent",sortable:!1,editor:{list:"_ruleContent",type:"select",rules:[{required:!0,message:"不能为空"}]}}],uploadURL:i.default.getUploadURL()}},props:["basicId","firstRoleId","secondRoleId","thirdRoleId","contractTypeId"],computed:{dialogVisible:function(){return!0}},created:function(){this.getCommonOptions("393","rule"),this.getCommonOptions("39301","ruleContent",!0),this.getCommonOptions("39302","ruleContent",!0),this.getCommonOptions("39303","ruleContent",!0),this.getNameList("39103"),this.isFileNum()},mounted:function(){},methods:{changeOrganizationName:function(t){for(var e=0;e<this.organizationCode.length;e++)t===this.organizationCode[e].value&&(this.formData.organizationName=this.organizationCode[e].text)},btnOKClick:function(t){var e=this;this.$refs.createForm.validate(function(t){if(!t)return!1;e.isLoading=!0;var a=e.formatFormData(),n=e.fromatRows(),o=e.firstRoleId,l=e.secondRoleId,i=e.thirdRoleId,d={modelVersion:{basicId:e.basicId,description:a.discrible,overTime:a.cycle,state:1,useTime:a.startTime,addName:e.fileName,addUrl:a.versionUrl,ruleIds:n,createUser:s.default.get("t8t-tc-uid")}};d.modelVersion.signPosition={},"02"!=e.styleValue&&"03"!=e.styleValue&&"04"!=e.styleValue||(d.modelVersion.signPosition[o]={pagenum:a.secondym,pageX:a.secondxz,pageY:a.secondyz}),"03"!=e.styleValue&&"04"!=e.styleValue||(d.modelVersion.signPosition[l]={pagenum:a.thirdym,pageX:a.thirdxz,pageY:a.thirdyz}),"04"==e.styleValue&&(d.modelVersion.signPosition[i]={pagenum:a.fourym,pageX:a.fourxz,pageY:a.fouryz}),r.default.createModelVersion(d).then(function(t){200===t.data.status&&1===t.data.result?(e.$msgbox({title:"消息",type:"success",message:"提交成功",showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"}),e.isLoading=!1,e.btnCancleClick(),e.$emit("success")):200===t.data.status&&2===t.data.result?(e.$msgbox({title:"消息",type:"success",message:"提交成功但附件字段有问题",showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"}),e.isLoading=!1,e.btnCancleClick(),e.$emit("success")):200===t.data.status&&3===t.data.result?(e.$msgbox({title:"消息",type:"success",message:"提交成功,但附件中变量多于字库中变量，请检查词库后补充附件",showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"}),e.isLoading=!1,e.btnCancleClick(),e.$emit("success")):200===t.data.status&&-1===t.data.result?(e.$msgbox({title:"消息",type:"success",message:"提交失败",showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"}),e.isLoading=!1,e.btnCancleClick(),e.$emit("success")):(e.$msgbox({title:"消息",type:"error",message:t.data.message,showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"}),e.isLoading=!1,e.btnCancleClick(),e.$emit("success"))})})},btnCancleClick:function(){this.$refs.createForm.resetFields(),this.$emit("close")},getCommonOptions:function(t,e){var a=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={page:1,search:{pPropertyCode:t},size:100},i=[];l.default.queryUnionParent(o).then(function(o){200===o.data.status&&o.data.result.forEach(function(o){1===o.propertyStatus&&(n?a.commonOptionsConfig[e].push({pid:t,value:o.id,text:o.propertyName}):(i.push({value:o.propertyCode,text:o.propertyName}),a.commonOptionsConfig[e]=i))})})},getNameList:function(t){var e=this,a={page:1,search:{pPropertyCode:t},size:100};l.default.queryUnionParent(a).then(function(t){200===t.data.status&&(t.data.result.forEach(function(t){1===t.propertyStatus&&(e.commonOptionsConfig.nameList[t.id]=t.propertyCode)}),e.styleValue=e.commonOptionsConfig.nameList[e.contractTypeId])})},handleSuccess:function(t,e){200===t.status?(this.fileNum++,this.formData.versionUrlId=t.result.id,this.formData.versionUrl=t.result.filePath):613===t.status&&(this.$refs.fileRef.clearFiles(),this.$message.error("请检查文件后缀(小写)！")),this.isFileNum()},beforeAvatarUpload:function(t){this.fileName=t.name;var e=t.name;"docx"!==e.substring(e.lastIndexOf(".")+1)&&(this.$refs.fileRef.clearFiles(),this.$message.error("只能上传docx文件！"))},formatFormData:function(){var t=(0,o.default)({},this.formData);return t.startTime=+Date.parse(t.startTime).toString().substr(0,10),t},fromatRows:function(){for(var t="",e=this.$refs.t8ttable.getActionLog(!1).addedRows,a=[].concat(e),n=0;n<a.length;n++)t=a[n].ruleContent+","+t;return t.length>0&&(t=t.substr(0,t.length-1)),t},handleRemove:function(t,e){t&&this.fileNum--,this.isFileNum()},add:function(){this.$refs.t8ttable.addNewRow()},del:function(){this.$refs.t8ttable.delRows()},clickValue:function(t,e,a){var n=t.rule,o=this.commonOptionsConfig.ruleContent;this.commonOptionsConfig._ruleContent=o.filter(function(t){return t.pid==n})},isFileNum:function(){this.fileNum>=2&&(this.$refs.imgRef.clearFiles(),this.$message.error("只能上传一个文件！"),this.fileNum=0)}}}},1127:function(t,e,a){(t.exports=a(2)()).push([t.id,"\n.templet-see-t8t-full-dialog .el-dialog__header{\n    padding: 0;\n}\n.templet-see-t8t-full-dialog .el-dialog__body{\n    padding: 0;\n    height: 100%;\n}\n.templet-see-t8t-full-dialog .t8t-full-dialog-container{\n    height: 100%;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-direction: column;\n        flex-direction: column;\n}\n.templet-see-t8t-full-dialog .full-dialog-tabs-container{\n    -ms-flex: 1;\n        flex: 1;\n    display: -ms-flexbox;\n    display: flex;\n    margin-bottom: 20px;\n}\n.templet-see-t8t-full-dialog .full-dialog-toolbar-container{\n    height: 38px;\n    background-color: #1e3046;\n}\n.templet-see-t8t-full-dialog .toolbar-container{\n    width: 1220px;\n    margin: 0 auto;\n    padding-left: 15px;\n    height: 100%;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-align: center;\n    align-items: center;\n    background-color: #1e3046;\n}\n.templet-see-t8t-full-dialog .toolbar-container .toolbar-button{\n    padding: 0 12px;\n    height: 26px;\n    font-size: 12px;\n    background-color: #1e3046;\n    color: #d1dde9;\n    border: 1px solid #09131d;\n}\n.templet-see-t8t-full-dialog .toolbar-container .toolbar-button:hover{\n    color: #1e3046;\n    background-color: #d2deeb;\n}\n.templet-see-t8t-full-dialog .container-center{\n    width: 1220px;\n    margin-left: auto;\n    margin-right: auto;\n}\n.templet-see-t8t-full-dialog .el-form{\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-wrap: wrap;\n        flex-wrap: wrap;\n}\n.templet-see-t8t-full-dialog .form-item-container{\n    width: 25%;\n}\n.templet-see-t8t-full-dialog .full-dialog-form-container{\n    margin-top: 22px;\n}\n.templet-see-t8t-full-dialog .full-dialog-form-container .el-form-item__content{\n    width: 180px;\n}\n.templet-see-t8t-full-dialog .full-dialog-tabs-container{\n    display: -ms-flexbox;\n    display: flex;\n}\n.templet-see-t8t-full-dialog .el-tabs{\n    -ms-flex: 1;\n        flex: 1;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-direction: column;\n        flex-direction: column;\n}\n.templet-see-t8t-full-dialog .full-dialog-tabs-container .el-tabs__item{\n    font-size: 12px;\n    height: 22px;\n    line-height: 22px;\n    margin-top: 13px;\n    margin-bottom: 12px;\n}\n.templet-see-t8t-full-dialog .el-tabs__header{\n    border-top: 2px solid #eff7fa;\n    border-bottom: 2px solid #eff7fa;\n}\n.templet-see-t8t-full-dialog .full-dialog-tabs-container .el-tabs__active-bar{\n    height: 1px;\n}\n.templet-see-t8t-full-dialog .el-tabs__item + .el-tabs__item {\n    border-left: 1px solid #d4dce7;\n}\n.templet-see-t8t-full-dialog .el-tabs__nav-wrap{\n    width: 1220px;\n    margin: 0 auto;\n}\n.templet-see-t8t-full-dialog .el-tabs__content{\n    -ms-flex: 1;\n        flex: 1;\n    display: -ms-flexbox;\n    display: flex;\n    width: 100%;\n    height: 100%;\n    position: relative;\n}\n.templet-see-t8t-full-dialog .el-tab-pane{\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex: 1;\n        flex: 1;\n    overflow: auto;\n}\n.templet-see-t8t-full-dialog .el-tab-pane {\n    -ms-flex: none !important;\n        flex: none !important;\n    width: 100% !important;\n    height: 100% !important;\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n}\n.templet-see-t8t-full-dialog .el-tab-pane .t8t-toolbar {\n    position: absolute;\n    left: 30px;\n    right: 30px;\n    padding: 10px 0!important;\n    margin: 0 auto!important;\n}\n.templet-see-t8t-full-dialog .el-tab-pane .t8t-toolbar .el-button--small {\n    padding: 7px 9px!important;\n    font-size: 12px;\n}\n.templet-see-t8t-full-dialog  .el-dialog .el-button--small {\n    padding: 7px 9px!important;\n    font-size: 12px;\n}\n.templet-see-t8t-full-dialog .t8t-table {\n    /*width: 1200px;*/\n    -ms-flex: none !important;\n        flex: none !important;\n    margin: 0 auto;\n    position: absolute;\n    left: 30px;\n    bottom: 30px;\n    right: 30px;\n}\n.templet-see-t8t-full-dialog .t8t-table .pagenav-container {\n    border: 1px solid #D3DDE6;\n}\n.templet-see-t8t-full-dialog .t8t-table .pagenav-container {\n    border: 1px solid #D3DDE6;\n}\n.templet-see-t8t-full-dialog  .tableDebitType .t8t-table {\n    top: 50px;\n}\n.templet-see-t8t-full-dialog  .removeLog .t8t-table{\n    top: 50px;\n}\n.templet-see-t8t-full-dialog .t8t-table .table-container {\n    margin-left: 0;\n}\n",""])},1128:function(t,e,a){(t.exports=a(2)()).push([t.id,"\n.templet-see-t8t-full-dialog .my-container[data-v-43308e63]{\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex: 1;\n        flex: 1;\n    -ms-flex-direction: column;\n        flex-direction: column;\n    padding: 0 30px;\n}\n.templet-see-t8t-full-dialog .my-toolbar[data-v-43308e63]{\n    margin-bottom: 15px;\n}\n.fileDiv .form-item-container[data-v-43308e63]\n{\n    margin-left: 100px;\n    width: 250px;\n}\n.textarea-container[data-v-43308e63]\n{\n    width: 180px;\n    margin-left: 100px;\n}\n.ruleTitle[data-v-43308e63]\n{\n    font-weight: bold;\n    color: #111;\n    font-size: 13px;\n}\n.firstPosition[data-v-43308e63]\n{\n    margin-top: 5px;\n    margin-bottom: 20px;\n}\n.secondPosition[data-v-43308e63]\n{\n    margin-top: 15px;\n    margin-bottom: 25px;\n}\n.rule[data-v-43308e63]\n{\n    margin-top: 15px;\n}\n.positionm[data-v-43308e63]\n{\n    margin-left: 50px;\n}\n.rulename[data-v-43308e63]\n{\n    margin-left: 105px;\n    display: inline-block;\n    width: 170px;\n}\n.rulename[data-v-43308e63]:last-child{\n    width: 500px;\n}\n",""])},1182:function(t,e,a){(t.exports=a(2)()).push([t.id,"\n.version-dialog .el-dialog__header\n{\n    padding: 30px 20px 20px;\n    text-align: center;\n}\n.version-dialog .el-dialog{\n    width: 700px;\n}\n.version-dialog .secondbox .el-form-item .el-form-item__label\n{\n    width: 50px !important;\n}\n.version-dialog .secondbox .el-form-item .el-form-item__content\n{\n    margin-left: 50px !important;\n}\n.version-dialog .thirdbox .el-form-item .el-form-item__label\n{\n    width: 50px !important;\n}\n.version-dialog .thirdbox .el-form-item .el-form-item__content\n{\n    margin-left: 50px !important;\n}\n.version-dialog .table-container\n{\n    margin-top: 10px;\n    width: 492px;\n}\n\n\n\n",""])},1183:function(t,e,a){(t.exports=a(2)()).push([t.id,"\n.el-form[data-v-57403134]\n{\n    position: relative;\n}\n.miaoshu[data-v-57403134]\n{\n    width: 450px !important;\n}\n.endtime[data-v-57403134]\n{\n    width: 75px !important;\n}\n.time[data-v-57403134]\n{\n    margin-left: 12px;\n}\n.startTime[data-v-57403134]\n{\n    width: 180px !important;\n}\n.my-container[data-v-57403134]\n{\n    margin-left: 80px;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex: 1;\n        flex: 1;\n    -ms-flex-direction: column;\n        flex-direction: column;\n}\n.firstbox[data-v-57403134]\n{\n   width: 540px;\n   height: 34px;\n   margin-bottom: 22px;\n   margin-left: 47px;\n}\n.firstbox .el-form-item[data-v-57403134]\n{\n    float: left;\n}\n.secondbox[data-v-57403134]\n{\n    width: 540px;\n    height: 34px;\n    margin-bottom: 22px;\n    margin-left: 50px;\n    position: relative;\n}\n.secondposition[data-v-57403134]\n{\n    position: absolute;\n    left: 32px;\n    top:8px;\n}\n.secondym[data-v-57403134]\n{\n    position: absolute;\n    left: 125px;\n    top:0px;\n}\n.secondxz[data-v-57403134]\n{\n    position: absolute;\n    left: 265px;\n    top:0px;\n}\n.secondyz[data-v-57403134]\n{\n    position: absolute;\n    left: 395px;\n    top:0px;\n}\n.thirdbox[data-v-57403134]\n{\n    width: 540px;\n    height: 34px;\n    margin-bottom: 22px;\n    margin-left: 50px;\n    position: relative;\n}\n.thirdposition[data-v-57403134]\n{\n    position: absolute;\n    left: 32px;\n    top:8px;\n}\n.thirdym[data-v-57403134]\n{\n    position: absolute;\n    left: 125px;\n    top:0px;\n}\n.thirdxz[data-v-57403134]\n{\n    position: absolute;\n    left: 265px;\n    top:0px;\n}\n.thirdyz[data-v-57403134]\n{\n    position: absolute;\n    left: 395px;\n    top:0px;\n}\n.upload[data-v-57403134]\n{\n    margin-left: 10px;\n    margin-top: 10px;\n    width: 557px;\n}\n.my-container[data-v-57403134]\n{\n    min-height: 203px;\n    max-height: 250px;\n}\n.tishi[data-v-57403134]\n{\n    margin-left: 80px;\n    margin-bottom: 22px;\n    color: #8391a5;\n}\n\n\n\n\n\n",""])},1573:function(t,e,a){var n=a(1127);"string"==typeof n&&(n=[[t.id,n,""]]);a(3)(n,{});n.locals&&(t.exports=n.locals)},1574:function(t,e,a){var n=a(1128);"string"==typeof n&&(n=[[t.id,n,""]]);a(3)(n,{});n.locals&&(t.exports=n.locals)},1628:function(t,e,a){var n=a(1182);"string"==typeof n&&(n=[[t.id,n,""]]);a(3)(n,{});n.locals&&(t.exports=n.locals)},1629:function(t,e,a){var n=a(1183);"string"==typeof n&&(n=[[t.id,n,""]]);a(3)(n,{});n.locals&&(t.exports=n.locals)},1901:function(t,e,a){a(1574),a(1573);var n=a(4)(a(455),a(2396),"data-v-43308e63",null);t.exports=n.exports},1902:function(t,e,a){a(1629),a(1628);var n=a(4)(a(456),a(2438),"data-v-57403134",null);t.exports=n.exports},2396:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{staticClass:"templet-see-t8t-full-dialog t8t-full-dialog",attrs:{size:"full"},on:{close:t.closeDialog},model:{value:t.isDialogShow,callback:function(e){t.isDialogShow=e}}},[a("div",{staticClass:"t8t-full-dialog-container"},[a("div",{staticClass:"full-dialog-toolbar-container"},[a("div",{staticClass:"toolbar-container"})]),t._v(" "),a("div",{staticClass:"full-dialog-form-container container-center"},[a("el-form",{ref:"formRef",attrs:{model:t.hFormData,"label-position":"right","label-width":"120px"}},[a("div",{staticClass:"form-item-container"},[a("el-form-item",{attrs:{label:"业务类型：",prop:"templetType"}},[a("el-input",{attrs:{disabled:""},model:{value:t.hFormData.businessType,callback:function(e){t.hFormData.businessType=e}}})],1)],1),t._v(" "),a("div",{staticClass:"form-item-container"},[a("el-form-item",{attrs:{label:"合同名称：",prop:"templetName"}},[a("el-input",{attrs:{disabled:""},model:{value:t.hFormData.contractName,callback:function(e){t.hFormData.contractName=e}}})],1)],1),t._v(" "),a("div",{staticClass:"form-item-container"},[a("el-form-item",{attrs:{label:"单据名称：",prop:"billName"}},[a("el-input",{attrs:{disabled:""},model:{value:t.hFormData.billName,callback:function(e){t.hFormData.billName=e}}})],1)],1),t._v(" "),a("div",{staticClass:"form-item-container"},[a("el-form-item",{attrs:{label:"组织：",prop:"templetOrganize"}},[a("el-input",{attrs:{disabled:""},model:{value:t.hFormData.organize,callback:function(e){t.hFormData.organize=e}}})],1)],1),t._v(" "),a("div",{staticClass:"form-item-container"},[a("el-form-item",{attrs:{label:"编码规则：",prop:"templetCode"}},[a("el-input",{attrs:{disabled:""},model:{value:t.hFormData.codeRule,callback:function(e){t.hFormData.codeRule=e}}})],1)],1),t._v(" "),a("div",{staticClass:"form-item-container"},[a("el-form-item",{attrs:{label:"属性：",prop:"templetProperty"}},[a("el-input",{attrs:{disabled:""},model:{value:t.hFormData.contractKind,callback:function(e){t.hFormData.contractKind=e}}})],1)],1),t._v(" "),a("div",{staticClass:"form-item-container"},[a("el-form-item",{attrs:{label:"类型：",prop:"receiptStyle"}},[a("el-input",{attrs:{disabled:""},model:{value:t.hFormData.contractType,callback:function(e){t.hFormData.contractType=e}}})],1)],1),t._v(" "),"02"==this.styleValue||"03"==this.styleValue||"04"==this.styleValue?a("div",{staticClass:"form-item-container"},[a("el-form-item",{attrs:{label:"甲方：",prop:"receiptFirst"}},[a("el-input",{attrs:{disabled:""},model:{value:t.hFormData.firstRoleStr,callback:function(e){t.hFormData.firstRoleStr=e}}})],1)],1):t._e(),t._v(" "),"03"==this.styleValue||"04"==this.styleValue?a("div",{staticClass:"form-item-container"},[a("el-form-item",{attrs:{label:"乙方：",prop:"receiptSecond"}},[a("el-input",{attrs:{disabled:""},model:{value:t.hFormData.secondRoleStr,callback:function(e){t.hFormData.secondRoleStr=e}}})],1)],1):t._e(),t._v(" "),"04"==this.styleValue?a("div",{staticClass:"form-item-container"},[a("el-form-item",{attrs:{label:"丙方：",prop:"receiptThird"}},[a("el-input",{attrs:{disabled:""},model:{value:t.hFormData.thirdRoleStr,callback:function(e){t.hFormData.thirdRoleStr=e}}})],1)],1):t._e()])],1),t._v(" "),a("div",{staticClass:"full-dialog-tabs-container"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeTabName,callback:function(e){t.activeTabName=e}}},[a("el-tab-pane",{staticClass:"tableDebitType",attrs:{label:"基本信息",name:"one"}},[a("div",{staticClass:"my-container"},[a("t8t-toolbar",{on:{"VERSION-OVERLAY":t.version,DISABLE:t.disable,"ANTI-DISABLE":t.nodisable,fileUpload:t.fileUpload,fileDownload:t.fileDownload}}),t._v(" "),a("t8t-table",{ref:"t8ttable",attrs:{columns:t.columns,selectCol:!0,args:t.argsBasic,service:t.serviceBasic,method:t.methodBasic,expandCol:!0},scopedSlots:t._u([["expand",function(e){return[a("div",{staticClass:"expandBox"},[t._l(e.row.signPositionJSON,function(e,n,o){return a("div",{staticClass:"firstPosition"},[a("span",{staticClass:"ruleTitle"},[t._v(t._s(t._f("nameList")(o))+"方位置信息：")]),t._v(" "),a("span",{staticClass:"positionm"},[t._v("页码："+t._s(e.pagenum))]),t._v(" "),a("span",{staticClass:"positionm"},[t._v("X轴："+t._s(e.pageX))]),t._v(" "),a("span",{staticClass:"positionm"},[t._v("Y轴："+t._s(e.pageY))])])}),t._v(" "),t._l(e.row.ruleList,function(e,n){return a("div",{staticClass:"rule"},[a("span",{staticClass:"ruleTitle"},[t._v("规则"+t._s(n+1))]),t._v(" "),a("span",{staticClass:"rulename"},[t._v("名称："+t._s(void 0===e.parentName?"":e.parentName))]),t._v(" "),a("span",{staticClass:"rulename"},[t._v("内容："+t._s(void 0===e.name?"":e.name))]),t._v(" "),a("span",{staticClass:"rulename"},[t._v("描述："+t._s(void 0===e.description?"":e.description))])])})],2)]}]])})],1)]),t._v(" "),a("el-tab-pane",{staticClass:"removeLog",attrs:{label:"字库",name:"two"}},[a("div",{staticClass:"my-container"},[a("div",{staticClass:"my-toolbar"},[a("el-button",{attrs:{type:"primary",size:"small",icon:"plus"},on:{click:function(e){t.addWord()}}},[t._v("新增字段")])],1),t._v(" "),a("t8t-table",{ref:"zikutable",attrs:{columns:t.wordColumns,service:t.wordService,method:t.wordMethod,selectCol:!1,args:t.wordArgs,commonData:t.selectSource}})],1)])],1)],1)])]),t._v(" "),t.versionVisible?a("version-dialog",{attrs:{basicId:t.basicId,firstRoleId:t.firstRoleId,secondRoleId:t.secondRoleId,thirdRoleId:t.thirdRoleId,contractTypeId:t.contractTypeId},on:{close:function(e){t.versionVisible=!1},success:t.getTableData}}):t._e(),t._v(" "),a("el-dialog",{ref:"addDialogRef",attrs:{title:"新增字段"},on:{close:t.closeAddDialog},model:{value:t.addDialog,callback:function(e){t.addDialog=e}}},[a("div",{staticClass:"textarea-container"},[a("el-input",{attrs:{type:"text",placeholder:"请输入字段"},model:{value:t.addText,callback:function(e){t.addText=e}}})],1),t._v(" "),a("div",{slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:t.isLoading},on:{click:t.onAddBtn}},[t._v("确认")]),t._v(" "),a("el-button",{on:{click:t.closeAddDialog}},[t._v("关闭")])],1)]),t._v(" "),a("el-dialog",{ref:"uploadDialogRef",attrs:{title:"附件上传"},on:{close:t.closeUploadDialog},model:{value:t.uploadDialog,callback:function(e){t.uploadDialog=e}}},[a("el-form",{ref:"formUpload",attrs:{rules:t.uploadRule,model:t.formData}},[a("div",{staticClass:"fileDiv"},[a("div",{staticClass:"form-item-container"},[a("el-form-item",{attrs:{label:"附件：",prop:"versionUrl"}},[a("el-upload",{ref:"imgRef",attrs:{action:t.uploadURL,data:{bucket:"scm",module:"t8t-esm/commodule"},"show-file-list":!0,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"before-upload":t.beforeAvatarUpload},model:{value:t.formData.versionUrl,callback:function(e){t.formData.versionUrl=e}}},[a("el-button",{attrs:{size:"small"}},[t._v("上传文件")])],1)],1)],1)])]),t._v(" "),a("div",{slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:t.isLoading},on:{click:t.onUploadBtn}},[t._v("确认")]),t._v(" "),a("el-button",{on:{click:t.closeUploadDialog}},[t._v("关闭")])],1)],1)],1)},staticRenderFns:[]}},2438:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{staticClass:"version-dialog",attrs:{title:"版本叠加"},on:{close:function(e){t.btnCancleClick()}},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e}}},[a("el-form",{ref:"createForm",attrs:{"label-position":t.labelPosition,model:t.formData,"label-width":t.formLabelWidth,rules:t.rules},nativeOn:{keyup:function(e){if(t._k(e.keyCode,"enter",13))return null;t.btnOKClick()}}},[a("el-form-item",{attrs:{label:"描述",prop:"discrible"}},[a("el-input",{staticClass:"miaoshu",attrs:{maxlength:"30",placeholder:"请输入描述(30字内)"},model:{value:t.formData.discrible,callback:function(e){t.formData.discrible=e}}})],1),t._v(" "),a("div",{staticClass:"firstbox"},[a("el-form-item",{staticClass:"week",attrs:{label:"超时作废周期",prop:"cycle"}},[a("el-input",{staticClass:"endtime",model:{value:t.formData.cycle,callback:function(e){t.formData.cycle=e}}}),t._v(" 天\n            ")],1),t._v(" "),a("el-form-item",{staticClass:"time",attrs:{label:"启用时间",prop:"startTime"}},[a("el-date-picker",{staticClass:"startTime",attrs:{type:"date",placeholder:"请选择启用时间","picker-options":t.pickerOptions},model:{value:t.formData.startTime,callback:function(e){t.formData.startTime=e}}})],1)],1),t._v(" "),2==t.styleValue||3==t.styleValue||4==t.styleValue?a("div",{staticClass:"secondbox"},[a("div",{staticClass:"secondposition"},[t._v("甲方签署位置：")]),t._v(" "),a("el-form-item",{staticClass:"secondym",attrs:{label:"页码",prop:"secondym"}},[a("el-input",{staticClass:"endtime",model:{value:t.formData.secondym,callback:function(e){t.formData.secondym=e}}})],1),t._v(" "),a("el-form-item",{staticClass:"secondxz",attrs:{label:"X轴",prop:"secondxz"}},[a("el-input",{staticClass:"endtime",model:{value:t.formData.secondxz,callback:function(e){t.formData.secondxz=e}}})],1),t._v(" "),a("el-form-item",{staticClass:"secondyz",attrs:{label:"Y轴",prop:"secondyz"}},[a("el-input",{staticClass:"endtime",model:{value:t.formData.secondyz,callback:function(e){t.formData.secondyz=e}}})],1)],1):t._e(),t._v(" "),3==t.styleValue||4==t.styleValue?a("div",{staticClass:"thirdbox"},[a("div",{staticClass:"thirdposition"},[t._v("乙方签署位置：")]),t._v(" "),a("el-form-item",{staticClass:"thirdym",attrs:{label:"页码",prop:"thirdym"}},[a("el-input",{staticClass:"endtime",model:{value:t.formData.thirdym,callback:function(e){t.formData.thirdym=e}}})],1),t._v(" "),a("el-form-item",{staticClass:"thirdxz",attrs:{label:"X轴",prop:"thirdxz"}},[a("el-input",{staticClass:"endtime",model:{value:t.formData.thirdxz,callback:function(e){t.formData.thirdxz=e}}})],1),t._v(" "),a("el-form-item",{staticClass:"thirdyz",attrs:{label:"Y轴",prop:"thirdyz"}},[a("el-input",{staticClass:"endtime",model:{value:t.formData.thirdyz,callback:function(e){t.formData.thirdyz=e}}})],1)],1):t._e(),t._v(" "),4==t.styleValue?a("div",{staticClass:"thirdbox"},[a("div",{staticClass:"thirdposition"},[t._v("丙方签署位置：")]),t._v(" "),a("el-form-item",{staticClass:"thirdym",attrs:{label:"页码",prop:"fourym"}},[a("el-input",{staticClass:"endtime",model:{value:t.formData.fourym,callback:function(e){t.formData.fourym=e}}})],1),t._v(" "),a("el-form-item",{staticClass:"thirdxz",attrs:{label:"X轴",prop:"fourxz"}},[a("el-input",{staticClass:"endtime",model:{value:t.formData.fourxz,callback:function(e){t.formData.fourxz=e}}})],1),t._v(" "),a("el-form-item",{staticClass:"thirdyz",attrs:{label:"Y轴",prop:"fouryz"}},[a("el-input",{staticClass:"endtime",model:{value:t.formData.fouryz,callback:function(e){t.formData.fouryz=e}}})],1)],1):t._e(),t._v(" "),a("div",{staticClass:"tishi"},[t._v("\n            页码为签章页，X为图片左边距和宽度占比，Y为图片上边距和高度占比。\n            ")]),t._v(" "),a("div",{staticClass:"my-container"},[a("div",{staticClass:"my-toolbar"},[a("el-button",{attrs:{type:"primary",size:"small",icon:"plus"},on:{click:function(e){t.add()}}},[t._v("新增行")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small",icon:"close"},on:{click:function(e){t.del()}}},[t._v("删除行")])],1),t._v(" "),a("t8t-table",{ref:"t8ttable",attrs:{columns:t.columns,commonData:t.commonOptionsConfig,templateData:t.templateData,selectCol:!0,indexCol:!0,editable:!0,pageBar:!1},on:{"cell-form-item-change":t.getValue,"cell-click":t.clickValue}})],1),t._v(" "),a("div",{staticClass:"form-item-container upload"},[a("el-form-item",{attrs:{label:"附件：",prop:"versionUrl"}},[a("el-upload",{ref:"fileRef",attrs:{action:t.uploadURL,data:{bucket:"scm",module:"t8t-esm/commodule"},"show-file-list":!0,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"before-upload":t.beforeAvatarUpload},model:{value:t.formData.versionUrl,callback:function(e){t.formData.versionUrl=e}}},[a("el-button",{attrs:{size:"small"}},[t._v("上传附件")])],1)],1)],1)],1),t._v(" "),t.editable?t._e():a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:t.isLoading},on:{click:function(e){t.btnOKClick()}}},[t._v("确定")]),t._v(" "),a("el-button",{on:{click:function(e){t.btnCancleClick()}}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]}}});