webpackJsonp([240,269],{47:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={PROCENTERTREE:{name:"tac4MBKgFxtkOyGS5xolDBVgEEqR4_j",methods:{LISTCATEGIRY:"N4VlGazqhEV4O7p5tFECXLmvbMA87jp"}},PROCENTERCATEGORY:{name:"UXCW5_FfDpVAC4RS04cKtoUQPAo0Ct1bM6DkpEzEh-tmghj",methods:{CATEGORY:"P5ZnSOIfU9FZfG5oeLRcGlaqV3mIzl0g-JG"}},PROCENTERDEPLOYLIST:{name:"kahC43ofmx3VBfYN4D86B0aWN7xyrzY",methods:{DEPLOYLIST:"5k_j_P_WD8RwL8UqaGgemLL",PRODIAGRAM:"ocM-RfcwmwgITykyYSQX_K9vYW-g7j.vb43",FLOWLIST:"Hi_a7GN6TG85Q0RgZpY",PROCESSDETAIL:"h9Gn7JK_3a-JnhpyXXPI7xixH31",GETUSERTASKSWEB:"9bMs6cQMGe_LEaZPtnQU6_k",PROCESSNAME:"bzPfRPsZAIkInrHzR0Ww3jYQ_-B",PROCESSINSTSWEB:"mN-bBZSV7j6gslGBe2R8YAd8iBn",HISTORYPROCESSINSTSWEB:"NXGklFkG5yvT_vupqPexl6hpmeFSq4FqJKrsYWV",QUERYPROCINFOBYSTARTER:"qKH0uUvM502z9e4Eh-3Dbw24I34XnWxYXfCtGiH5-Nk",RETRIEVEPROCESSPICTURE:"caQX8iZlaSbYUOb-Wad-zIItpQHKCn-OTEy",GETACTIVITUINFO:"UwqvS8Ww3OrN3ZNE8PbR9gnMv-gwilk"}},PROCENTERDEPLOYCTL:{name:"ubBdWrXdnC-1cRnPgZs7CXA6xZRnzF0",methods:{SUSPENDPROCDEF:"5nyeHyB7ZEuri3TpRh3tD0d",ACTIVATEPROCDEF:"fcpjGsaCz11JaX2oP0Tevt2",SUSPENDPROCESS:"IiBNEwBUZHvaZEd884hkl9s",ACTIVAREPROCESS:"r-jGv4CJ2_eJr8ju5dL55tG",UPDATEASSIGNEE:"vhuF2ysepV8qxRGxwy2tauE",STARTPROCESS:"ufxCx62mvy5O56qyW1J",COMPLETETASK:"zxbXS3heSFwAqv910ZQ"}},PROCENTERDEPLOY:{name:"75HlZS4nGZjFaJVfcJTtxqRfF8pIixrHj8VLVGRXNwD",methods:{DEPLOYBYZIP:"3qjAn-cqKdzGCqqoRdo"}},USERINFODATD:{name:"VVFThqq6Am6swm_FAiqN6rrCR46gTZuiCR5qQ5N",methods:{ACOUNT:"1zrMMREJIKUfTbFF_QMtddb",FINDUIDBYNAME:"rWhkvIhueB4zmbk3Mhcl3hYq2q5"}},SYSTEMCODE:{name:"6ke2igQ72I0buaw0iMB5QK05wLEnhMQ7HuZlwSYYzEgGJCu",methods:{GETSYSTEMCODE:"MXXlQL4yf_XaY2HZLHGADkzYymPhjUU-DJJ"}},SUPPLIERSHOP:{name:"a4huh3BDf-pU0emKmyu7Fiwcu9ytbRyd6R4fJGCtTE1xcMLdnKS",methods:{GETSUPPSHOPPERSONS:"CxHWEqtWE6yKZEE5n1c"}},IMPOWERSERVICE:{name:"ubBdWrXdnC-1cRnPgZs7CXA6xZRnzF0",methods:{CREATEAGENCY:"2M_S3N4E_Qzk9CCpO9CH9-BA6UT",IMPOWERLIST:"lbZvPBChkehHxtjvcDe8L2Nru8y",DELETEAGENCY:"D0zKDUrN3VmS8o2xeDh7_Lp0ynf"}},CATEGORY:{name:"U_Uwpq1EYRL1nw5uYeS5kdEskn_Q26K",methods:{CREATEGATEGORY:"GcageCv_T_wEaS93LLdsdPRWUUaJJgn",SEARCHCATEGORY:"RdOLFf_hAyM7bPId_uCSRjTPLNEjzon",UPDATECATEGORY:"QoonamrRzgeZFpbXCmQoInbZS4QspJB",UPDATECATEGORYSTATUS:"yB143AKgQw4gHnW9m1GiYUYopvSv7Hm-loDD7tS",TREE:"0AQQGTyJIyMNDgtJ3doayCo38O1cYfXK-mm",CATEGORYPIDS:"MCOWT8SpIDi_P6nikI18e4QgTv1zrDd"}},WORKFLOW:{name:"pQXz7EdPwVrOsEK1WynO21gH--Bnbyi",methods:{LISTPROCESSCATEGORY:"C66IFbiHFe-Mzok0JHNlOoss0N9MWcx2wlW",QUERYPROCESS:"fjlUgmlG7zLURjhrVAcT6lWX8h2",UPDATEPROCESS:"2fjRpZj6xhUBfZFOiDLHxViZvIdeD4E",INSERTPROCESS:"PUVDPQo7aFEVTLG5rTDmohGmzmNfs.r",DELPROCESS:"LdVSoc43wGHYZrRy2pW2VzLdDm_",GETONEPROCESS:"sk62c1hvoLkHg4t51EUUH-WLmyaFBsP",GETCATEGORIES:"Y0i3HqIGSslCeEP0Vwilsqqj3ytq-.M",GETPROCBPMINFOS:"I85ObDNhRvd-fAt0VDczbxoOUv-7gaJ",CREATEPROCBPMINFO:"MWVWMmrbKm9TJFAFx5m5eIk6fvKzSgTIaqx",UPDATEPROCBPMINFO:"TZEGAo_fQ4jWF59EH21rlLTqTMHWhQw6Iut",GETPROCBPMINFOVERSIONS:"5U0yq2AIsSnb6QlkuMuoGsMph2RqGhk-8lE37a-uTcO",UPDATERUNBPM:"THUHVn_jPO9hEb5LDaDHHkxWj-l",OUTPUTPROCINFO:"msrZf5Q1ZsK8hPxa9J7R4e6ZrwbqD2G"}},ProcessInsService:{name:"tac4MBKgFxtkOyGS5xolDBVgEEqR4_j",methods:{getProcessInsts:"ouPCdbPwR9KlvisnAd8UAhC"}}}},78:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(a(1)),o=s(a(47));t.default={listCategory:function(e){return(0,r.default)({method:o.default.PROCENTERTREE.methods.LISTCATEGIRY,service:o.default.PROCENTERTREE.name,args:e})},getProCategory:function(e){return(0,r.default)({method:o.default.PROCENTERCATEGORY.methods.CATEGORY,service:o.default.PROCENTERCATEGORY.name,args:e})},getDeployLists:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYLIST.methods.DEPLOYLIST,service:o.default.PROCENTERDEPLOYLIST.name,args:e})},FLOWLIST:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYLIST.methods.FLOWLIST,service:o.default.PROCENTERDEPLOYLIST.name,args:e})},suspendProcDef:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYCTL.methods.SUSPENDPROCDEF,service:o.default.PROCENTERDEPLOYCTL.name,args:e})},activateProcDef:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYCTL.methods.ACTIVATEPROCDEF,service:o.default.PROCENTERDEPLOYCTL.name,args:e})},deleteProcess:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYCTL.methods.DELETEPROCESS,service:o.default.PROCENTERDEPLOYCTL.name,args:e})},getProDiagram:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYLIST.methods.PRODIAGRAM,service:o.default.PROCENTERDEPLOYLIST.name,args:e})},deployProcess:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOY.methods.DEPLOYBYZIP,service:o.default.PROCENTERDEPLOY.name,args:e})},getProcNames:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYLIST.methods.PROCESSNAME,service:o.default.PROCENTERDEPLOYLIST.name,args:e})},getDeployList:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYLIST.methods.GETUSERTASKS,service:o.default.PROCENTERDEPLOYLIST.name,args:e})},suspendProcess:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYCTL.methods.SUSPENDPROCESS,service:o.default.PROCENTERDEPLOYCTL.name,args:e})},activateProcess:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYCTL.methods.ACTIVAREPROCESS,service:o.default.PROCENTERDEPLOYCTL.name,args:e})},getProcessDetail:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYLIST.methods.PROCESSDETAIL,service:o.default.PROCENTERDEPLOYLIST.name,args:e})},getUserinfoName:function(e){return(0,r.default)({method:o.default.USERINFODATD.methods.ACOUNT,service:o.default.USERINFODATD.name,args:e})},getSystemCode:function(e){return(0,r.default)({method:o.default.SYSTEMCODE.methods.GETSYSTEMCODE,service:o.default.SYSTEMCODE.name,args:e})},getProcessInsts:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYLIST.methods.PROCESSINSTS,service:o.default.PROCENTERDEPLOYLIST.name,args:e})},getHistoricProcessInsts:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYLIST.methods.HISTORYPROCESSINSTS,service:o.default.PROCENTERDEPLOYLIST.name,args:e})},getSupperShop:function(e){return(0,r.default)({method:o.default.SUPPLIERSHOP.methods.GETSUPPSHOPPERSONS,service:o.default.SUPPLIERSHOP.name,args:e})},updateAssignee:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYCTL.methods.UPDATEASSIGNEE,service:o.default.PROCENTERDEPLOYCTL.name,args:e})},getUserinfoByName:function(e){return(0,r.default)({method:o.default.USERINFODATD.methods.FINDUIDBYNAME,service:o.default.USERINFODATD.name,args:e})},impowerByAssigneeId:function(e){return(0,r.default)({method:o.default.IMPOWERSERVICE.methods.CREATEAGENCY,service:o.default.IMPOWERSERVICE.name,args:e})},impowerList:function(e){return(0,r.default)({method:o.default.IMPOWERSERVICE.methods.IMPOWERLIST,service:o.default.IMPOWERSERVICE.name,args:e})},cancelImpowerByRid:function(e){return(0,r.default)({method:o.default.IMPOWERSERVICE.methods.DELETEAGENCY,service:o.default.IMPOWERSERVICE.name,args:e})},createCategory:function(e){return(0,r.default)({method:o.default.CATEGORY.methods.CREATEGATEGORY,service:o.default.CATEGORY.name,args:e})},updateCategory:function(e){return(0,r.default)({method:o.default.CATEGORY.methods.UPDATECATEGORY,service:o.default.CATEGORY.name,args:e})},updateStatusCategory:function(e){return(0,r.default)({method:o.default.CATEGORY.methods.UPDATECATEGORYSTATUS,service:o.default.CATEGORY.name,args:e})},searchProCategory:function(e){return(0,r.default)({method:o.default.CATEGORY.methods.SEARCHCATEGORY,service:o.default.CATEGORY.name,args:e})},getCategoryTree:function(e){return(0,r.default)({method:o.default.CATEGORY.methods.TREE,service:o.default.CATEGORY.name,args:e})},getCategoryPid:function(e){return(0,r.default)({method:o.default.CATEGORY.methods.CATEGORYPIDS,service:o.default.CATEGORY.name,args:e})},startProcess:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYCTL.methods.STARTPROCESS,service:o.default.PROCENTERDEPLOYCTL.name,args:e})},completeTask:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYCTL.methods.COMPLETETASK,service:o.default.PROCENTERDEPLOYCTL.name,args:e})},retrieveProcessPicture:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYLIST.methods.RETRIEVEPROCESSPICTURE,service:o.default.PROCENTERDEPLOYLIST.name,args:e})},getActivityInfo:function(e){return(0,r.default)({method:o.default.PROCENTERDEPLOYLIST.methods.GETACTIVITUINFO,service:o.default.PROCENTERDEPLOYLIST.name,args:e})}}},430:function(e,t){e.exports={columns:[{prop:"id",label:"编码"},{prop:"name",label:"分类名称"},{prop:"code",label:"分类编码"},{prop:"parentName",label:"父类名称"},{prop:"isDel",label:"状态",list:"status"}],fields:[{type:"input",label:"分类名称",name:"name"},{type:"input",label:"分类编码",name:"code"},{type:"select",label:"状态",name:"isDel",selectSourceKey:"statusTypes"}],selectSource:{statusTypes:[{text:"启用",value:0},{text:"禁用",value:1}],procNames:[]},commonData:{status:[{text:"启用",value:0},{text:"禁用",value:1}]},breadcrumbData:[{title:"流程中心"},{title:"流程管理"},{title:"流程分类"}]}},694:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(a(78)),o=s(a(430));t.default={name:"proc-category-dialog",data:function(){return{cascaderProps:{value:"id",children:"subclass"},options:[{id:0,label:"最顶级"}],dialogVisible:!0,labelPosition:"right",formLabelWidth:"120px",formData:{code:"",name:"",parentId:"",isDel:"",description:""},statusList:o.default.commonData.status,categoryList:[],isLoading:!1,rules:{name:[{required:!0,message:"请输入分类名",trigger:"blur"}],status:[{required:!0,message:"请输入状态",trigger:"blur"}],parentId:[{required:!0,message:"请输入父分类",trigger:"blur"}],code:[{required:!0,message:"请输入分类编码",trigger:"blur"},{max:10,message:"分类编码必须小于10位",trigger:"blur"}]},varCheck:!1}},props:["rowId","editType"],computed:{dialogVisible:function(){return!0},editable:function(){return"see"===this.editType}},created:function(){if("add"===this.editType&&(this.initformData(),this.rowId=null),this.rowId){var e={search:{id:this.rowId},page:1,size:1};this.getCategory(e)}this.getCategoryList(e)},methods:{initformData:function(){this.formData={code:"",name:"",parentId:"",isDel:"",description:""}},btnOKClick:function(){if("see"===this.editType&&this.btnCancleClick(),this.check(),this.varCheck){var e=this.editType;"add"===e?this.addCategory():"update"===e&&this.updateCategory()}else this.$msgbox({title:"消息",type:"fail",message:"操作失败,缺少数据",showCancelButton:!1,confirmButtonText:"知道了"})},btnCancleClick:function(){this.$emit("close")},check:function(){""!==this.formData.code&&""!==this.formData.name&&""!==this.formData.status&&""!==this.formData.parentId?this.varCheck=!0:this.varCheck=!1},addCategory:function(){var e=this,t=this.formData;r.default.createCategory({req:t}).then(function(t){200===t.data.status?(e.isLoading=!1,e.$emit("close"),e.$msgbox({title:"消息",type:"success",message:"添加成功",showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"}),e.$emit("getTableData"),e.$emit("seachTree")):(e.isLoading=!1,e.$message.error(t.data.message))})},updateCategory:function(){var e=this,t=this.formData;r.default.updateCategory({req:t}).then(function(t){200===t.data.status?(e.isLoading=!1,e.$emit("close"),e.$msgbox({title:"消息",type:"success",message:"修改成功",showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"}),e.$emit("getTableData"),e.$emit("seachTree")):(e.isLoading=!1,e.$message.error(t.data.message))})},handleChange:function(e,t,a){this.formData.parentId=e[e.length-1],void 0===this.formData.parentId&&(this.formData.parentId=0,this.categoryList=[0])},getCategoryList:function(e){var t=this;r.default.getCategoryTree(e).then(function(e){200===e.data.status&&e.data.result.forEach(function(e){t.options.push({id:e.id,label:e.label,subclass:e.subclass})})})},getCategoryPid:function(e){var t=this;0==e.categoryId?this.categoryList=[0]:r.default.getCategoryPid(e).then(function(e){200===e.data.status&&(t.categoryList=e.data.result)})},getCategory:function(e){var t=this;r.default.searchProCategory(e).then(function(e){if(200===e.data.status){t.formData=e.data.result.rows[0];var a={categoryId:t.formData.parentId};t.getCategoryPid(a)}})}}}},695:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(a(47)),o=s(a(78)),n=(s(a(6)),s(a(430))),i=s(a(2137));t.default={name:"page-pro-category",components:{CategoryDalialogs:i.default},data:function(){return{breadcrumb:n.default.breadcrumbData,service:r.default.CATEGORY.name,method:r.default.CATEGORY.methods.SEARCHCATEGORY,columns:n.default.columns,commonData:n.default.commonData,fields:n.default.fields,selectSource:n.default.selectSource,treeData:[],treeProps:{label:"label",children:"subclass"},args:{},dialogVisible:!1,rowId:null,editType:"add"}},created:function(){this.seachTree()},methods:{getTableData:function(){this.$refs.t8tTable.reloadTable()},addCategory:function(){this.dialogVisible=!0,this.editType="add"},updateCategory:function(){var e=this.$refs.t8tTable.getSelectRows();0===e.length?this.$message.error("请勾选分类"):e.length>1?this.$message.error("只允许勾选单条数据"):(this.dialogVisible=!0,this.editType="update",this.rowId=e[0].id)},getCategory:function(){var e=this.$refs.t8tTable.getSelectRows();0===e.length?this.$message.error("请勾选分类"):e.length>1?this.$message.error("只允许勾选单条数据"):(this.dialogVisible=!0,this.rowId=e[0].id,this.dialogVisible=!0,this.editType="see")},seachTree:function(){var e=this;o.default.getCategoryTree({flag:!0}).then(function(t){e.treeData=t.data.result})},startCategory:function(){var e=this.$refs.t8tTable.getSelectRows();0===e.length?this.$message.error("请勾选分类"):e.length>1?this.$message.error("只允许勾选单条数据"):(this.rowId=e[0].id,this.updateCategoryStatus(this.rowId,0)),this.getTableData()},stopCategory:function(){var e=this.$refs.t8tTable.getSelectRows();0===e.length?this.$message.error("请勾选分类"):e.length>1?this.$message.error("只允许勾选单条数据"):(this.rowId=e[0].id,this.updateCategoryStatus(this.rowId,1)),this.getTableData()},onTreeClick:function(e,t,a){var s={id:e.id};this.args={search:s}},updateCategoryStatus:function(e,t){var a=this,s={id:e,isDel:t};o.default.updateStatusCategory(s).then(function(e){200===e.data.status?(a.isLoading=!1,a.$msgbox({title:"消息",type:"success",message:"操作成功",showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"}),a.getTableData()):(a.isLoading=!1,a.$message.error(e.data.message))})}}}},2137:function(e,t,a){var s=a(4)(a(694),a(2447),null,null);e.exports=s.exports},2138:function(e,t,a){var s=a(4)(a(695),a(2484),null,null);e.exports=s.exports},2447:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"proc-category-dialog",attrs:{title:"流程分类"},on:{close:function(t){e.btnCancleClick()}},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t}}},[a("el-form",{ref:"formRef",attrs:{model:e.formData,"label-width":"125px",rules:e.rules,"label-position":e.left}},[a("el-form-item",{attrs:{label:"分类名称：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称",disabled:e.editable},model:{value:e.formData.name,callback:function(t){e.formData.name=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类状态：",prop:"status"}},[a("el-select",{attrs:{disabled:e.editable,placeholder:"--请选择--"},on:{change:e.changePayType},model:{value:e.formData.isDel,callback:function(t){e.formData.isDel=t}}},e._l(e.statusList,function(e){return a("el-option",{attrs:{label:e.text,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"父分类：",prop:"parentId"}},[a("el-cascader",{attrs:{options:e.options,props:e.cascaderProps,"show-all-levels":!1,disabled:e.editable},on:{change:e.handleChange},model:{value:e.categoryList,callback:function(t){e.categoryList=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类编码：",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入编码",disabled:e.editable},model:{value:e.formData.code,callback:function(t){e.formData.code=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类说明：",prop:"description"}},[a("el-input",{attrs:{placeholder:"请输入说明",disabled:e.editable},model:{value:e.formData.description,callback:function(t){e.formData.description=t}}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"see"!=e.editType,expression:"editType!='see'"}],attrs:{type:"primary",loading:e.isLoading},on:{click:function(t){e.btnOKClick()}}},[e._v("确定")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"see"!=e.editType,expression:"editType!='see'"}],on:{click:function(t){e.btnCancleClick()}}},[e._v("取消")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"see"==e.editType,expression:"editType=='see'"}],on:{click:function(t){e.btnCancleClick()}}},[e._v("返回")])],1)],1)],1)},staticRenderFns:[]}},2484:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-pro-category"},[a("t8t-breadcrumb",{attrs:{data:e.breadcrumb}}),e._v(" "),a("div",{staticClass:"g-main-container"},[a("t8t-tree",{attrs:{data:e.treeData,props:e.treeProps,"default-expanded-keys":e.defaultExpandedKeys},on:{"node-click":e.onTreeClick}}),e._v(" "),a("div",{staticClass:"g-main-container-column"},[a("t8t-toolbar",{on:{VIEW:e.getCategory,ADD:e.addCategory,UPDATE:e.updateCategory,START:e.startCategory,DISABLE:e.stopCategory}}),e._v(" "),a("t8t-table",{ref:"t8tTable",attrs:{columns:e.columns,service:e.service,method:e.method,commonData:e.commonData,args:e.args},on:{"row-double-click":e.handleRowDbClick}})],1)],1),e._v(" "),e.dialogVisible?a("category-dalialogs",{attrs:{rowId:e.rowId,editType:e.editType},on:{close:function(t){e.dialogVisible=!1},getTableData:e.getTableData,seachTree:e.seachTree}}):e._e()],1)},staticRenderFns:[]}}});