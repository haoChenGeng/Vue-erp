webpackJsonp([91,269],{9:function(e,t,r){e.exports=r(7)(105)},74:function(e,t,r){e.exports=r(7)(67)},157:function(e,t){"use strict";e.exports={SIGN_MANAGE:{name:"uWDqK_1fRdtf2T7mnBZmdX7zeCvpdLP",methods:{CONTRACT_LIST:"UtYdn97SyQqDki89jh7GljKNvitRpIGMcTq",CONTRACT_DETAIL_BY_ID:"BO74vexPvMiP0ptLrOsS3SBMoG3beFzsq46b7Xw-1JwpDpzD186",SUBMIT:"y4-9Nk8lDwRU0yVbh2fKTDuQtpgv6.M",PREVIEW:"x36b2xNPCoKSCtGLir2nCtca5zp5.1DxFUQ",CANCEL_CONTRACT:"fmq9dOdOEsM-9wfJlwwMgwY7duv4rAmS3MB1HN5tHSA",COMPLEMENT_AGREEMENT:"hnInpi5_AzI7swc6HOoL6Dya4Z5Wragh1zkObchg5JzgYKpQrFqKYUhiLYxMq9C",CONFIRM_OFFLINE_SIGN:"zP54udfWD6TJlRzavJuNHkEBqk12JSQwvs3rd5fxqzqv5ipuLb5C6fA",COMPLEMENT_CONTRACT_INFO:"x34S-wIdxcJ_0zad1yj8TCppq3hHAywJP3rLsljgptA"}},CONTRACT:{name:"ZaoMvDiDgkgR5WWIEqkkB_xJgy9sPOS",methods:{CONTRACT_IS_SUCC:"1b6jygJhuasf9oZ6NuAe2JhwkikvbVEwIJCwmSmxQ-U",GETPREVIEW:"7M00-WfNCGs3YyNh59WfM_FkVzaoM9IGMDId4T7OvYnluTK"}}}},158:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=a(r(1)),i=a(r(157));e.exports={contractList:function(e){return(0,n.default)({method:i.default.SIGN_MANAGE.methods.CONTRACT_LIST,service:i.default.SIGN_MANAGE.name,args:e})},createContract:function(e){return(0,n.default)({method:i.default.SIGN_MANAGE.methods.SUBMIT,service:i.default.SIGN_MANAGE.name,args:e})},contractDetail:function(e){return(0,n.default)({method:i.default.SIGN_MANAGE.methods.CONTRACT_DETAIL_BY_ID,service:i.default.SIGN_MANAGE.name,args:e})},preview:function(e){return(0,n.default)({method:i.default.SIGN_MANAGE.methods.PREVIEW,service:i.default.SIGN_MANAGE.name,args:e})},getPreview:function(e){return(0,n.default)({method:i.default.CONTRACT.methods.GETPREVIEW,service:i.default.CONTRACT.name,args:e})},cancel:function(e){return(0,n.default)({method:i.default.SIGN_MANAGE.methods.CANCEL_CONTRACT,service:i.default.SIGN_MANAGE.name,args:e})},getComplementAgreementInfo:function(e){return(0,n.default)({method:i.default.SIGN_MANAGE.methods.COMPLEMENT_AGREEMENT,service:i.default.SIGN_MANAGE.name,args:e})},confirmOfflineSign:function(e){return(0,n.default)({method:i.default.SIGN_MANAGE.methods.CONFIRM_OFFLINE_SIGN,service:i.default.SIGN_MANAGE.name,args:e})},checkIsCreateContract:function(e){return(0,n.default)({method:i.default.CONTRACT.methods.CONTRACT_IS_SUCC,service:i.default.CONTRACT.name,args:e})},complementContractInfo:function(e){return(0,n.default)({method:i.default.SIGN_MANAGE.methods.COMPLEMENT_CONTRACT_INFO,service:i.default.SIGN_MANAGE.name,args:e})}}},159:function(e,t,r){var a,n,i;!function(e){e&&e.__esModule}(r(9));!function(r,o){n=[],void 0!==(i="function"==typeof(a=o)?a.apply(t,n):a)&&(e.exports=i)}(0,function(){"use strict";if("undefined"==typeof window||"undefined"==typeof navigator)return!1;var e,t,r,a,n,i,o,s,l,u,c,d=void 0!==navigator.mimeTypes["application/pdf"],f=/iphone|ipad|ipod/i.test(navigator.userAgent.toLowerCase());return t=function(e){var t;try{t=new ActiveXObject(e)}catch(e){t=null}return t},r=function(){return!!(window.ActiveXObject||"ActiveXObject"in window)},a=function(){return!(!t("AcroPDF.PDF")&&!t("PDF.PdfCtrl"))},e=d||r()&&a(),n=function(e){var t,r="";if(e){for(t in e)e.hasOwnProperty(t)&&(r+=encodeURIComponent(t)+"="+encodeURIComponent(e[t])+"&");r&&(r=(r="#"+r).slice(0,r.length-1))}return r},i=function(e){"undefined"!=typeof console&&console.log},o=function(e){return i(),!1},l=function(e){var t=document.body;return"string"==typeof e?t=document.querySelector(e):"undefined"!=typeof jQuery&&e instanceof jQuery&&e.length?t=e.get(0):void 0!==e.nodeType&&1===e.nodeType&&(t=e),t},u=function(e,t,r,a,n){var i=a+"?file="+encodeURIComponent(t)+r,o="<div style='"+(f?"-webkit-overflow-scrolling: touch; overflow-y: scroll; ":"overflow: hidden; ")+"position: absolute; top: 0; right: 0; bottom: 0; left: 0;'><iframe  "+n+" src='"+i+"' style='border: none; width: 100%; height: 100%;' frameborder='0'></iframe></div>";return e.className+=" pdfobject-container",e.style.position="relative",e.style.overflow="auto",e.innerHTML=o,e.getElementsByTagName("iframe")[0]},c=function(e,t,r,a,n,i,o){var s="";return s=t&&t!==document.body?"width: "+n+"; height: "+i+";":"position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: 100%; height: 100%;",e.className+=" pdfobject-container",e.innerHTML="<embed "+o+" class='pdfobject' src='"+r+a+"' type='application/pdf' style='overflow: auto; "+s+"'/>",e.getElementsByTagName("embed")[0]},s=function(t,r,a){if("string"!=typeof t)return o();r=void 0!==r&&r;var i=(a=void 0!==a?a:{}).id&&"string"==typeof a.id?"id='"+a.id+"'":"",s=!!a.page&&a.page,d=a.pdfOpenParams?a.pdfOpenParams:{},f=void 0===a.fallbackLink||a.fallbackLink,p=a.width?a.width:"100%",h=a.height?a.height:"100%",m="boolean"==typeof a.forcePDFJS&&a.forcePDFJS,v=!!a.PDFJS_URL&&a.PDFJS_URL,b=l(r),g="",_="";return b?(s&&(d.page=s),_=n(d),m&&v?u(b,t,_,v,i):e?c(b,r,t,_,p,h,i):v?u(b,t,_,v,i):(f&&(g="string"==typeof f?f:"<p>This browser does not support inline PDFs. Please download the PDF to view it: <a href='[url]'>Download PDF</a></p>",b.innerHTML=g.replace(/\[url\]/g,t)),o())):o()},{embed:function(e,t,r){return s(e,t,r)},pdfobjectversion:"2.0.201604172",supportsPDFs:e}})},183:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.orderStatusArray=[{value:0,text:"完成初稿"},{value:1,text:"审核中"},{value:2,text:"审核驳回"},{value:3,text:"报价已出"},{value:4,text:"核算中"},{value:5,text:"核算驳回"},{value:6,text:"报价完成"},{value:7,text:"已签约"}],t.checkPhone=function(e,t,r){if(null!==t&&"undefined"!==t){var a=t.trim();if(a.length>0&&!/^1[34578]\d{9}$/.test(a))return r(new Error("请输入正确的手机号码"))}return r()},t.checkIentityNumber=function(e,t,r){if(null!==t&&"undefined"!==t){var a=t.trim();if(a.length>0&&18!==a.length)return r(new Error("请输入18位身份证号码"))}return r()}},794:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(74)),i=a(r(157)),o=(a(r(158)),a(r(6))),s=(a(r(159)),r(183));t.default={name:"contract-list-unsign",data:function(){return{mainActiveTab:"tab1",searchFormData:{},breadcrumbData:[{title:"设计管理"},{title:"方案"},{title:"签约管理"}],editRoute:"",service:i.default.SIGN_MANAGE.name,method:i.default.SIGN_MANAGE.methods.CONTRACT_LIST,tableArgs:{search:{id:null,orderStatus_eq:7},userId:o.default.get("t8t-tc-uid"),sort:["id_desc"]},tableColumns:[{prop:"yid",label:"项目ID"},{prop:"owner",label:"业主称呼"},{prop:"cityName",label:"城市"},{prop:"townName",label:"区域"},{prop:"estateName",label:"楼盘名称"},{prop:"houseStyle",label:"户型"},{prop:"area",label:"计价面积"},{prop:"pkgPrice",label:"报价"},{prop:"orderStatus",label:"报价单状态",list:"orderStatusArray"},{prop:"orderSubStatusName",label:"项目状态"}],searchFields:[{type:"input",label:"项目ID",name:"yid"}],searchOptions:{orderStatusArray:s.orderStatusArray},viewPaperRouter:"/projectlist/preview",viewSelectionRouter:"/worker/quote-order-detail",addRouter:"/worker/sign-manage/add",symbolList:["VIEW_PAPER","VIEW_SELECTION"]}},created:function(){this.mainActiveTab=this.$route.query.tab?this.$route.query.tab:"sign"},methods:{submitSearch:function(e){e.orderStatus_eq=7,this.searchFormData=(0,n.default)({},e),this.tableArgs={search:e,sort:["id_desc"],userId:o.default.get("t8t-tc-uid")}},view_paper:function(){var e=this.getLastSelectRow();e&&this.$router.push({path:this.viewPaperRouter,query:{yid:e[0].yid}})},view_selection:function(){var e=this.getLastSelectRow();if(e){var t="#"+this.viewSelectionRouter+"?yid="+e[0].yid;window.open(t)}},add:function(){var e=this.getLastSelectRow();e&&this.$router.push({path:this.addRouter,query:{tab:this.mainActiveTab,id:e[0].id}})},getLastSelectRow:function(){var e=this.$refs["list-table"].getSelectRows();if(e&&0!==e.length){if(!(e.length>1))return e;this.$message.error("请对单条数据进行操作")}else this.$message.error("请勾选数据后再操作")},getTableInstance:function(){return this.$refs["list-table"]}}}},795:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(74)),i=a(r(157)),o=a(r(6)),s=r(183);t.default={name:"contract-list-unsign",data:function(){return{mainActiveTab:"tab1",searchFormData:{id:null},breadcrumbData:[{title:"设计管理"},{title:"方案"},{title:"签约管理"}],editRoute:"",service:i.default.SIGN_MANAGE.name,method:i.default.SIGN_MANAGE.methods.CONTRACT_LIST,tableArgs:{search:{id:null,orderStatus_ne:7},userId:o.default.get("t8t-tc-uid"),sort:["id_desc"]},tableColumns:[{prop:"yid",label:"项目ID"},{prop:"owner",label:"业主称呼"},{prop:"cityName",label:"城市"},{prop:"townName",label:"区域"},{prop:"estateName",label:"楼盘名称"},{prop:"houseStyle",label:"户型"},{prop:"area",label:"计价面积"},{prop:"pkgPrice",label:"报价"},{prop:"orderStatus",label:"报价单状态",list:"orderStatusArray"},{prop:"orderSubStatusName",label:"项目状态"}],searchFields:[{type:"input",label:"项目ID",name:"yid"}],searchOptions:{orderStatusArray:s.orderStatusArray},viewPaperRouter:"/projectlist/preview",viewSelectionRouter:"/worker/quote-order-detail",addRouter:"/worker/sign-manage/add"}},created:function(){this.mainActiveTab=this.$route.query.tab?this.$route.query.tab:"unsign"},methods:{submitSearch:function(e){e.orderStatus_ne=7,this.searchFormData=(0,n.default)({},e),this.tableArgs={search:e,sort:["id_desc"],userId:o.default.get("t8t-tc-uid")}},view_paper:function(){var e=this.getLastSelectRow();e&&this.$router.push({path:this.viewPaperRouter,query:{yid:e[0].yid}})},view_selection:function(){var e=this.getLastSelectRow();if(e){var t="#"+this.viewSelectionRouter+"?yid="+e[0].yid;window.open(t)}},add:function(){this.$TCS.addTag("erp_scm_018003006003");var e=this.getLastSelectRow();e&&this.$router.push({path:this.addRouter,query:{tab:this.mainActiveTab,id:e[0].id}})},getLastSelectRow:function(){var e=this.$refs["list-table"].getSelectRows();if(e&&0!==e.length){if(!(e.length>1))return e;this.$message.error("请对单条数据进行操作")}else this.$message.error("请勾选数据后再操作")},getTableInstance:function(){return this.$refs["list-table"]}}}},797:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(2238)),i=a(r(2237));t.default={components:{ContractListUnsign:n.default,ContractListSign:i.default},watch:{$route:function(){var e=this;this.$nextTick(function(){e.$refs["list-view"].getTableInstance().reloadTable()})}},data:function(){return{mainActiveTab:"unsign",breadcrumbData:[{title:"设计管理"},{title:"方案"},{title:"签约管理"}],indexRoute:"/worker/sign-manage"}},created:function(){var e=this.$route.query.tab;this.mainActiveTab=e||this.mainActiveTab},methods:{changeTab:function(e){this.$router.push({path:this.indexRoute,query:{tab:e.name}})}}}},968:function(e,t,r){(e.exports=r(2)()).push([e.id,"\n.el-tabs__content, .list-wrapper {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex: 1;\n        flex: 1;\n    -ms-flex-direction: column;\n        flex-direction: column;\n    height: 100%;\n}\n",""])},977:function(e,t,r){(e.exports=r(2)()).push([e.id,"\n.sign-manage .el-tabs[data-v-151649ec], .el-tab-pane[data-v-151649ec] {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex: 1;\n        flex: 1;\n    -ms-flex-direction: column;\n        flex-direction: column;\n    height: 100%;\n}\n",""])},1181:function(e,t,r){(e.exports=r(2)()).push([e.id,"\n.el-tabs__content, .list-wrapper {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex: 1;\n        flex: 1;\n    -ms-flex-direction: column;\n        flex-direction: column;\n    height: 100%;\n}\n",""])},1411:function(e,t,r){var a=r(968);"string"==typeof a&&(a=[[e.id,a,""]]);r(3)(a,{});a.locals&&(e.exports=a.locals)},1420:function(e,t,r){var a=r(977);"string"==typeof a&&(a=[[e.id,a,""]]);r(3)(a,{});a.locals&&(e.exports=a.locals)},1627:function(e,t,r){var a=r(1181);"string"==typeof a&&(a=[[e.id,a,""]]);r(3)(a,{});a.locals&&(e.exports=a.locals)},2237:function(e,t,r){r(1411);var a=r(4)(r(794),r(2271),null,null);e.exports=a.exports},2238:function(e,t,r){r(1627);var a=r(4)(r(795),r(2437),null,null);e.exports=a.exports},2240:function(e,t,r){r(1420);var a=r(4)(r(797),r(2280),"data-v-151649ec",null);e.exports=a.exports},2271:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"list-wrapper"},[e.searchFields.length>0?r("t8t-search",{ref:"list-search",attrs:{fields:e.searchFields,selectSource:e.searchOptions,formData:e.searchFormData},on:{submit:e.submitSearch}}):e._e(),e._v(" "),r("div",{staticClass:"g-main-container-column"},[r("t8t-toolbar",{attrs:{symbolList:e.symbolList},on:{VIEW_PAPER:e.view_paper,VIEW_SELECTION:e.view_selection,ADD:e.add}}),e._v(" "),r("t8t-table",{ref:"list-table",attrs:{columns:e.tableColumns,service:e.service,method:e.method,args:e.tableArgs,commonData:e.searchOptions,radioCol:!0}})],1)],1)},staticRenderFns:[]}},2280:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sign-manage"},[r("t8t-breadcrumb",{attrs:{data:e.breadcrumbData}}),e._v(" "),r("el-tabs",{on:{"tab-click":e.changeTab},model:{value:e.mainActiveTab,callback:function(t){e.mainActiveTab=t}}},[r("el-tab-pane",{attrs:{label:"未签约",name:"unsign"}},["unsign"==e.mainActiveTab?r("contract-list-unsign",{ref:"list-view"}):e._e()],1),e._v(" "),r("el-tab-pane",{attrs:{label:"已签约",name:"sign"}},["sign"==e.mainActiveTab?r("contract-list-sign",{ref:"list-view"}):e._e()],1)],1)],1)},staticRenderFns:[]}},2437:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"list-wrapper"},[e.searchFields.length>0?r("t8t-search",{ref:"list-search",attrs:{fields:e.searchFields,formData:e.searchFormData},on:{submit:e.submitSearch}}):e._e(),e._v(" "),r("div",{staticClass:"g-main-container-column"},[r("t8t-toolbar",{on:{VIEW_PAPER:e.view_paper,VIEW_SELECTION:e.view_selection,ADD:e.add}}),e._v(" "),r("t8t-table",{ref:"list-table",attrs:{columns:e.tableColumns,service:e.service,method:e.method,args:e.tableArgs,commonData:e.searchOptions,radioCol:!0}})],1)],1)},staticRenderFns:[]}}});