webpackJsonp([28,269],{5:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(1)),i=a(n(8));t.default={allSystemCodeList:function(e){return(0,l.default)({method:i.default.CONFIGURE.methods.SYS_CODE_LIST,service:i.default.CONFIGURE.name,args:e})},listNextLevelUnforbidden:function(e){return(0,l.default)({method:i.default.CONFIGURE.methods.LIST_UNFORBIDDEN,service:i.default.CONFIGURE.name,args:e})},queryUnionParent:function(e){return(0,l.default)({method:i.default.SUPPLY_CONFIGURE.methods.queryUnionParent,service:i.default.SUPPLY_CONFIGURE.name,args:e})},queryPage:function(e){return(0,l.default)({method:i.default.SUPPLY_CONFIGURE.methods.QUERY_PAGE,service:i.default.SUPPLY_CONFIGURE.name,args:e})},queryShopUnion:function(e){return(0,l.default)({method:i.default.SUPPLY_CONFIGURE.methods.queryShopUnion,service:i.default.SUPPLY_CONFIGURE.name,args:e})},queryShop:function(e){return(0,l.default)({method:i.default.SUPPLY_CONFIGURE.methods.queryShop,service:i.default.SUPPLY_CONFIGURE.name,args:e})},queryByFunctionCode:function(e){return(0,l.default)({method:i.default.ORGANIZATION.methods.QUERY_BY_FUNCTIONCODE,service:i.default.ORGANIZATION.name,args:e})},queryAll:function(e){return(0,l.default)({method:i.default.ORGANIZATION.methods.ORG_QUERY,service:i.default.ORGANIZATION.name,args:e})},queryTreeByTypeAndFunction:function(e){return(0,l.default)({method:i.default.ORGANIZATION.methods.QUERY_TREE_FUNCTION,service:i.default.ORGANIZATION.name,args:e})},queryChildrenByWholeCode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return(0,l.default)({method:i.default.SUPPLY_CONFIGURE.methods.queryChildrenByWholeCode,service:i.default.SUPPLY_CONFIGURE.name,args:{wholeCode:e,depth:t}})},queryChildrenByWholeCodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return(0,l.default)({method:i.default.SUPPLY_CONFIGURE.methods.queryChildrenByWholeCodes,service:i.default.SUPPLY_CONFIGURE.name,args:{wholeCodes:e,depth:t}})},getAllQueue:function(){return(0,l.default)({method:i.default.EDA.methods.QUERY_QUEUE_QUERYQUEUES,service:i.default.EDA.name,args:{}})}}},8:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={CONFIGURE:{name:"OnLYil9jY0PiKilsavskNJvygGUxhME7eLPWccmGmYjb_ED",methods:{SYS_CODE_LIST:"vPnFi_QA4HeBWeU61ZjQPCn",LIST_UNFORBIDDEN:"vL0y_oFhAeDM3YTmFrp2oaHn1UDcQEzq1orWi41sEc2pVcjlpGN"}},SUPPLY_CONFIGURE:{name:"qVq5B_KUuBzTC3kyP9TiuA53IS1kiBn5fR5JVjR7fUS6nsTm4Zc",methods:{QUERY_PAGE:"Ewi6YId8aELgLHFBBSBMT4BvG3R",queryUnionParent:"5l6jR2KUJ4QdYxLFz0ZJGFy5XZkLajNNSEdLf0t",queryShopUnion:"zPrIoMCwO3geMqwnGH2Afs0w-7lpdva",queryShop:"4VE-APqV_Fs13Cswfj8",queryChildrenByWholeCode:"sDE1BauR-rhu_AU-6F9VF952lJ_JIl-r1QOnscFpFYW0GFS9p3nAG1z",queryChildrenByWholeCodes:"CEGKxWt_AJmoqBtXoGEqET64657I2n7n39qadM-E_uX2b1O8X5k8Ii2vEnj"}},ORGANIZATION:{name:"CsxicaQ7wM_3kaiMdGJQAaOa2fUF8v-",methods:{QUERY_BY_FUNCTIONCODE:"UwBgld0zWv.T_KSfK6W2_uSPCGXiv-mkEbmTNx6qeGoR_hH",ORG_QUERY:"DOiN6_9fU1yNwZE_gRuTrdwwvEg",QUERY_TREE_FUNCTION:"-DB0-GqPoWXHozK4BKUV3yMPaFmC4lppJyYYIe9k-Gk5VCj84OEe2JBi24SnYuFqXHe",ORG_QUERY_WITHOUTDEL:"9Ivp3_1e5zNZU_miVqa6YXq9Zg0sb1JBadatp4EuTiR"}},GOODS:{name:"qVq5B_KUuBzTC3kyP9TiuA53IS1kiBn5fR5JVjR7fUS6nsTm4Zc",methods:{QUERY_PAGE:"ByoqRxHfrD8M7MGSNKC-qVN",QUERY_PAGE_GOODS_UNION:"KYI9tvUKvrmrnw02TOmUAbkj27FmFOkq8nDox-O"}},EDA:{name:"806ndPAX4QHSaL8S3kOGYVWD7gJKERC",methods:{QUERY_QUEUE_QUERYQUEUES:"NJaG8pAbK6IGAM2RtOG2V_cGwPKCj8.QKtj"}}}},9:function(e,t,n){e.exports=n(7)(105)},11:function(e,t,n){e.exports=n(7)(68)},13:function(e,t,n){"use strict";function a(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){return e&&e.__esModule?e:{default:e}}(n(9)),i=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g;return function(o,r,s,d){if(1!==arguments.length||"string"!==function(e){return null===e?"null":void 0===e?"undefined":"object"!==(void 0===e?"undefined":(0,l.default)(e))?void 0===e?"undefined":(0,l.default)(e):Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}(o)||/\d/.test(o)||(r=o,o=void 0),(o=o||new Date)instanceof Date||(o=new Date(o)),isNaN(o))throw TypeError("Invalid date");var u=(r=String(i.masks[r]||r||i.masks.default)).slice(0,4);"UTC:"!==u&&"GMT:"!==u||(r=r.slice(4),s=!0,"GMT:"===u&&(d=!0));var c=s?"getUTC":"get",p=o[c+"Date"](),m=o[c+"Day"](),f=o[c+"Month"](),h=o[c+"FullYear"](),b=o[c+"Hours"](),v=o[c+"Minutes"](),g=o[c+"Seconds"](),y=o[c+"Milliseconds"](),S=s?0:o.getTimezoneOffset(),T=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var a=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-a);var l=(t-n)/6048e5;return 1+Math.floor(l)}(o),_=function(e){var t=e.getDay();return 0===t&&(t=7),t}(o),C={d:p,dd:a(p),ddd:i.i18n.dayNames[m],dddd:i.i18n.dayNames[m+7],m:f+1,mm:a(f+1),mmm:i.i18n.monthNames[f],mmmm:i.i18n.monthNames[f+12],yy:String(h).slice(2),yyyy:h,h:b%12||12,hh:a(b%12||12),H:b,HH:a(b),M:v,MM:a(v),s:g,ss:a(g),l:a(y,3),L:a(Math.round(y/10)),t:b<12?"a":"p",tt:b<12?"am":"pm",T:b<12?"A":"P",TT:b<12?"AM":"PM",Z:d?"GMT":s?"UTC":(String(o).match(t)||[""]).pop().replace(n,""),o:(S>0?"-":"+")+a(100*Math.floor(Math.abs(S)/60)+Math.abs(S)%60,4),S:["th","st","nd","rd"][p%10>3?0:(p%100-p%10!=10)*p%10],W:T,N:_};return r.replace(e,function(e){return e in C?C[e]:e.slice(1,e.length-1)})}}();i.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},i.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},t.default=i},49:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});a(n(6)),a(n(5));var l=a(n(13)),i=a(n(1));t.default={name:"page-purchase-invoice-dialog",components:{},beforeCreate:function(){},created:function(){this.reloadTable()},data:function(){return{activeInputTabName:"basic",isDialogShow:!0,stepsData:[],endStepsData:[],activeIndex:null,endFormater:"yyyy-mm-dd HH:MM:ss"}},props:{args:Object,service:String,method:String,dataSource:{type:Array,default:function(){return[]}}},methods:{onClick:function(e){this.activeIndex!==e?this.activeIndex=e:this.activeIndex=null},closeDialog:function(){this.isDialogShow=!1,this.$emit("close")},reloadTable:function(){var e=this,t=this,n=t.args||{};t.service&&t.method&&!t.isEmptyObject(n)?(this.loading=!0,(0,i.default)({service:t.service,method:t.method,args:n}).then(function(n){e.loading=!1;200==n.data.status?(t.dataSource=n.data.result,t.$emit("data-loaded",t.dataSource)):t.dataSource=[]}).catch(function(t){e.loading=!1})):t.updateDataSource(t.dataSource)},isEmptyObject:function(e){for(var t in e)return!1;return!0},updateDataSource:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.length>0&&t.forEach(function(t){var n=[],a=void 0==t.markKey?"":t.markKey,i=void 0==t.startName?t.starter:t.startName,o=t.startTime>0?(0,l.default)(1e3*t.startTime,e.endFormater):"",r={};r.title="流程起始",r.span=[{text:"审批流程ID："+t.insId},{text:"发起时间："+o},{text:"单据编码："+a},{text:"发起人："+i}],!0===t.end?n.push(r):e.stepsData.push(r);var s=t.taskDetail.length;t.taskDetail.forEach(function(a,i){var o={};o.title=a.taskName;var r=a.executeUser?a.executeName&&a.executeName.length?a.executeName:a.executeUser:null,d=a.assignee?a.assigneeName?a.assigneeName:a.assignee:null;r=r||d;var u=a.commentTime>0?(0,l.default)(1e3*a.commentTime,e.endFormater):"",c=a.createTime>0?(0,l.default)(1e3*a.createTime,e.endFormater):"",p=a.comment?a.comment:"";o.span=[{text:"流程任务ID："+a.taskId},{text:" 生成时间："+c},{text:"处理时间："+u},{text:"处理人："+r},{text:"审批意见："+p}],!0===t.end?(!1===t.audit&&(o.status="error"),n.push(o)):(!1===t.audit&&(o.status="error"),e.stepsData.push(o),i==s-1&&(!0===t.suspend?o.status="suspend":o.status="process"))});var d={};d.title="流程结束",!0===t.end&&n.push(d),!0===t.end&&e.endStepsData.push(n)})}},watch:{args:function(e){this.reloadTable(e)},dataSource:function(e){this.updateDataSource(e)}}}},51:function(e,t,n){(e.exports=n(2)()).push([e.id,"\n.steps-container.t8t-full-dialog2 .el-tabs__header {\n    border-top: none;\n}\n",""])},52:function(e,t,n){(e.exports=n(2)()).push([e.id,"\n.tc[data-v-38965a90]{\n    text-align: center;\n}\n.steps-wrap[data-v-38965a90]{\n    width: 1200px;\n    margin: 0 auto;\n    word-break: break-all;\n    word-wrap: break-word;\n}\n.steps-wrap1[data-v-38965a90]{\n    width: 1200px;\n    margin: 25px auto;\n    border: 1px solid gray;\n    padding: 20px 50px;\n}\n.steps-wrap1 .t8t-steps[data-v-38965a90]{\n    display: none;\n}\n.steps-wrap1.active .t8t-steps[data-v-38965a90]{\n    display: block;\n}\n.header[data-v-38965a90]{\n    height: 50px;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-align: center;\n        align-items: center;\n    -ms-flex-pack: justify;\n        justify-content: space-between;\n}\n.btn[data-v-38965a90]{\n    /*margin-right: 20px;*/\n}\n.title[data-v-38965a90]{\n    font-size: 16px;\n}\n.my-no-flow[data-v-38965a90]{\n    text-align: center;\n    margin-top: 40px;\n    font-size:20px;\n    font-weight: bold;\n}\n.step-page-header[data-v-38965a90]{\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-align: center;\n        align-items: center;\n    min-height: 48px;\n    width:1100px;\n}\n",""])},53:function(e,t,n){var a=n(51);"string"==typeof a&&(a=[[e.id,a,""]]);n(3)(a,{});a.locals&&(e.exports=a.locals)},54:function(e,t,n){var a=n(52);"string"==typeof a&&(a=[[e.id,a,""]]);n(3)(a,{});a.locals&&(e.exports=a.locals)},55:function(e,t,n){n(54),n(53);var a=n(4)(n(49),n(56),"data-v-38965a90",null);e.exports=a.exports},56:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{staticClass:"t8t-full-dialog2 steps-container",class:{isHide:e.isTopHide},attrs:{size:"full"},on:{close:e.closeDialog},model:{value:e.isDialogShow,callback:function(t){e.isDialogShow=t}}},[n("div",{staticClass:"t8t-full-dialog2-container"},[n("div",{staticClass:"full-dialog-toolbar-container"},[n("div",{staticClass:"toolbar-container"})]),e._v(" "),n("div",{staticClass:"dialog2-main-container"},[n("h1",{staticClass:"tc"},[e._v("审批流程")]),e._v(" "),n("div",{staticClass:"full-dialog-tabs-container"},[n("el-tabs",{model:{value:e.activeInputTabName,callback:function(t){e.activeInputTabName=t}}},[n("el-tab-pane",{attrs:{label:"处理中",name:"basic"}},[e.stepsData.length>0?n("div",{staticClass:"steps-wrap"},[n("t8t-steps",{attrs:{stepsData:e.stepsData}})],1):n("div",{staticClass:"my-no-flow"},[e._v("\n                            暂无流程\n                        ")])]),e._v(" "),n("el-tab-pane",{attrs:{label:"已结束",name:"other"}},[e.endStepsData.length>0?n("div",e._l(e.endStepsData,function(t,a){return n("div",{staticClass:"steps-wrap1",class:{active:e.activeIndex===a}},[n("div",{staticClass:"header"},[n("el-row",{staticClass:"step-page-header"},[n("el-col",{attrs:{span:23}},[n("div",{staticClass:"title"},e._l(t[0].span,function(t,a){return n("el-col",{attrs:{span:6}},[e._v(e._s(t.text))])}))])],1),e._v(" "),n("el-row",[n("el-col",{attrs:{span:24}},[n("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(t){e.onClick(a)}}},[e._v("查看详情")])],1)],1)],1),e._v(" "),n("t8t-steps",{attrs:{stepsData:t}})],1)})):n("div",{staticClass:"my-no-flow"},[e._v("\n                            暂无流程\n                        ")])])],1)],1)])])])},staticRenderFns:[]}},57:function(e,t,n){n(60);var a=n(4)(n(58),n(61),"data-v-4f876199",null);e.exports=a.exports},58:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(9)),i=a(n(13));t.default={name:"t8t-datetime-picker",data:function(){return{value:"",selectTime:""}},props:{endFormater:{type:String,default:"yyyy-mm-dd HH:MM:ss"},bindValue:String,rangeSeparator:String,type:String,disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},size:String,placeholder:String,align:String,poperClass:String,pickerOptions:Object},created:function(){this._init()},watch:{bindValue:function(){this._init()}},methods:{_init:function(){this.bindValue?this.value=this.format(this.bindValue):this.value=null,this.updateValue(this.value)},isTimestamp:function(e){return"string"==typeof e?e.match(/^\d{10}$/):"number"==typeof e&&(e+"").match(/^\d{10}$/)},updateValue:function(e){this.$emit("input",this.formatString(e))},formatString:function(e){if(!e)return this.formatEmpty();if("object"===(void 0===e?"undefined":(0,l.default)(e)))return"timestamp"===this.endFormater?Math.round(e/1e3):(0,i.default)(e,this.endFormater);if((e+"").match(/^\d{10}$/)){var t=new Date(1e3*parseInt(e));return"timestamp"===this.endFormater?e:(0,i.default)(t,this.endFormater)}return"timestamp"===this.endFormater?this.formatTimestamp(e):e},formatEmpty:function(){return"timestamp"===this.endFormater?null:""},formatTimestamp:function(e){return void 0==e?null:(e=e.replace(/-/g,"/"),Math.round(new Date(e)/1e3))},format:function(e){return e?this.isTimestamp(e)?new Date(1e3*parseInt(e)):new Date(e):this.formatEmpty()},onChange:function(e){var t=void 0;t="timestamp"===this.endFormater?this.formatTimestamp(e):(0,i.default)(new Date(e),this.endFormater),this.updateValue(t),this.$emit("change",e,t)}}}},59:function(e,t,n){(e.exports=n(2)()).push([e.id,"\n.cell .t8t-datetime-picker .el-date-editor.el-input[data-v-4f876199] {\n    width: 100%\n}\n",""])},60:function(e,t,n){var a=n(59);"string"==typeof a&&(a=[[e.id,a,""]]);n(3)(a,{});a.locals&&(e.exports=a.locals)},61:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"t8t-datetime-picker"},[n("el-date-picker",{attrs:{readonly:e.readonly,disabled:e.disabled,editable:e.editable,clearable:e.clearable,size:e.size,placeholder:e.placeholder,type:e.type,align:e.align,"popper-class":e.popperClass,"picker-options":e.pickerOptions,"range-separator":e.rangeSeparator,bindValue:e.bindValue,endFormater:e.endFormater},on:{change:e.onChange},model:{value:e.value,callback:function(t){e.value=t}}}),e._v(" "),n("input",{ref:"input",attrs:{type:"hidden"},domProps:{value:e.selectTime},on:{input:function(t){e.updateValue(t.target.value)}}})],1)},staticRenderFns:[]}},63:function(e,t,n){n(69);var a=n(4)(n(64),n(72),"data-v-6ebb995e",null);e.exports=a.exports},64:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(11)),i=a(n(71)),o=a(n(57)),r=a(n(66)),s=a(n(20));t.default={name:"base-panel",components:{T8tDatetimePicker:o.default,T8tFormSelect:i.default},props:r.default,data:function(){return{endFormater:"timestamp",uploadURL:s.default.getUploadURL(),galleryVisible:!1,galleryData:[]}},created:function(){},methods:{getUploadData:function(e){return(0,l.default)({},e,{bucket:"scm"})},handleFileView:function(e,t){e&&e.call(this,t)},onPreview:function(e){this.$emit("on-upload-preview",this,e)},onRemove:function(e,t){this.$emit("on-upload-remove",this,e,t)},onSuccess:function(e,t){this.$emit("on-upload-success",this,e,t)},onError:function(e,t,n){this.$emit("on-upload-error",this,e,t,n)},onProgress:function(e,t,n){this.$emit("on-upload-progress",this,e,t,n)},onChange:function(e,t){this.$emit("on-upload-change",this,e,t)},handleClick:function(e,t){this.$emit("click",this,e,t)},handleBlur:function(e,t){this.$emit("blur",this,e,t)},handleFocus:function(e,t){this.$emit("focus",this,e,t)},handleChange:function(e){this.$emit("change",this,e,event.target.value)},onSelectChange:function(e,t){this.$emit("select-change",e,t)},onVisibleChange:function(e){this.$emit("select-visible-change",e,this.name)},onElSelectChange:function(e,t){this.$emit("select-change",e,t)},dateTimePickerChange:function(e,t){this.$emit("date-change",e,t)},popupOnSelect:function(e,t){this.$emit("popup-on-select",e,t)},popupOnChange:function(e,t){this.$emit("popup-on-change",e,t)},handleLookupChange:function(e){}}}},65:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.default={name:"t8t-form-select",data:function(){return{value:"",realOptions:[]}},props:{bindValue:[Number,String],defaultValue:[Number,String],name:String,placeholder:{type:String,default:"--请选择--"},size:String,filterable:Boolean,multiple:Boolean,clearable:{type:Boolean,default:!0},multipleLimit:Number,disabled:Boolean,options:{type:Array,default:[]},allowCreate:Boolean,filterMethod:Function,remote:Boolean,remoteMethod:Function,service:String,method:String,remoteArgs:{type:Object,default:{}},remoteQueryKey:String,loading:Boolean,loadingText:String,noMatchText:String,noDataText:String,popperClass:String,isGroup:{type:Boolean,default:!1},optionsService:String,optionsMethod:String,optionsArgs:Object,textField:String,valueField:String,remoteOptionsFilter:Function},created:function(){this._init()},watch:{bindValue:function(){this.value=this.bindValue},options:function(){this.realOptions=this.options}},methods:{invalidOptions:function(e){},_init:function(){!this.isGroup&&!this.options&&this.optionsService&&this.optionsMethod&&this.textField&&this.valueField?this.queryRemoteOptions():this.isGroup||(this.realOptions=this.options),void 0!==this.defaultValue?this.value=this.defaultValue:this.value=this.bindValue},queryRemoteOptions:function(){var e=this,t=void 0;(0,a.default)({service:this.optionsService,method:this.optionsMethod,args:this.optionsArgs}).then(function(n){n.data&&200==n.data.status&&(t=n.data.result.rows)&&(e.realOptions=e.remoteOptionsFilter?e.remoteOptionsFilter.call(e,t):t.map(function(t){return{value:t[e.valueField],text:t[e.textField]}}))})},onChange:function(e){this.$emit("change",e,this.name)},onVisibleChange:function(e){this.$emit("visible-change",e,this.name)},queryRemote:function(e){var t=this;""!==e?this.service&&this.method&&(this.remoteQueryKey&&(this.remoteArgs[this.remoteQueryKey]=e),this.loading=!0,(0,a.default)({service:this.service,method:this.method,args:this.remoteArgs}).then(function(e){t.loading=!1;var n=e.data;200==n.status&&(t.realOptions=n.result.rows)}).catch(function(e){t.loading=!1,t.$message.error("数据加载失败")})):this.realOptions=[]}}}},66:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={fields:Object,mode:String,disabled:{type:Boolean,default:!1},dataSource:Object,options:Object}},67:function(e,t,n){(e.exports=n(2)()).push([e.id,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},68:function(e,t,n){(e.exports=n(2)()).push([e.id,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},69:function(e,t,n){var a=n(67);"string"==typeof a&&(a=[[e.id,a,""]]);n(3)(a,{});a.locals&&(e.exports=a.locals)},70:function(e,t,n){var a=n(68);"string"==typeof a&&(a=[[e.id,a,""]]);n(3)(a,{});a.locals&&(e.exports=a.locals)},71:function(e,t,n){n(70);var a=n(4)(n(65),n(73),"data-v-a27248a8",null);e.exports=a.exports},72:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",{attrs:{gutter:5}},e._l(e.fields,function(t){return n("el-col",{attrs:{span:6,md:6,sm:8,xs:12}},[n("el-form-item",{attrs:{label:t.label?t.label+"：":"",prop:t.prop,rules:t.rules||[]}},["popup"===t.type?n("t8t-form-popup",{ref:t.prop,refInFor:!0,style:{width:"100%",height:"100%"},attrs:{bindValue:e.dataSource[t.prop],defaultValue:t.defaultValue,records:t.records,textValue:t.textValue,filedValue:t.filedValue,name:t.prop,placeholder:t.placeholder,disabled:t.disabled,icon:t.icon,onIconClick:t.onIconClick,dialog:t.dialog,customItem:t.customItem,fetchSuggestions:t.fetchSuggestions,popperClass:t.popperClass,triggerOnFocus:t.triggerOnFocus,options:t.selectSourceKey&&e.selectSource?e.selectSource[t.selectSourceKey]:null,remote:t.remote,service:t.service,method:t.method,remoteArgs:t.remoteArgs,remoteQueryKey:t.remoteQueryKey,autoText:t.autoText,autoValue:t.autoValue,useQuery:t.useQuery},on:{select:e.popupOnSelect,change:e.popupOnChange},model:{value:e.dataSource[t.prop],callback:function(n){var a=e.dataSource,l=t.prop;Array.isArray(a)?a.splice(l,1,n):e.dataSource[t.prop]=n}}}):"input"===t.type||"textarea"===t.type?n("el-input",{attrs:{type:t.type||"input",rows:t.rows||2,disabled:"view"===e.mode||"view"!==e.mode&&!e.disabled&&t.disabled},on:{click:function(n){e.handleClick(t,n)},blur:function(n){e.handleBlur(t,n)},focus:function(n){e.handleFocus(t,n)},change:function(n){e.handleChange(t.prop)}},model:{value:e.dataSource[t.prop],callback:function(n){var a=e.dataSource,l=t.prop;Array.isArray(a)?a.splice(l,1,n):e.dataSource[t.prop]=n}}}):e._e(),e._v(" "),"input"===t.type&&"textarea"===t.inputType?n("el-input",{attrs:{type:t.type||"input",rows:t.rows||2,disabled:"view"===e.mode||"view"!==e.mode&&!e.disabled&&t.disabled},on:{click:e.handleClick,blur:e.handleBlur,focus:e.handleFocus,change:function(n){e.handleChange(t.prop)}},model:{value:e.dataSource[t.prop],callback:function(n){var a=e.dataSource,l=t.prop;Array.isArray(a)?a.splice(l,1,n):e.dataSource[t.prop]=n}}}):e._e(),e._v(" "),"number"===t.type?n("el-input",{attrs:{disabled:"view"===e.mode||"view"!==e.mode&&!e.disabled&&t.disabled},on:{click:e.handleClick,blur:e.handleBlur,focus:e.handleFocus,change:function(n){e.handleChange(t.prop)}},model:{value:e.dataSource[t.prop],callback:function(n){var a=e.dataSource,l=t.prop;Array.isArray(a)?a.splice(l,1,e._n(n)):e.dataSource[t.prop]=e._n(n)}}}):"button"===t.type?n("el-button",{attrs:{size:"small",disabled:"view"===e.mode||"view"!==e.mode&&!e.disabled&&t.disabled},on:{click:function(n){e.handleFieldButtonClick(t)}}},[e._v("\n                    "+e._s(t.text)+"\n\n            ")]):"el-select"===t.type?n("el-select",{attrs:{placeholder:"请选择",disabled:"view"===e.mode||"view"!==e.mode&&!e.disabled&&t.disabled,name:t.prop},on:{change:function(n){e.onElSelectChange(arguments[0],t.prop)}},model:{value:e.dataSource[t.prop],callback:function(n){var a=e.dataSource,l=t.prop;Array.isArray(a)?a.splice(l,1,n):e.dataSource[t.prop]=n}}},e._l(e.options[t.list],function(e){return n("el-option",{attrs:{label:e.text,value:e.value}})})):"select"===t.type?n("el-select",{attrs:{placeholder:"请选择",disabled:"view"===e.mode||"view"!==e.mode&&!e.disabled&&t.disabled,name:t.prop},on:{change:function(n){e.onElSelectChange(arguments[0],t.prop)}},model:{value:e.dataSource[t.prop],callback:function(n){var a=e.dataSource,l=t.prop;Array.isArray(a)?a.splice(l,1,n):e.dataSource[t.prop]=n}}},e._l(e.options[t.list],function(e){return n("el-option",{attrs:{label:e.text,value:e.value}})})):"select-option-group"===t.type?n("el-select",{attrs:{disabled:"view"===e.mode||"view"!==e.mode&&!e.disabled&&t.disabled,name:t.prop,placeholder:"请选择"},on:{change:function(n){e.onElSelectChange(arguments[0],t.prop)}},model:{value:e.dataSource[t.prop],callback:function(n){var a=e.dataSource,l=t.prop;Array.isArray(a)?a.splice(l,1,n):e.dataSource[t.prop]=n}}},e._l(e.options[t.list],function(t){return n("el-option-group",{attrs:{label:t.label}},e._l(t.options,function(e){return n("el-option",{attrs:{label:e.label,value:e.value}})}))})):e._e(),e._v(" "),"t8t-select"===t.type?n("t8t-form-select",{attrs:{defaultValue:t.defaultValue,bindValue:e.dataSource[t.name],name:t.prop,placeholder:t.placeholder,filterable:t.filterable,allowCreate:t.allowCreate,multiple:t.multiple,disabled:"view"===e.mode||"view"!==e.mode&&!e.disabled&&t.disabled,options:t.list?e.options[t.list]:null,size:t.size,clearable:t.clearable,multipleLimit:t.multipleLimit,filterMethod:t.filterMethod,remote:t.remote,service:t.service,method:t.method,remoteArgs:t.remoteArgs,remoteQueryKey:t.remoteQueryKey,loading:t.loading,loadingText:t.loadingText,noMatchText:t.noMatchText,noDataText:t.noDataText,popperClass:t.popperClass,isGroup:t.isGroup,optionsService:t.optionsService,optionsMethod:t.optionsMethod,optionsArgs:t.optionsArgs,textField:t.textField,valueField:t.valueField},on:{remoteOptionsFilter:t.remoteOptionsFilter,change:e.onSelectChange,"visible-change":e.onVisibleChange}}):"datetime"===t.type||"date"===t.type||"time"===t.type?n("t8t-datetime-picker",{style:{width:"100%",height:"100%"},attrs:{bindValue:null===e.dataSource[t.prop]||0===e.dataSource[t.prop]?"":e.dataSource[t.prop],placeholder:t.placeholder,type:t.type||"date",endFormater:t.endFormater||e.endFormater,clearable:t.clearable||!0,align:t.align,"poper-class":t.poperClass,"range-separator":t.rangeSeparator,disabled:"view"===e.mode||"view"!==e.mode&&!e.disabled&&t.disabled,readonly:t.readonly,"picker-options":t.pickerOptions},on:{change:e.dateTimePickerChange},model:{value:e.dataSource[t.prop],callback:function(n){var a=e.dataSource,l=t.prop;Array.isArray(a)?a.splice(l,1,n):e.dataSource[t.prop]=n}}}):"rate"===t.type?n("el-rate",{attrs:{disabled:"view"===e.mode||"view"!==e.mode&&!e.disabled&&t.disabled},model:{value:e.dataSource[t.prop],callback:function(n){var a=e.dataSource,l=t.prop;Array.isArray(a)?a.splice(l,1,n):e.dataSource[t.prop]=n}}}):"input-number"===t.type?n("el-input-number",{style:{width:"100%"},attrs:{disabled:"view"===e.mode||"view"!==e.mode&&!e.disabled&&t.disabled},model:{value:e.dataSource[t.prop],callback:function(n){var a=e.dataSource,l=t.prop;Array.isArray(a)?a.splice(l,1,n):e.dataSource[t.prop]=n}}}):"switch"===t.type?n("el-switch",{attrs:{disabled:"view"===e.mode||"view"!==e.mode&&!e.disabled&&t.disabled},model:{value:e.dataSource[t.prop],callback:function(n){var a=e.dataSource,l=t.prop;Array.isArray(a)?a.splice(l,1,n):e.dataSource[t.prop]=n}}}):"slider"===t.type?n("el-slider",{style:{width:"95%",margin:"0 auto"},attrs:{disabled:"view"===e.mode||"view"!==e.mode&&!e.disabled&&t.disabled},model:{value:e.dataSource[t.prop],callback:function(n){var a=e.dataSource,l=t.prop;Array.isArray(a)?a.splice(l,1,n):e.dataSource[t.prop]=n}}}):"file"!==t.type||"add"!=e.mode&&"edit"!==e.mode?e._e():n("el-upload",{attrs:{action:e.uploadURL,headers:t.headers||{},multiple:t.multiple||!1,data:t.data?e.getUploadData(t.data):{bucket:"scm"},name:t.formName||"file","show-file-list":t.showFileList||!0,"on-preview":t.onPreview,"on-remove":e.onRemove,"on-success":t.onSuccess,"on-error":e.onError,"on-progress":e.onProgress,"on-change":e.onChange,"before-upload":t.beforeUpload||null,accept:t.accept||"image/*"},model:{value:e.dataSource[t.prop],callback:function(n){var a=e.dataSource,l=t.prop;Array.isArray(a)?a.splice(l,1,n):e.dataSource[t.prop]=n}}},[n("el-button",{attrs:{size:"small"}},[e._v(e._s(t.text||"上传文件"))])],1),e._v(" "),"file"===t.type&&"view"===e.mode?e._t(t.prop,[n("el-button",{attrs:{type:"small"},on:{click:function(n){n.stopPropagation(),e.handleFileView(t.onFileViewClick,e.dataSource[t.prop])}}},[e._v(e._s(t.text||"查看"))])],{slot:"id",scope:"scope"}):t.type?e._e():e._t(t.prop,[e._v("\n                    "+e._s(e.dataSource[t.prop])+"\n            ")])],2)],1)})),e._v(" "),n("t8t-gallery",{attrs:{data:e.galleryData},model:{value:e.galleryVisible,callback:function(t){e.galleryVisible=t}}})],1)},staticRenderFns:[]}},73:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"t8t-form-select"},[n("el-select",{attrs:{placeholder:e.placeholder,filterable:e.filterable,multiple:e.multiple,disabled:e.disabled,size:e.size,clearable:e.clearable,"multiple-limit":e.multipleLimit,"allow-create":e.allowCreate,"filter-method":e.filterMethod,remote:e.remote,"remote-method":e.remoteMethod?e.remoteMethod:e.queryRemote,loading:e.loading,"loading-text":e.loadingText,"no-match-text":e.noMatchText,"no-data-text":e.noDataText,"popper-class":e.popperClass,name:e.name},on:{change:e.onChange,"visible-change":e.onVisibleChange},model:{value:e.value,callback:function(t){e.value=t}}},[e._l(e.options,function(t){return e.isGroup?n("el-option-group",{attrs:{disabled:t.disabled,label:t.label}},e._l(t.options,function(t){return n("el-option",{key:e.remote?t.value:null,attrs:{label:t.text,value:t.value,disabled:t.disabled}})})):e._e()}),e._v(" "),e._l(e.realOptions,function(t){return e.isGroup?e._e():n("el-option",{key:e.remote?e.item.value:null,attrs:{label:t.text,value:t.value,disabled:t.disabled}})})],2)],1)},staticRenderFns:[]}},103:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e&&e.__esModule}(n(6));t.default={name:"t8t-audit",created:function(){},data:function(){return{radio:null,ruleForm:{agree:null,idea:null},rules:{agree:[{required:!0,message:"请选择审核方案",trigger:"change"}],idea:[{required:!0,message:"请填写审批意见",trigger:"blur"},{max:200,message:"审批意见最多200字",trigger:"blur"}]}}},props:{auditForm:{type:Boolean,default:!1}},methods:{validate:function(e){this.$refs.t8tAudit.validate(e)},changeRadio:function(e){var t=this;1==e?t.$set(t.rules,"idea",[{required:!1,message:"请填写审批意见",trigger:"blur"},{max:200,message:"审批意见最多200字",trigger:"blur"}]):t.$set(t.rules,"idea",[{required:!0,message:"请填写审批意见",trigger:"blur"},{max:200,message:"审批意见最多200字",trigger:"blur"}])}}}},112:function(e,t,n){(e.exports=n(2)()).push([e.id,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*审核流头部样式*/\n.steps-review-bg-color-diy {\n    background-color: #fffcf8;\n}\n.t8t-full-dialog2 .steps-top-review-confirm-dialog {\n    background-color: #fffcf8;\n    border-bottom: 1px solid #ffead1;\n    min-height:150px;\n}\n.t8t-full-dialog2.isHide .steps-top-review-confirm-dialog .full-dialog-form {\n    height: auto;\n}\n\n/*审批意见输入框大小*/\n.t8t-audit-form .el-textarea {\n    width: 350px;\n}\n",""])},113:function(e,t,n){var a=n(112);"string"==typeof a&&(a=[[e.id,a,""]]);n(3)(a,{});a.locals&&(e.exports=a.locals)},114:function(e,t,n){n(113);var a=n(4)(n(103),n(115),null,null);e.exports=a.exports},115:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"t8tAudit",staticClass:"t8t-audit-form",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"方案审核",prop:"agree"}},[n("el-radio-group",{attrs:{disabled:e.auditForm},on:{change:e.changeRadio},model:{value:e.ruleForm.agree,callback:function(t){e.ruleForm.agree=t}}},[n("el-radio",{attrs:{label:"1"}},[e._v("同意")]),e._v(" "),n("el-radio",{attrs:{label:"2"}},[e._v("不同意")])],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"审批意见",prop:"idea"}},[n("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入内容",disabled:e.auditForm},model:{value:e.ruleForm.idea,callback:function(t){e.ruleForm.idea=t}}})],1)],1)},staticRenderFns:[]}},145:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={SURCHARGE:{name:"tmChVEga-qCgUACgQYbyP7v9n-jmu6w",methods:{GETPROCESSDETAILBYID:"2_vAV5Cj6GaDRFLFTOKHP4-sS5AFF0Vzmuhx0yaBRuM3ktRLysDLd2W__7p",GETDETAILBYPROCESSID:"OZFTbSttPn7rzQ5n_X_aRWGX_ZP4pNNUzVCkLXMKDWfwdaG9HcX31ukwMz0",QUERYDETAIL:"h9nYpfLeEx5nydMyje8tpq5wNmtpeDepVqy4XnGvnV4cayU",QUERYPAGE:"IdkOGzLbJvVcXyNeGeTaeQK2yNVW1bUXW_kYTi6QTIc",VERIFY:"kqZYmP1-sg1YxLloSPtfsPaaXaRYjqkcT_z"}}}},261:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(145));t.default={mainTable:{name:"goodsDemand",service:a.default.SURCHARGE.name,method:a.default.SURCHARGE.methods.QUERYDETAIL,args:{id:null},tabs:[{label:"基本信息",name:"tab1",fields:[{type:"input",label:"单据编码",prop:"code",disabled:!0},{type:"input",label:"商家名称",prop:"supplierName",disabled:!0},{type:"input",label:"附加费类别",prop:"surchargeTypeName",disabled:!0},{type:"select",label:"关联单据类型",prop:"sourceOrderType",disabled:!0,list:"sourceOrderTypeOpt"},{type:"input",label:"关联单据",prop:"sourceOrderCode",disabled:!0},{type:"input",label:"关联单据行",prop:"sourceOrderLineNo",disabled:!0},{type:"input",label:"币别",prop:"currencyName",disabled:!0},{type:"input",label:"申请金额",prop:"applyAmount",disabled:!0},{type:"input",label:"实结金额",prop:"realAmount",disabled:!0},{type:"select",label:"数据状态",prop:"verifyStatus",disabled:!0,list:"verifyStatusOpt"},{type:"select",label:"结算状态",prop:"settleStatus",disabled:!0,list:"settleStatusOpt"},{type:"textarea",label:"描述",prop:"remark",disabled:!0}]},{label:"其他信息",name:"tab2",fields:[{type:"input",label:"创建人",prop:"createUserName",disabled:!0},{type:"input",label:"修改人",prop:"updateUser",disabled:!0},{type:"input",label:"审核人",prop:"verifyUserName",disabled:!0},{type:"datetime",label:"创建时间",prop:"createTime",disabled:!0},{type:"datetime",label:"修改时间",prop:"updateTime",disabled:!0},{type:"datetime",label:"审核时间",prop:"verifyTime",disabled:!0},{type:"textarea",label:"关闭原因",prop:"closeReason",disabled:!0}]}]},verifyFiled:{label:"流程信息",name:"verifyFiled",fields:[{type:"input",label:"任务ID",prop:"taskId",disabled:!0},{type:"input",label:"流程名",prop:"processName",disabled:!0},{type:"input",label:"发起人",prop:"startName",disabled:!0},{type:"datetime",label:"发起时间",prop:"startTime",disabled:!0}]},verifySub:{name:"verifySub",tabs:[{label:"基本信息",name:"tab1",fields:[{type:"input",label:"单据编码",prop:"code",disabled:!0},{type:"input",label:"商家名称",prop:"supplierName",disabled:!0},{type:"input",label:"附加费类别",prop:"surchargeTypeName",disabled:!0},{type:"select",label:"关联单据类型",prop:"sourceOrderType",disabled:!0,list:"sourceOrderTypeOpt"},{type:"input",label:"关联单据",prop:"sourceOrderCode",disabled:!0},{type:"input",label:"币别",prop:"currencyName",disabled:!0},{type:"input",label:"申请金额",prop:"applyAmount",disabled:!0},{type:"textarea",label:"描述",prop:"remark",disabled:!0}]},{label:"其他信息",name:"tab2",fields:[{type:"input",label:"创建人",prop:"createUserName",disabled:!0},{type:"input",label:"修改人",prop:"updateUser",disabled:!0},{type:"input",label:"审核人",prop:"verifyUserName",disabled:!0},{type:"datetime",label:"创建时间",prop:"createTime",disabled:!0},{type:"datetime",label:"修改时间",prop:"updateTime",disabled:!0},{type:"datetime",label:"审核时间",prop:"verifyTime",disabled:!0},{type:"textarea",label:"关闭原因",prop:"closeReason",disabled:!0}]}]}}},519:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(11)),i=a(n(63)),o=a(n(145)),r=a(n(863)),s=a(n(261)),d=a(n(114)),u=a(n(55));t.default={name:"surcharge-view",components:{BasePanel:i.default,T8tAudit:d.default,T8tStepPage:u.default},data:function(){return{id:null,processId:null,dataSource:{applyAmount:null,closeReason:null,code:null,createTime:null,createUser:null,currencyId:null,currencyName:null,id:null,processId:null,realAmount:null,remark:null,settleStatus:null,sourceOrderCode:null,sourceOrderLineNo:null,sourceOrderType:null,supplierId:null,supplierName:null,surchargeType:null,surchargeTypeName:null,updateTime:null,updateUser:null,verifyStatus:null,verifyTime:null,verifyUser:null,taskId:null,processName:null,startName:null,startTime:null},subDataSource:{},options:{verifyStatusOpt:[{value:0,text:"无状态"},{value:1,text:"暂存(新生成)"},{value:2,text:"审核中"},{value:3,text:"暂存(重新审核)"},{value:4,text:"已审核"},{value:5,text:"已关闭"}],settleStatusOpt:[{value:0,text:"无状态"},{value:1,text:"待结算"},{value:2,text:"结算中"},{value:3,text:"已结算"}],sourceOrderTypeOpt:[{value:0,text:""},{value:1,text:"直运采购订单"},{value:2,text:"安装单"},{value:3,text:"测量单"},{value:4,text:"标准采购订单"}]},schema:s.default,mainTable:s.default.verifyFiled,subTable:s.default.verifySub,isDialogShow:!0,mainActiveTab:"",subActiveTab:"",goBackRoute:"/delivery/page-surcharge-list",sourceMap:{},showAudit:!0,flowArgs:{},flowService:o.default.SURCHARGE.name,flowMethod:o.default.SURCHARGE.methods.GETPROCESSDETAILBYID,flowData:[],isShowFlow:!1,loading:!1}},created:function(){this.processId=this.$route.query.procInsId,this.initMainTable()},methods:{initMainTable:function(){var e=this;this.mainActiveTab=this.mainTable.name,this.subTable.tabs&&this.subTable.tabs.length>0&&this.subTable.tabs.forEach(function(t,n){(t.isActive||0===n)&&(e.subActiveTab=t.name)}),this.loadMainTable()},loadMainTable:function(){var e=this,t=this;this.loading=!0,r.default.getDetailByProcessId({processId:this.processId}).then(function(n){t.loading=!1;var a=n.data;a&&200==a.status?e.dataSource=(0,l.default)(e.dataSource,a.result):e.$message.error("信息获取失败")}).catch(function(n){t.loading=!1,e.$message.error("信息获取失败")})},flowBtn:function(){this.$TCS.addTag("red_13937_010007011003"),this.flowArgs={id:this.dataSource.id},this.isShowFlow=!0},closeStepPage:function(){this.isShowFlow=!1},closeDialog:function(){this.$router.go(-1)},submit:function(){var e=this;if(2!=this.dataSource.verifyStatus)return this.$message.error("当前状态不能审批!"),!1;this.$TCS.addTag("red_13937_010007011002");var t=this;this.$refs.t8taudit.validate(function(n){if(n){var a=t.$refs.t8taudit.ruleForm,l={id:parseInt(e.dataSource.id),comment:a.idea,approve:parseInt(a.agree),verifyUser:parseInt(Cookie.get("t8t-tc-uid"))};t.$refs.approveToolbar.disableBySymbol("SUBMIT"),r.default.verify(l).then(function(e){t.$refs.approveToolbar.unDisableBySymbol("SUBMIT"),200==e.data.status?t.$msgbox({title:"消息",message:"提交成功",type:"success",showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain",callback:function(){window.close()}}):t.$msgbox({title:"消息",message:e.data.message||"提交失败",type:"error",showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"})}).catch(function(e){t.$refs.approveToolbar.unDisableBySymbol("SUBMIT"),t.$msgbox({title:"消息",message:"提交失败",type:"error",showCancelButton:!1,confirmButtonText:"知道了",confirmButtonClass:"is-plain"})})}})}}}},863:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(1)),i=a(n(145));t.default={getProcessDetailById:function(e){return(0,l.default)({method:i.default.SURCHARGE.methods.GETPROCESSDETAILBYID,service:i.default.SURCHARGE.name,args:e})},getDetailByProcessId:function(e){return(0,l.default)({method:i.default.SURCHARGE.methods.GETDETAILBYPROCESSID,service:i.default.SURCHARGE.name,args:e})},queryDetail:function(e){return(0,l.default)({method:i.default.SURCHARGE.methods.QUERYDETAIL,service:i.default.SURCHARGE.name,args:e})},queryPage:function(e){return(0,l.default)({method:i.default.SURCHARGE.methods.QUERYPAGE,service:i.default.SURCHARGE.name,args:e})},verify:function(e){return(0,l.default)({method:i.default.SURCHARGE.methods.VERIFY,service:i.default.SURCHARGE.name,args:e})}}},1964:function(e,t,n){var a=n(4)(n(519),n(2256),null,null);e.exports=a.exports},2256:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"t8t-detail-view"},[n("el-dialog",{staticClass:"t8t-full-dialog2 dialog-new",attrs:{size:"full"},on:{close:e.closeDialog},model:{value:e.isDialogShow,callback:function(t){e.isDialogShow=t}}},[n("div",{staticClass:"t8t-full-dialog2-container"},[n("div",{staticClass:"full-dialog-toolbar-container"},[n("div",{staticClass:"toolbar-container"},[n("t8t-toolbar",{ref:"approveToolbar",staticClass:"t8t-dark",on:{SUBMIT:e.submit,"APPROVAL-FLOW":e.flowBtn}})],1)]),e._v(" "),n("div",{staticClass:"dialog2-main-container"},[e.showAudit?n("div",{staticClass:"full-dialog-form-container"},[n("t8t-audit",{ref:"t8taudit",attrs:{auditForm:e.auditform}})],1):e._e(),e._v(" "),n("div",{staticClass:"full-dialog-form-container container-center"},[n("el-form",{ref:"mainTable",attrs:{"label-position":"right","label-width":"120px",model:e.dataSource}},[n("el-tabs",{model:{value:e.mainActiveTab,callback:function(t){e.mainActiveTab=t}}},[n("el-tab-pane",{attrs:{label:e.mainTable.label,name:e.mainTable.name}},[n("div",{directives:[{name:"loading",rawName:"v-loading.body.lock",value:e.loading,expression:"loading",modifiers:{body:!0,lock:!0}}],staticClass:"field_container"},[n("base-panel",{ref:e.mainTable.name,attrs:{dataSource:e.dataSource,fields:e.mainTable.fields,disabled:e.disabled,options:e.options||{}}})],1)])],1)],1)],1),e._v(" "),n("div",{staticClass:"full-dialog-form-container container-center"},[n("el-form",{ref:"subTable",attrs:{"label-position":"right","label-width":"120px",model:e.dataSource}},[n("el-tabs",{model:{value:e.subActiveTab,callback:function(t){e.subActiveTab=t}}},[n("el-tab-pane",{attrs:{label:e.subTable.tabs[0].label,name:e.subTable.tabs[0].name}},[n("div",{directives:[{name:"loading",rawName:"v-loading.body.lock",value:e.loading,expression:"loading",modifiers:{body:!0,lock:!0}}],staticClass:"field_container"},[n("base-panel",{ref:e.subTable.tabs[0].name,attrs:{dataSource:e.dataSource,fields:e.subTable.tabs[0].fields,disabled:e.disabled,options:e.options||{}}})],1)]),e._v(" "),n("el-tab-pane",{attrs:{label:e.subTable.tabs[1].label,name:e.subTable.tabs[1].name}},[n("div",{directives:[{name:"loading",rawName:"v-loading.body.lock",value:e.loading,expression:"loading",modifiers:{body:!0,lock:!0}}],staticClass:"field_container"},[n("base-panel",{ref:e.subTable.tabs[1].name,attrs:{dataSource:e.dataSource,fields:e.subTable.tabs[1].fields,disabled:e.disabled,options:e.options||{}}})],1)])],1)],1)],1)])])]),e._v(" "),e.isShowFlow?n("t8t-step-page",{attrs:{args:e.flowArgs,service:e.flowService,method:e.flowMethod,dataSource:e.flowData},on:{close:e.closeStepPage}}):e._e()],1)},staticRenderFns:[]}}});