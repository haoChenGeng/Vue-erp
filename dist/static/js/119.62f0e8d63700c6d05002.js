webpackJsonp([119,269],{5:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=a(n(8));t.default={allSystemCodeList:function(e){return(0,i.default)({method:o.default.CONFIGURE.methods.SYS_CODE_LIST,service:o.default.CONFIGURE.name,args:e})},listNextLevelUnforbidden:function(e){return(0,i.default)({method:o.default.CONFIGURE.methods.LIST_UNFORBIDDEN,service:o.default.CONFIGURE.name,args:e})},queryUnionParent:function(e){return(0,i.default)({method:o.default.SUPPLY_CONFIGURE.methods.queryUnionParent,service:o.default.SUPPLY_CONFIGURE.name,args:e})},queryPage:function(e){return(0,i.default)({method:o.default.SUPPLY_CONFIGURE.methods.QUERY_PAGE,service:o.default.SUPPLY_CONFIGURE.name,args:e})},queryShopUnion:function(e){return(0,i.default)({method:o.default.SUPPLY_CONFIGURE.methods.queryShopUnion,service:o.default.SUPPLY_CONFIGURE.name,args:e})},queryShop:function(e){return(0,i.default)({method:o.default.SUPPLY_CONFIGURE.methods.queryShop,service:o.default.SUPPLY_CONFIGURE.name,args:e})},queryByFunctionCode:function(e){return(0,i.default)({method:o.default.ORGANIZATION.methods.QUERY_BY_FUNCTIONCODE,service:o.default.ORGANIZATION.name,args:e})},queryAll:function(e){return(0,i.default)({method:o.default.ORGANIZATION.methods.ORG_QUERY,service:o.default.ORGANIZATION.name,args:e})},queryTreeByTypeAndFunction:function(e){return(0,i.default)({method:o.default.ORGANIZATION.methods.QUERY_TREE_FUNCTION,service:o.default.ORGANIZATION.name,args:e})},queryChildrenByWholeCode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return(0,i.default)({method:o.default.SUPPLY_CONFIGURE.methods.queryChildrenByWholeCode,service:o.default.SUPPLY_CONFIGURE.name,args:{wholeCode:e,depth:t}})},queryChildrenByWholeCodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return(0,i.default)({method:o.default.SUPPLY_CONFIGURE.methods.queryChildrenByWholeCodes,service:o.default.SUPPLY_CONFIGURE.name,args:{wholeCodes:e,depth:t}})},getAllQueue:function(){return(0,i.default)({method:o.default.EDA.methods.QUERY_QUEUE_QUERYQUEUES,service:o.default.EDA.name,args:{}})}}},8:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={CONFIGURE:{name:"OnLYil9jY0PiKilsavskNJvygGUxhME7eLPWccmGmYjb_ED",methods:{SYS_CODE_LIST:"vPnFi_QA4HeBWeU61ZjQPCn",LIST_UNFORBIDDEN:"vL0y_oFhAeDM3YTmFrp2oaHn1UDcQEzq1orWi41sEc2pVcjlpGN"}},SUPPLY_CONFIGURE:{name:"qVq5B_KUuBzTC3kyP9TiuA53IS1kiBn5fR5JVjR7fUS6nsTm4Zc",methods:{QUERY_PAGE:"Ewi6YId8aELgLHFBBSBMT4BvG3R",queryUnionParent:"5l6jR2KUJ4QdYxLFz0ZJGFy5XZkLajNNSEdLf0t",queryShopUnion:"zPrIoMCwO3geMqwnGH2Afs0w-7lpdva",queryShop:"4VE-APqV_Fs13Cswfj8",queryChildrenByWholeCode:"sDE1BauR-rhu_AU-6F9VF952lJ_JIl-r1QOnscFpFYW0GFS9p3nAG1z",queryChildrenByWholeCodes:"CEGKxWt_AJmoqBtXoGEqET64657I2n7n39qadM-E_uX2b1O8X5k8Ii2vEnj"}},ORGANIZATION:{name:"CsxicaQ7wM_3kaiMdGJQAaOa2fUF8v-",methods:{QUERY_BY_FUNCTIONCODE:"UwBgld0zWv.T_KSfK6W2_uSPCGXiv-mkEbmTNx6qeGoR_hH",ORG_QUERY:"DOiN6_9fU1yNwZE_gRuTrdwwvEg",QUERY_TREE_FUNCTION:"-DB0-GqPoWXHozK4BKUV3yMPaFmC4lppJyYYIe9k-Gk5VCj84OEe2JBi24SnYuFqXHe",ORG_QUERY_WITHOUTDEL:"9Ivp3_1e5zNZU_miVqa6YXq9Zg0sb1JBadatp4EuTiR"}},GOODS:{name:"qVq5B_KUuBzTC3kyP9TiuA53IS1kiBn5fR5JVjR7fUS6nsTm4Zc",methods:{QUERY_PAGE:"ByoqRxHfrD8M7MGSNKC-qVN",QUERY_PAGE_GOODS_UNION:"KYI9tvUKvrmrnw02TOmUAbkj27FmFOkq8nDox-O"}},EDA:{name:"806ndPAX4QHSaL8S3kOGYVWD7gJKERC",methods:{QUERY_QUEUE_QUERYQUEUES:"NJaG8pAbK6IGAM2RtOG2V_cGwPKCj8.QKtj"}}}},11:function(e,t,n){e.exports=n(7)(68)},168:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={TEMPLATE:{name:"xn8QzCUzoAE7KPVqAowQmXMFkFO90Ky",methods:{QUERY:"OXYaMmAgMN.GiKQ6zBh65_WMFugMKHiUG0UNjHg",CREATE:"5WZFIRl4MN1BOE84GdMH9BLGZXKSzSv7yzf",UPDATE:"Mtlje9-dQLYyOKXtKZVU_iS32i14AVaRJXx",SETMODULESTATUS:"JhQPZjIqYFkTZKvCrUKW8RW9jxICNdLE_vBFOdaZrs7",queryModuleQuotaionById:"kho11t8i_xooD2fZFcbqpdiJBiAsmH8vjUZ",VERSIONSHOW:"LknUMi6pHYRZXzNnqGUNTZUohEEIadi6oJ9QiORZjTOaFMQ"}},PROPERTY:{name:"8m7ufp84fb2V0f5Z0e1LiSKvI9wfWGyPcR5O8IydTmjLcK9YcKE",methods:{propertyQueryPage:"xxyFxYonI0x3Fv7Po3D98lC_z76"}}}},414:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),o=a(n(168));t.default={create:function(e){return(0,i.default)({method:o.default.TEMPLATE.methods.CREATE,service:o.default.TEMPLATE.name,args:e})},update:function(e){return(0,i.default)({method:o.default.TEMPLATE.methods.UPDATE,service:o.default.TEMPLATE.name,args:e})},setModuleStatus:function(e){return(0,i.default)({method:o.default.TEMPLATE.methods.SETMODULESTATUS,service:o.default.TEMPLATE.name,args:e})},queryModuleQuotaionById:function(e){return(0,i.default)({method:o.default.TEMPLATE.methods.queryModuleQuotaionById,service:o.default.TEMPLATE.name,args:e})},moduleItemQueryPage:function(e){return(0,i.default)({method:o.default.TEMPLATE.methods.QUERY,service:o.default.TEMPLATE.name,args:e})}}},768:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(11)),o=a(n(414)),s=a(n(6)),r=a(n(5));t.default={name:"edit",data:function(){return{labelPosition:"right",formLabelWidth:"120px",rules:{qiName:[{required:!0,whitespace:!0,message:"请填写名称",trigger:"change"}],qiUnit:[{required:!0,message:"请填写单位",trigger:"change"}],qiType:[{required:!0,message:"请选择报价项类型",trigger:"change",type:"number"}],craftDetails:[{required:!0,whitespace:!0,message:"请填写工艺详情",trigger:"change"}]},commonOptionsConfig:{qiUnit:[],qiTypes:[]},formData:{id:null,qiName:"",qiUnit:"",qiType:"",craftDetails:""},isLoading:!1}},props:["rowId","editType","title"],computed:{dialogVisible:function(){return!0},editable:function(){return"see"===this.editType}},created:function(){if(this.getCommonOptions("30002","qiUnit"),this.getCommonOptions("30005","qiTypes"),this.rowId){var e={search:{id:this.rowId}};this.loadFormData(e)}},methods:{btnOKClick:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var n=(0,i.default)({},e.formData),a=e.editType;"add"===a?(n.createUser=+s.default.get("t8t-tc-uid"),n.qiStatus=0,o.default.create({quoteItem:n}).then(function(t){200===t.data.status?(e.$message({type:"success",message:"新增成功！"}),e.btnCancleClick(),e.$emit("getTableData")):e.$message({type:"error",message:t.data.result})})):"edit"===a&&(n.updateUser=+s.default.get("t8t-tc-uid"),o.default.update({quoteItem:n}).then(function(t){200===t.data.status?(e.$message({type:"success",message:"编辑成功！"}),e.btnCancleClick(),e.$emit("getTableData")):e.$message({type:"error",message:t.data.result})}))})},getCommonOptions:function(e,t){var n=this,a={page:1,search:{pPropertyCode:e},size:100},i=[];r.default.queryUnionParent(a).then(function(e){200===e.data.status&&(e.data.result.forEach(function(e){1===e.propertyStatus&&i.push({value:e.id,text:e.propertyName})}),n.commonOptionsConfig[t]=i)})},btnCancleClick:function(){this.$refs.form.resetFields(),this.$emit("close")},loadFormData:function(e){var t=this;o.default.queryModuleQuotaionById(e).then(function(e){200===e.data.status&&(t.formData=e.data.result[0])})},myValidate:function(){alert(111)},getQuotation:function(e){this.formData.quotationIds=e}}}},769:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(76)),o=a(n(2211)),s=a(n(168)),r=a(n(414)),l=(a(n(77)),a(n(6))),u=a(n(5));t.default={name:"show",components:{EditTemplate:o.default},data:function(){return{breadcrumbData:[{title:"工模售前"},{title:"配置管理"},{title:"报价字典"}],treeData:[],treeProps:{label:"name",children:"children"},fields:[{type:"input",label:"报价项编号",name:"qiCode"},{type:"input",label:"报价项名称",name:"qiName"},{type:"select",label:"报价项状态",name:"qiStatus",selectSourceKey:"moduleStatus",filterable:!0},{type:"input",label:"工艺详情",name:"craftDetails"},{type:"select",label:"禁用状态",name:"forbiddenStatus",selectSourceKey:"forbiddenStatus",filterable:!0}],selectSource:{moduleStatus:[{text:"待启用",value:0},{text:"审核中",value:1},{text:"已驳回",value:3},{text:"已启用",value:2}],forbiddenStatus:[{text:"否",value:0},{text:"是",value:1}]},columns:[{prop:"qiCode",label:"报价项编号",width:"150"},{prop:"qiName",label:"报价项名称",width:"230"},{prop:"qiType",label:"报价项类型",width:"230",list:"qiTypes"},{prop:"qiUnit",label:"单位",width:"100"},{prop:"craftDetails",label:"工艺详情",width:"440"},{prop:"qiStatus",label:"状态",list:"qiStatus",width:"100"},{prop:"forbiddenStatus",label:"是否禁用",list:"forbiddenStatus",width:"100"}],commonData:{qiStatus:[{text:"待启用",value:0},{text:"审核中",value:1},{text:"已驳回",value:3},{text:"已启用",value:2}],forbiddenStatus:[{text:"否",value:0},{text:"是",value:1}],qiTypes:[]},service:s.default.TEMPLATE.name,method:s.default.TEMPLATE.methods.QUERY,args:{},editType:"add",dialogVisible:!1,rowId:null,dialogTitle:"",tableData:[],selectedRows:[]}},methods:{submitSearch:function(e){this.args={search:e}},onTreeClick:function(e){this.args={page:1,size:20,search:{organizeId:e.id}}},add:function(){this.dialogTitle="新增报价字典项",this.editType="add",this.dialogVisible=!0,this.rowId=null},edit:function(){var e=this.$refs.t8tTable.getSelectRows();0===e.length?this.$message.error("请选择要编辑的行！"):e.length>1?this.$message.error("只能选择一行进行编辑！"):(this.dialogTitle="编辑报价字典项",this.editType="edit",this.dialogVisible=!0,this.rowId=e[0].id)},disabled:function(){var e=this,t=this.$refs.t8tTable.getSelectRows();if(0===t.length)this.$message.error("请选择要禁用的行！");else{var n=[];for(var a in t)t[a].id&&n.push(t[a].id);0==n.length&&this.$message.error("请选择要禁用的行！"),this.$msgbox({title:"消息",message:"请确认是否禁用？",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",beforeClose:function(t,a,i){if("confirm"===t){var o={quoteItemBatch:{ids:n,forbiddenStatus:1,updateUser:+l.default.get("t8t-tc-uid")}};r.default.setModuleStatus(o).then(function(t){200===t.data.status?(e.$message({type:"success",message:"禁用成功！"}),i(),e.getTableData()):e.$message({type:"error",message:t.data.message})})}else i()}})}},editSubmit:function(){var e=this,t=this.selectedRows;if(0===t.length)this.$message.error("请选择要提交的行！");else{var n=[];for(var a in t)t[a].id&&n.push(t[a].id);0==n.length&&this.$message.error("请选择要提交的行！");var i={quoteItemBatch:{ids:n,qiStatus:2,updateUser:+l.default.get("t8t-tc-uid")}};r.default.setModuleStatus(i).then(function(t){200===t.data.status?(e.$message({type:"success",message:"提交成功！"}),e.getTableData()):e.$message({type:"error",message:t.data.message})})}},versionShow:function(){this.$router.push({path:"versionShow"})},selectionChange:function(e){this.selectedRows=e;var t=!1,n=!1;if(e.length>0)for(var a in e)2==e[a].qiStatus&&(t=!0),1==e[a].forbiddenStatus&&(n=!0);t?this.$refs.toolbar.disableBySymbol("EDIT-SUBMIT"):this.$refs.toolbar.unDisableBySymbol("EDIT-SUBMIT"),n?(this.$refs.toolbar.disableBySymbol("DISABLE"),this.$refs.toolbar.disableBySymbol("EDIT-SUBMIT"),this.$refs.toolbar.disableBySymbol("EDIT")):(this.$refs.toolbar.unDisableBySymbol("DISABLE"),this.$refs.toolbar.unDisableBySymbol("EDIT"))},getTableData:function(){this.$refs.t8tTable.reloadTable()},getCommonOptions:function(e){var t={page:1,search:{pPropertyCode:e},size:100},n=[];return new i.default(function(e,a){u.default.queryUnionParent(t).then(function(t){200===t.data.status?(t.data.result.forEach(function(e){1===e.propertyStatus&&n.push({value:e.id,text:e.propertyName})}),e(n)):a(n)})})}},created:function(){var e=this;this.getCommonOptions(30005).then(function(t){e.commonData.qiTypes=t}).catch(function(e){})}}},1184:function(e,t,n){(e.exports=n(2)()).push([e.id,"\n.pay-dialog .el-dialog{\n    /*width: 450px;*/\n}\n.el-select-dropdown__wrap {\n    max-height: 185px !important;\n}\n.pay-dialog .el-form-item__content {\n    width: 400px;\n}\n.pay-dialog .el-select {\n    width: 100%;\n}\n",""])},1185:function(e,t,n){(e.exports=n(2)()).push([e.id,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},1207:function(e,t,n){(e.exports=n(2)()).push([e.id,"\n.table-container {\n    -ms-flex: 1;\n        flex: 1;\n    overflow: auto;\n    margin-left: -1px;\n}\n.quoteconfig .g-main-container{\n\n    display: -ms-flexbox;\n\n    display: flex;\n    -ms-flex-direction: column;\n        flex-direction: column;\n}\n",""])},1630:function(e,t,n){var a=n(1184);"string"==typeof a&&(a=[[e.id,a,""]]);n(3)(a,{});a.locals&&(e.exports=a.locals)},1631:function(e,t,n){var a=n(1185);"string"==typeof a&&(a=[[e.id,a,""]]);n(3)(a,{});a.locals&&(e.exports=a.locals)},1653:function(e,t,n){var a=n(1207);"string"==typeof a&&(a=[[e.id,a,""]]);n(3)(a,{});a.locals&&(e.exports=a.locals)},2211:function(e,t,n){n(1631),n(1630);var a=n(4)(n(768),n(2440),"data-v-576488f8",null);e.exports=a.exports},2212:function(e,t,n){n(1653);var a=n(4)(n(769),n(2459),null,null);e.exports=a.exports},2440:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-dialog",{staticClass:"pay-dialog g-w-640",attrs:{title:e.title},on:{close:function(t){e.btnCancleClick()}},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t}}},[n("el-form",{ref:"form",attrs:{"label-position":e.labelPosition,model:e.formData,rules:e.rules,"label-width":e.formLabelWidth},on:{validate:e.myValidate},nativeOn:{keyup:function(t){if(e._k(t.keyCode,"enter",13))return null;e.btnOKClick()}}},[n("el-form-item",{attrs:{label:"报价项名称：",prop:"qiName"}},[n("el-input",{attrs:{maxlength:"50",minlength:"1"},model:{value:e.formData.qiName,callback:function(t){e.formData.qiName=t}}})],1),e._v(" "),n("el-form-item",{attrs:{label:"单位：",prop:"qiUnit"}},[n("el-select",{attrs:{placeholder:"--请选择--",disabled:e.editable},model:{value:e.formData.qiUnit,callback:function(t){e.formData.qiUnit=t}}},e._l(e.commonOptionsConfig.qiUnit,function(e){return n("el-option",{attrs:{label:e.text,value:e.text}})}))],1),e._v(" "),n("el-form-item",{attrs:{label:"报价项类型：",prop:"qiType"}},[n("el-select",{attrs:{placeholder:"--请选择--",disabled:e.editable},model:{value:e.formData.qiType,callback:function(t){e.formData.qiType=t}}},e._l(e.commonOptionsConfig.qiTypes,function(e){return n("el-option",{attrs:{label:e.text,value:e.value}})}))],1),e._v(" "),n("el-form-item",{attrs:{label:"工艺详情",prop:"craftDetails"}},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:10,maxRows:15},placeholder:"请输入内容",maxlength:"300",minlength:"1"},model:{value:e.formData.craftDetails,callback:function(t){e.formData.craftDetails=t}}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",slot:"footer"},[n("el-button",{attrs:{type:"primary",loading:e.isLoading},on:{click:function(t){e.btnOKClick()}}},[e._v("确定")]),e._v(" "),n("el-button",{on:{click:function(t){e.btnCancleClick()}}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]}},2459:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"quoteconfig"},[n("t8t-breadcrumb",{attrs:{data:e.breadcrumbData}}),e._v(" "),n("t8t-search",{attrs:{fields:e.fields,selectSource:e.selectSource},on:{submit:e.submitSearch}}),e._v(" "),n("div",{staticClass:"g-main-container"},[n("t8t-toolbar",{ref:"toolbar",on:{"EDIT-SUBMIT":e.editSubmit,DISABLE:e.disabled,ADD:e.add,EDIT:e.edit,"VERSION-SHOW":e.versionShow}}),e._v(" "),n("t8t-table",{ref:"t8tTable",attrs:{columns:e.columns,service:e.service,method:e.method,args:e.args,pageBar:!0,commonData:e.commonData},on:{"selection-change":e.selectionChange},scopedSlots:e._u([["id",function(t){return[n("a",{attrs:{href:"javascript:;"},on:{click:function(n){e.showDetail(t.row.id,t.row.name)}}},[e._v(e._s(t.row.id))])]}]])})],1),e._v(" "),e.dialogVisible?n("edit-template",{attrs:{rowId:e.rowId,editType:e.editType,title:e.dialogTitle},on:{close:function(t){e.dialogVisible=!1},getTableData:e.getTableData}}):e._e()],1)},staticRenderFns:[]}}});